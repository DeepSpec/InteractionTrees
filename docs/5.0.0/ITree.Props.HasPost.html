<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://github.com/DeepSpec/InteractionTrees">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">ITree.Props.HasPost</h1>

<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab121"></a><h1 class="section">Unary interpretation for <span class="inlinecode"><a class="idref" href="ITree.Eq.Eqit.html#eutt"><span class="id" title="definition">eutt</span></a></span>: a traditional program logic</h1>


<div class="paragraph"> </div>

  The weak bisimulation supported by <span class="inlinecode"><a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a></span>s and the notions of
  refinements we build upon it in the various monads we interpret into
  give us reasoning principles to establish the equivalence or refinement
  of computations.
  In particular, it can be seen as a relational program logic.

<div class="paragraph"> </div>

  We develop here some elementary theory for a unary program logic
  over itree-based computations.
  It is defined in terms of <span class="inlinecode"><a class="idref" href="ITree.Eq.Eqit.html#eutt"><span class="id" title="definition">eutt</span></a></span>, simply taking its diagonal.
  We prove that it respects the expected elemntary proof rules
  w.r.t. to logical connectors.

<div class="paragraph"> </div>

  Most importantly, we derive a proof rule to leverage such unary
  facts during a relational refinement proof: see <span class="inlinecode"><a class="idref" href="ITree.Props.HasPost.html#eutt_post_bind"><span class="id" title="lemma">eutt_post_bind</span></a></span>
  and <span class="inlinecode"><span class="id" title="var">eutt_post_bind_gen</span></span>.
  One can this way leverage functional properties of computations
  during relational proofs without re-inlining the proof of
  functional correctness everytime.

<div class="paragraph"> </div>


<div class="paragraph"> </div>

 The main predicate: an itree-computation <span class="inlinecode"><a class="idref" href="ITree.Extra.IForest.html#BIND_BIND_COUNTEREXAMPLE.t"><span class="id" title="definition">t</span></a></span> admits <span class="inlinecode"><span class="id" title="var">Q</span></span> for
    a postcondition.
    Defined as the diagonal of <span class="inlinecode"><a class="idref" href="ITree.Eq.Eqit.html#eutt"><span class="id" title="definition">eutt</span></a></span>.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="has_post" class="idref" href="#has_post"><span class="id" title="definition">has_post</span></a> {<a id="E:1" class="idref" href="#E:1"><span class="id" title="binder">E</span></a> <a id="X:2" class="idref" href="#X:2"><span class="id" title="binder">X</span></a>} (<a id="t:3" class="idref" href="#t:3"><span class="id" title="binder">t</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.HasPost.html#E:1"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.HasPost.html#X:2"><span class="id" title="variable">X</span></a>) (<a id="Q:4" class="idref" href="#Q:4"><span class="id" title="binder">Q</span></a> : <a class="idref" href="ITree.Props.HasPost.html#X:2"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eqit.html#eutt"><span class="id" title="definition">eutt</span></a> (<span class="id" title="keyword">fun</span> '<a id="x:6" class="idref" href="#x:6"><span class="id" title="binder">x</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="ITree.Props.HasPost.html#Q:4"><span class="id" title="variable">Q</span></a> <a class="idref" href="ITree.Props.HasPost.html#x:5"><span class="id" title="variable">x</span></a>) <a class="idref" href="ITree.Props.HasPost.html#t:3"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Props.HasPost.html#t:3"><span class="id" title="variable">t</span></a>.<br/>

<br/>
</div>

<div class="doc">
Note: the following formulation is equivalent. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="has_post_strong" class="idref" href="#has_post_strong"><span class="id" title="definition">has_post_strong</span></a> {<a id="E:7" class="idref" href="#E:7"><span class="id" title="binder">E</span></a> <a id="X:8" class="idref" href="#X:8"><span class="id" title="binder">X</span></a>} (<a id="t:9" class="idref" href="#t:9"><span class="id" title="binder">t</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.HasPost.html#E:7"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.HasPost.html#X:8"><span class="id" title="variable">X</span></a>) (<a id="Q:10" class="idref" href="#Q:10"><span class="id" title="binder">Q</span></a> : <a class="idref" href="ITree.Props.HasPost.html#X:8"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eqit.html#eutt"><span class="id" title="definition">eutt</span></a> (<span class="id" title="keyword">fun</span> '<a id="x:12" class="idref" href="#x:12"><span class="id" title="binder">x</span></a> <a id="y:13" class="idref" href="#y:13"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="ITree.Props.HasPost.html#x:11"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ITree.Props.HasPost.html#y:13"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="ITree.Props.HasPost.html#Q:10"><span class="id" title="variable">Q</span></a> <a class="idref" href="ITree.Props.HasPost.html#x:11"><span class="id" title="variable">x</span></a>) <a class="idref" href="ITree.Props.HasPost.html#t:9"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Props.HasPost.html#t:9"><span class="id" title="variable">t</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="has_post_post_strong" class="idref" href="#has_post_post_strong"><span class="id" title="lemma">has_post_post_strong</span></a> : <span class="id" title="keyword">∀</span> {<a id="E:14" class="idref" href="#E:14"><span class="id" title="binder">E</span></a> <a id="X:15" class="idref" href="#X:15"><span class="id" title="binder">X</span></a>} (<a id="t:16" class="idref" href="#t:16"><span class="id" title="binder">t</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.HasPost.html#E:14"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.HasPost.html#X:15"><span class="id" title="variable">X</span></a>) <a id="Q:17" class="idref" href="#Q:17"><span class="id" title="binder">Q</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Props.HasPost.html#has_post"><span class="id" title="definition">has_post</span></a> <a class="idref" href="ITree.Props.HasPost.html#t:16"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Props.HasPost.html#Q:17"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="ITree.Props.HasPost.html#has_post_strong"><span class="id" title="definition">has_post_strong</span></a> <a class="idref" href="ITree.Props.HasPost.html#t:16"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Props.HasPost.html#Q:17"><span class="id" title="variable">Q</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.UpToTaus.html#eutt_conj"><span class="id" title="lemma">eutt_conj</span></a>; [<span class="id" title="tactic">reflexivity</span> | <span class="id" title="tactic">auto</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eqit.html#eqit_mon"><span class="id" title="lemma">eqit_mon</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="HasPostNotations" class="idref" href="#HasPostNotations"><span class="id" title="module">HasPostNotations</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="7d41975f9b74a75e0060d8f3ad05edb4" class="idref" href="#7d41975f9b74a75e0060d8f3ad05edb4"><span class="id" title="notation">&quot;</span></a>t ⤳ Q" := (<a class="idref" href="ITree.Props.HasPost.html#has_post"><span class="id" title="definition">has_post</span></a> <span class="id" title="var">t</span> <span class="id" title="var">Q</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50).<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ITree.Props.HasPost.html#HasPostNotations"><span class="id" title="module">HasPostNotations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="ITree.Props.HasPost.html#HasPostNotations"><span class="id" title="module">HasPostNotations</span></a>.<br/>

<br/>
</div>

<div class="doc">
Proper instances 
</div>
<div class="code">
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="has_post_eq_itree" class="idref" href="#has_post_eq_itree"><span class="id" title="instance">has_post_eq_itree</span></a> {<a id="E:18" class="idref" href="#E:18"><span class="id" title="binder">E</span></a> <a id="X:19" class="idref" href="#X:19"><span class="id" title="binder">X</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="ITree.Eq.Eqit.html#eq_itree"><span class="id" title="definition">eq_itree</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="ITree.Basics.Basics.html#equiv_pred"><span class="id" title="definition">equiv_pred</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) (@<a class="idref" href="ITree.Props.HasPost.html#has_post"><span class="id" title="definition">has_post</span></a> <a class="idref" href="ITree.Props.HasPost.html#E:18"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.HasPost.html#X:19"><span class="id" title="variable">X</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Props.HasPost.html#has_post"><span class="id" title="definition">has_post</span></a>; <span class="id" title="tactic">intros</span> × <span class="id" title="var">EUTT</span> × <span class="id" title="var">EQ</span> *; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EUTT</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.UpToTaus.html#eutt_equiv"><span class="id" title="lemma">eutt_equiv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">EQ</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">EUTT</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.UpToTaus.html#eutt_equiv"><span class="id" title="lemma">eutt_equiv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">EQ</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="has_post_eutt" class="idref" href="#has_post_eutt"><span class="id" title="instance">has_post_eutt</span></a> {<a id="E:20" class="idref" href="#E:20"><span class="id" title="binder">E</span></a> <a id="X:21" class="idref" href="#X:21"><span class="id" title="binder">X</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="ITree.Eq.Eqit.html#eutt"><span class="id" title="definition">eutt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="ITree.Basics.Basics.html#equiv_pred"><span class="id" title="definition">equiv_pred</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) (@<a class="idref" href="ITree.Props.HasPost.html#has_post"><span class="id" title="definition">has_post</span></a> <a class="idref" href="ITree.Props.HasPost.html#E:20"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.HasPost.html#X:21"><span class="id" title="variable">X</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Props.HasPost.html#has_post"><span class="id" title="definition">has_post</span></a>; <span class="id" title="tactic">intros</span> × <span class="id" title="var">EUTT</span> × <span class="id" title="var">EQ</span> *; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EUTT</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.UpToTaus.html#eutt_equiv"><span class="id" title="lemma">eutt_equiv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">EQ</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">EUTT</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.UpToTaus.html#eutt_equiv"><span class="id" title="lemma">eutt_equiv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">EQ</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="ITree.Props.HasPost.html#has_post"><span class="id" title="definition">has_post</span></a></span> logical primitives.
    Post-conditions can be established by means of usual proof
    rules for elementary logical connectives
 
</div>
<div class="code">

<br/>
<span class="comment">(*&nbsp;Conjunction&nbsp;introduction&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="has_post_conj" class="idref" href="#has_post_conj"><span class="id" title="lemma">has_post_conj</span></a> : <span class="id" title="keyword">∀</span> {<a id="E:22" class="idref" href="#E:22"><span class="id" title="binder">E</span></a> <a id="X:23" class="idref" href="#X:23"><span class="id" title="binder">X</span></a>} (<a id="t:24" class="idref" href="#t:24"><span class="id" title="binder">t</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.HasPost.html#E:22"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.HasPost.html#X:23"><span class="id" title="variable">X</span></a>) <a id="P:25" class="idref" href="#P:25"><span class="id" title="binder">P</span></a> <a id="Q:26" class="idref" href="#Q:26"><span class="id" title="binder">Q</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Props.HasPost.html#t:24"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Props.HasPost.html#7d41975f9b74a75e0060d8f3ad05edb4"><span class="id" title="notation">⤳</span></a> <a class="idref" href="ITree.Props.HasPost.html#P:25"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Props.HasPost.html#t:24"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Props.HasPost.html#7d41975f9b74a75e0060d8f3ad05edb4"><span class="id" title="notation">⤳</span></a> <a class="idref" href="ITree.Props.HasPost.html#Q:26"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Props.HasPost.html#t:24"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Props.HasPost.html#7d41975f9b74a75e0060d8f3ad05edb4"><span class="id" title="notation">⤳</span></a> <a class="idref" href="ITree.Props.HasPost.html#7d41975f9b74a75e0060d8f3ad05edb4"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Props.HasPost.html#P:25"><span class="id" title="variable">P</span></a> <span class="id" title="notation">/1\</span> <a class="idref" href="ITree.Props.HasPost.html#Q:26"><span class="id" title="variable">Q</span></a><a class="idref" href="ITree.Props.HasPost.html#7d41975f9b74a75e0060d8f3ad05edb4"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × <span class="id" title="var">HP</span> <span class="id" title="var">HQ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="ITree.Eq.UpToTaus.html#eutt_conj"><span class="id" title="lemma">eutt_conj</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HP</span> <span class="id" title="var">HQ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Left&nbsp;disjunction&nbsp;introduction&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="has_post_disj_l" class="idref" href="#has_post_disj_l"><span class="id" title="lemma">has_post_disj_l</span></a> : <span class="id" title="keyword">∀</span> {<a id="E:27" class="idref" href="#E:27"><span class="id" title="binder">E</span></a> <a id="X:28" class="idref" href="#X:28"><span class="id" title="binder">X</span></a>} (<a id="t:29" class="idref" href="#t:29"><span class="id" title="binder">t</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.HasPost.html#E:27"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.HasPost.html#X:28"><span class="id" title="variable">X</span></a>) <a id="P:30" class="idref" href="#P:30"><span class="id" title="binder">P</span></a> <a id="Q:31" class="idref" href="#Q:31"><span class="id" title="binder">Q</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Props.HasPost.html#t:29"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Props.HasPost.html#7d41975f9b74a75e0060d8f3ad05edb4"><span class="id" title="notation">⤳</span></a> <a class="idref" href="ITree.Props.HasPost.html#P:30"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Props.HasPost.html#t:29"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Props.HasPost.html#7d41975f9b74a75e0060d8f3ad05edb4"><span class="id" title="notation">⤳</span></a> <a class="idref" href="ITree.Props.HasPost.html#7d41975f9b74a75e0060d8f3ad05edb4"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Props.HasPost.html#P:30"><span class="id" title="variable">P</span></a> <span class="id" title="notation">\1/</span> <a class="idref" href="ITree.Props.HasPost.html#Q:31"><span class="id" title="variable">Q</span></a><a class="idref" href="ITree.Props.HasPost.html#7d41975f9b74a75e0060d8f3ad05edb4"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> <a class="idref" href="ITree.Eq.UpToTaus.html#eutt_disj_l"><span class="id" title="lemma">eutt_disj_l</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HP</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Right&nbsp;disjunction&nbsp;introduction&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="has_post_disj_r" class="idref" href="#has_post_disj_r"><span class="id" title="lemma">has_post_disj_r</span></a> : <span class="id" title="keyword">∀</span> {<a id="E:32" class="idref" href="#E:32"><span class="id" title="binder">E</span></a> <a id="X:33" class="idref" href="#X:33"><span class="id" title="binder">X</span></a>} (<a id="t:34" class="idref" href="#t:34"><span class="id" title="binder">t</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.HasPost.html#E:32"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.HasPost.html#X:33"><span class="id" title="variable">X</span></a>) <a id="P:35" class="idref" href="#P:35"><span class="id" title="binder">P</span></a> <a id="Q:36" class="idref" href="#Q:36"><span class="id" title="binder">Q</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Props.HasPost.html#t:34"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Props.HasPost.html#7d41975f9b74a75e0060d8f3ad05edb4"><span class="id" title="notation">⤳</span></a> <a class="idref" href="ITree.Props.HasPost.html#Q:36"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Props.HasPost.html#t:34"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Props.HasPost.html#7d41975f9b74a75e0060d8f3ad05edb4"><span class="id" title="notation">⤳</span></a> <a class="idref" href="ITree.Props.HasPost.html#7d41975f9b74a75e0060d8f3ad05edb4"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Props.HasPost.html#P:35"><span class="id" title="variable">P</span></a> <span class="id" title="notation">\1/</span> <a class="idref" href="ITree.Props.HasPost.html#Q:36"><span class="id" title="variable">Q</span></a><a class="idref" href="ITree.Props.HasPost.html#7d41975f9b74a75e0060d8f3ad05edb4"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × <span class="id" title="var">HQ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> <a class="idref" href="ITree.Eq.UpToTaus.html#eutt_disj_r"><span class="id" title="lemma">eutt_disj_r</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HQ</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Weakening&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="has_post_weaken" class="idref" href="#has_post_weaken"><span class="id" title="lemma">has_post_weaken</span></a> : <span class="id" title="keyword">∀</span> {<a id="E:37" class="idref" href="#E:37"><span class="id" title="binder">E</span></a> <a id="X:38" class="idref" href="#X:38"><span class="id" title="binder">X</span></a>} (<a id="t:39" class="idref" href="#t:39"><span class="id" title="binder">t</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.HasPost.html#E:37"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.HasPost.html#X:38"><span class="id" title="variable">X</span></a>) <a id="P:40" class="idref" href="#P:40"><span class="id" title="binder">P</span></a> <a id="Q:41" class="idref" href="#Q:41"><span class="id" title="binder">Q</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Props.HasPost.html#t:39"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Props.HasPost.html#7d41975f9b74a75e0060d8f3ad05edb4"><span class="id" title="notation">⤳</span></a> <a class="idref" href="ITree.Props.HasPost.html#P:40"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Props.HasPost.html#P:40"><span class="id" title="variable">P</span></a> <span class="id" title="notation">&lt;1=</span> <a class="idref" href="ITree.Props.HasPost.html#Q:41"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Props.HasPost.html#t:39"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Props.HasPost.html#7d41975f9b74a75e0060d8f3ad05edb4"><span class="id" title="notation">⤳</span></a> <a class="idref" href="ITree.Props.HasPost.html#Q:41"><span class="id" title="variable">Q</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × <span class="id" title="var">HP</span> <span class="id" title="var">INCL</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eqit.html#eqit_mon"><span class="id" title="lemma">eqit_mon</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">INCL</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Trivial&nbsp;postcondition&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="has_post_True" class="idref" href="#has_post_True"><span class="id" title="lemma">has_post_True</span></a> : <span class="id" title="keyword">∀</span> {<a id="E:42" class="idref" href="#E:42"><span class="id" title="binder">E</span></a> <a id="X:43" class="idref" href="#X:43"><span class="id" title="binder">X</span></a>} (<a id="t:44" class="idref" href="#t:44"><span class="id" title="binder">t</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.HasPost.html#E:42"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.HasPost.html#X:43"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Props.HasPost.html#t:44"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Props.HasPost.html#7d41975f9b74a75e0060d8f3ad05edb4"><span class="id" title="notation">⤳</span></a> <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eqit.html#eqit_mon"><span class="id" title="lemma">eqit_mon</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Structural proof rules 
</div>
<div class="code">

<br/>
<span class="comment">(*&nbsp;The&nbsp;prefix&nbsp;can&nbsp;be&nbsp;ignored&nbsp;if&nbsp;the&nbsp;continuation&nbsp;universally&nbsp;satisfy&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;&nbsp;postcondition&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="has_post_bind_weak" class="idref" href="#has_post_bind_weak"><span class="id" title="lemma">has_post_bind_weak</span></a> : <span class="id" title="keyword">∀</span> {<a id="E:45" class="idref" href="#E:45"><span class="id" title="binder">E</span></a> <a id="X:46" class="idref" href="#X:46"><span class="id" title="binder">X</span></a> <a id="Y:47" class="idref" href="#Y:47"><span class="id" title="binder">Y</span></a>} (<a id="t:48" class="idref" href="#t:48"><span class="id" title="binder">t</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.HasPost.html#E:45"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.HasPost.html#X:46"><span class="id" title="variable">X</span></a>) (<a id="k:49" class="idref" href="#k:49"><span class="id" title="binder">k</span></a> : <a class="idref" href="ITree.Props.HasPost.html#X:46"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.HasPost.html#E:45"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.HasPost.html#Y:47"><span class="id" title="variable">Y</span></a>) <a id="Q:50" class="idref" href="#Q:50"><span class="id" title="binder">Q</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:51" class="idref" href="#x:51"><span class="id" title="binder">x</span></a>, <a class="idref" href="ITree.Props.HasPost.html#k:49"><span class="id" title="variable">k</span></a> <a class="idref" href="ITree.Props.HasPost.html#x:51"><span class="id" title="variable">x</span></a> <a class="idref" href="ITree.Props.HasPost.html#7d41975f9b74a75e0060d8f3ad05edb4"><span class="id" title="notation">⤳</span></a> <a class="idref" href="ITree.Props.HasPost.html#Q:50"><span class="id" title="variable">Q</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.bind"><span class="id" title="definition">ITree.bind</span></a> <a class="idref" href="ITree.Props.HasPost.html#t:48"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Props.HasPost.html#k:49"><span class="id" title="variable">k</span></a> <a class="idref" href="ITree.Props.HasPost.html#7d41975f9b74a75e0060d8f3ad05edb4"><span class="id" title="notation">⤳</span></a> <a class="idref" href="ITree.Props.HasPost.html#Q:50"><span class="id" title="variable">Q</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × <span class="id" title="var">POST</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.UpToTaus.html#eutt_eq_bind"><span class="id" title="lemma">eutt_eq_bind</span></a>; <span class="id" title="tactic">intros</span> ?; <span class="id" title="tactic">apply</span> <span class="id" title="var">POST</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;But&nbsp;the&nbsp;more&nbsp;interesting&nbsp;cut&nbsp;rule&nbsp;is&nbsp;of&nbsp;course&nbsp;valid&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="has_post_bind" class="idref" href="#has_post_bind"><span class="id" title="lemma">has_post_bind</span></a> : <span class="id" title="keyword">∀</span> {<a id="E:52" class="idref" href="#E:52"><span class="id" title="binder">E</span></a> <a id="X:53" class="idref" href="#X:53"><span class="id" title="binder">X</span></a> <a id="Y:54" class="idref" href="#Y:54"><span class="id" title="binder">Y</span></a>} (<a id="t:55" class="idref" href="#t:55"><span class="id" title="binder">t</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.HasPost.html#E:52"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.HasPost.html#X:53"><span class="id" title="variable">X</span></a>) (<a id="k:56" class="idref" href="#k:56"><span class="id" title="binder">k</span></a> : <a class="idref" href="ITree.Props.HasPost.html#X:53"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.HasPost.html#E:52"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.HasPost.html#Y:54"><span class="id" title="variable">Y</span></a>) <a id="S:57" class="idref" href="#S:57"><span class="id" title="binder">S</span></a> <a id="Q:58" class="idref" href="#Q:58"><span class="id" title="binder">Q</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Props.HasPost.html#t:55"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Props.HasPost.html#7d41975f9b74a75e0060d8f3ad05edb4"><span class="id" title="notation">⤳</span></a> <a class="idref" href="ITree.Props.HasPost.html#S:57"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:59" class="idref" href="#x:59"><span class="id" title="binder">x</span></a>, <a class="idref" href="ITree.Props.HasPost.html#S:57"><span class="id" title="variable">S</span></a> <a class="idref" href="ITree.Props.HasPost.html#x:59"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Props.HasPost.html#k:56"><span class="id" title="variable">k</span></a> <a class="idref" href="ITree.Props.HasPost.html#x:59"><span class="id" title="variable">x</span></a> <a class="idref" href="ITree.Props.HasPost.html#7d41975f9b74a75e0060d8f3ad05edb4"><span class="id" title="notation">⤳</span></a> <a class="idref" href="ITree.Props.HasPost.html#Q:58"><span class="id" title="variable">Q</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.bind"><span class="id" title="definition">ITree.bind</span></a> <a class="idref" href="ITree.Props.HasPost.html#t:55"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Props.HasPost.html#k:56"><span class="id" title="variable">k</span></a> <a class="idref" href="ITree.Props.HasPost.html#7d41975f9b74a75e0060d8f3ad05edb4"><span class="id" title="notation">⤳</span></a> <a class="idref" href="ITree.Props.HasPost.html#Q:58"><span class="id" title="variable">Q</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × <span class="id" title="var">POST1</span> <span class="id" title="var">POST2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eqit.html#eutt_clo_bind"><span class="id" title="lemma">eutt_clo_bind</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">UU</span> := <span class="id" title="keyword">fun</span> <a id="x:62" class="idref" href="#x:62"><span class="id" title="binder">x</span></a> <a id="y:63" class="idref" href="#y:63"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="ITree.Props.HasPost.html#x:60"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ITree.Props.HasPost.html#y:61"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <span class="id" title="var">S</span> <a class="idref" href="ITree.Props.HasPost.html#x:60"><span class="id" title="variable">x</span></a>) ; [<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Props.HasPost.html#has_post_post_strong"><span class="id" title="lemma">has_post_post_strong</span></a>; <span class="id" title="tactic">exact</span> <span class="id" title="var">POST1</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? [&lt;- ?]; <span class="id" title="tactic">eapply</span> <span class="id" title="var">POST2</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Invariant-based&nbsp;loop&nbsp;rule&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="has_post_iter_strong" class="idref" href="#has_post_iter_strong"><span class="id" title="lemma">has_post_iter_strong</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="E:64" class="idref" href="#E:64"><span class="id" title="binder">E</span></a> <a id="R:65" class="idref" href="#R:65"><span class="id" title="binder">R</span></a> <a id="I:66" class="idref" href="#I:66"><span class="id" title="binder">I</span></a>} (<a id="body:67" class="idref" href="#body:67"><span class="id" title="binder">body</span></a> : <a class="idref" href="ITree.Props.HasPost.html#I:66"><span class="id" title="variable">I</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.HasPost.html#E:64"><span class="id" title="variable">E</span></a> (<a class="idref" href="ITree.Props.HasPost.html#I:66"><span class="id" title="variable">I</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Props.HasPost.html#R:65"><span class="id" title="variable">R</span></a>)) (<a id="entry:68" class="idref" href="#entry:68"><span class="id" title="binder">entry</span></a> : <a class="idref" href="ITree.Props.HasPost.html#I:66"><span class="id" title="variable">I</span></a>) (<a id="Inv:69" class="idref" href="#Inv:69"><span class="id" title="binder">Inv</span></a> : <a class="idref" href="ITree.Props.HasPost.html#I:66"><span class="id" title="variable">I</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<a id="Q:70" class="idref" href="#Q:70"><span class="id" title="binder">Q</span></a> : <a class="idref" href="ITree.Props.HasPost.html#R:65"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:71" class="idref" href="#i:71"><span class="id" title="binder">i</span></a>, <a class="idref" href="ITree.Props.HasPost.html#Inv:69"><span class="id" title="variable">Inv</span></a> <a class="idref" href="ITree.Props.HasPost.html#i:71"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Props.HasPost.html#body:67"><span class="id" title="variable">body</span></a> <a class="idref" href="ITree.Props.HasPost.html#i:71"><span class="id" title="variable">i</span></a> <a class="idref" href="ITree.Props.HasPost.html#7d41975f9b74a75e0060d8f3ad05edb4"><span class="id" title="notation">⤳</span></a> <a class="idref" href="ITree.Basics.Basics.html#sum_pred"><span class="id" title="definition">sum_pred</span></a> <a class="idref" href="ITree.Props.HasPost.html#Inv:69"><span class="id" title="variable">Inv</span></a> <a class="idref" href="ITree.Props.HasPost.html#Q:70"><span class="id" title="variable">Q</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Props.HasPost.html#Inv:69"><span class="id" title="variable">Inv</span></a> <a class="idref" href="ITree.Props.HasPost.html#entry:68"><span class="id" title="variable">entry</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.iter"><span class="id" title="definition">ITree.iter</span></a> <a class="idref" href="ITree.Props.HasPost.html#body:67"><span class="id" title="variable">body</span></a> <a class="idref" href="ITree.Props.HasPost.html#entry:68"><span class="id" title="variable">entry</span></a> <a class="idref" href="ITree.Props.HasPost.html#7d41975f9b74a75e0060d8f3ad05edb4"><span class="id" title="notation">⤳</span></a> <a class="idref" href="ITree.Props.HasPost.html#Q:70"><span class="id" title="variable">Q</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × <span class="id" title="var">IND</span> <span class="id" title="var">INIT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (@<a class="idref" href="ITree.Core.KTreeFacts.html#eutt_iter_gen"><span class="id" title="definition">KTreeFacts.eutt_iter_gen</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="x:74" class="idref" href="#x:74"><span class="id" title="binder">x</span></a> <a id="y:75" class="idref" href="#y:75"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="ITree.Props.HasPost.html#x:72"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ITree.Props.HasPost.html#y:73"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <span class="id" title="var">Inv</span> <a class="idref" href="ITree.Props.HasPost.html#x:72"><span class="id" title="variable">x</span></a>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> ? [&lt;- ?].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IND</span> <span class="id" title="var">i</span>); <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Props.HasPost.html#has_post_post_strong"><span class="id" title="lemma">has_post_post_strong</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IND</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Props.HasPost.html#has_post_strong"><span class="id" title="definition">has_post_strong</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IND</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eqit.html#eqit_mon"><span class="id" title="lemma">eqit_mon</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IND</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [] ? [&lt;- ?]; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" title="var">translate</span></span>&nbsp;preserves&nbsp;postconditions&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="has_post_translate" class="idref" href="#has_post_translate"><span class="id" title="lemma">has_post_translate</span></a> : <span class="id" title="keyword">∀</span> {<a id="E:76" class="idref" href="#E:76"><span class="id" title="binder">E</span></a> <a id="F:77" class="idref" href="#F:77"><span class="id" title="binder">F</span></a> <a id="X:78" class="idref" href="#X:78"><span class="id" title="binder">X</span></a>} (<a id="t:79" class="idref" href="#t:79"><span class="id" title="binder">t</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.HasPost.html#E:76"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.HasPost.html#X:78"><span class="id" title="variable">X</span></a>) <a id="Q:80" class="idref" href="#Q:80"><span class="id" title="binder">Q</span></a> (<a id="h:81" class="idref" href="#h:81"><span class="id" title="binder">h</span></a> : <a class="idref" href="ITree.Props.HasPost.html#E:76"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Basics.Basics.html#f7397da22bdab7f77b06c5d98764e7b9"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ITree.Props.HasPost.html#F:77"><span class="id" title="variable">F</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Props.HasPost.html#t:79"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Props.HasPost.html#7d41975f9b74a75e0060d8f3ad05edb4"><span class="id" title="notation">⤳</span></a> <a class="idref" href="ITree.Props.HasPost.html#Q:80"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Interp.Interp.html#translate"><span class="id" title="definition">translate</span></a> <a class="idref" href="ITree.Props.HasPost.html#h:81"><span class="id" title="variable">h</span></a> <a class="idref" href="ITree.Props.HasPost.html#t:79"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Props.HasPost.html#7d41975f9b74a75e0060d8f3ad05edb4"><span class="id" title="notation">⤳</span></a> <a class="idref" href="ITree.Props.HasPost.html#Q:80"><span class="id" title="variable">Q</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Props.HasPost.html#has_post"><span class="id" title="definition">has_post</span></a>; <span class="id" title="tactic">intros</span> × <span class="id" title="var">POST</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Interp.TranslateFacts.html#eutt_translate_gen"><span class="id" title="lemma">eutt_translate_gen</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Enriched relational cut rule
    The main benefit of the approach: post-conditions can be leveraged
    when performing a cut during relational proofs.
    This lemma generalizes <span class="inlinecode"><a class="idref" href="ITree.Eq.Eqit.html#eutt_clo_bind"><span class="id" title="lemma">eutt_clo_bind</span></a></span>
 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="eutt_post_bind" class="idref" href="#eutt_post_bind"><span class="id" title="lemma">eutt_post_bind</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="E:82" class="idref" href="#E:82"><span class="id" title="binder">E</span></a> <a id="R1:83" class="idref" href="#R1:83"><span class="id" title="binder">R1</span></a> <a id="R2:84" class="idref" href="#R2:84"><span class="id" title="binder">R2</span></a> <a id="RR:85" class="idref" href="#RR:85"><span class="id" title="binder">RR</span></a> <a id="S1:86" class="idref" href="#S1:86"><span class="id" title="binder">S1</span></a> <a id="S2:87" class="idref" href="#S2:87"><span class="id" title="binder">S2</span></a> <a id="SS:88" class="idref" href="#SS:88"><span class="id" title="binder">SS</span></a> <a id="Q1:89" class="idref" href="#Q1:89"><span class="id" title="binder">Q1</span></a> <a id="Q2:90" class="idref" href="#Q2:90"><span class="id" title="binder">Q2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="t1:91" class="idref" href="#t1:91"><span class="id" title="binder">t1</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.HasPost.html#E:82"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.HasPost.html#S1:86"><span class="id" title="variable">S1</span></a>) (<a id="k1:92" class="idref" href="#k1:92"><span class="id" title="binder">k1</span></a>: <a class="idref" href="ITree.Props.HasPost.html#S1:86"><span class="id" title="variable">S1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.HasPost.html#E:82"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.HasPost.html#R1:83"><span class="id" title="variable">R1</span></a>) (<a id="t2:93" class="idref" href="#t2:93"><span class="id" title="binder">t2</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.HasPost.html#E:82"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.HasPost.html#S2:87"><span class="id" title="variable">S2</span></a>) (<a id="k2:94" class="idref" href="#k2:94"><span class="id" title="binder">k2</span></a> : <a class="idref" href="ITree.Props.HasPost.html#S2:87"><span class="id" title="variable">S2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.HasPost.html#E:82"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.HasPost.html#R2:84"><span class="id" title="variable">R2</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Props.HasPost.html#t1:91"><span class="id" title="variable">t1</span></a> <a class="idref" href="ITree.Props.HasPost.html#7d41975f9b74a75e0060d8f3ad05edb4"><span class="id" title="notation">⤳</span></a> <a class="idref" href="ITree.Props.HasPost.html#Q1:89"><span class="id" title="variable">Q1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Props.HasPost.html#t2:93"><span class="id" title="variable">t2</span></a> <a class="idref" href="ITree.Props.HasPost.html#7d41975f9b74a75e0060d8f3ad05edb4"><span class="id" title="notation">⤳</span></a> <a class="idref" href="ITree.Props.HasPost.html#Q2:90"><span class="id" title="variable">Q2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eqit.html#eutt"><span class="id" title="definition">eutt</span></a> <a class="idref" href="ITree.Props.HasPost.html#SS:88"><span class="id" title="variable">SS</span></a> <a class="idref" href="ITree.Props.HasPost.html#t1:91"><span class="id" title="variable">t1</span></a> <a class="idref" href="ITree.Props.HasPost.html#t2:93"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="u1:95" class="idref" href="#u1:95"><span class="id" title="binder">u1</span></a> <a id="u2:96" class="idref" href="#u2:96"><span class="id" title="binder">u2</span></a>, <a class="idref" href="ITree.Props.HasPost.html#SS:88"><span class="id" title="variable">SS</span></a> <a class="idref" href="ITree.Props.HasPost.html#u1:95"><span class="id" title="variable">u1</span></a> <a class="idref" href="ITree.Props.HasPost.html#u2:96"><span class="id" title="variable">u2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Props.HasPost.html#Q1:89"><span class="id" title="variable">Q1</span></a> <a class="idref" href="ITree.Props.HasPost.html#u1:95"><span class="id" title="variable">u1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Props.HasPost.html#Q2:90"><span class="id" title="variable">Q2</span></a> <a class="idref" href="ITree.Props.HasPost.html#u2:96"><span class="id" title="variable">u2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Eq.Eqit.html#eutt"><span class="id" title="definition">eutt</span></a> <a class="idref" href="ITree.Props.HasPost.html#RR:85"><span class="id" title="variable">RR</span></a> (<a class="idref" href="ITree.Props.HasPost.html#k1:92"><span class="id" title="variable">k1</span></a> <a class="idref" href="ITree.Props.HasPost.html#u1:95"><span class="id" title="variable">u1</span></a>) (<a class="idref" href="ITree.Props.HasPost.html#k2:94"><span class="id" title="variable">k2</span></a> <a class="idref" href="ITree.Props.HasPost.html#u2:96"><span class="id" title="variable">u2</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eqit.html#eutt"><span class="id" title="definition">eutt</span></a> <a class="idref" href="ITree.Props.HasPost.html#RR:85"><span class="id" title="variable">RR</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.bind"><span class="id" title="definition">ITree.bind</span></a> <a class="idref" href="ITree.Props.HasPost.html#t1:91"><span class="id" title="variable">t1</span></a> <a class="idref" href="ITree.Props.HasPost.html#k1:92"><span class="id" title="variable">k1</span></a>) (<a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.bind"><span class="id" title="definition">ITree.bind</span></a> <a class="idref" href="ITree.Props.HasPost.html#t2:93"><span class="id" title="variable">t2</span></a> <a class="idref" href="ITree.Props.HasPost.html#k2:94"><span class="id" title="variable">k2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × <span class="id" title="var">POST1</span> <span class="id" title="var">POST2</span> <span class="id" title="var">EQ</span> <span class="id" title="var">KEQ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eqit.html#eutt_clo_bind"><span class="id" title="lemma">eutt_clo_bind</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">UU</span> := <span class="id" title="keyword">fun</span> <a id="x:99" class="idref" href="#x:99"><span class="id" title="binder">x</span></a> <a id="y:100" class="idref" href="#y:100"><span class="id" title="binder">y</span></a> ⇒ <span class="id" title="var">SS</span> <a class="idref" href="ITree.Props.HasPost.html#x:97"><span class="id" title="variable">x</span></a> <a class="idref" href="ITree.Props.HasPost.html#y:98"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <span class="id" title="var">Q1</span> <a class="idref" href="ITree.Props.HasPost.html#x:97"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <span class="id" title="var">Q2</span> <a class="idref" href="ITree.Props.HasPost.html#y:98"><span class="id" title="variable">y</span></a>).<br/>
&nbsp;&nbsp;2: <span class="id" title="tactic">intros</span> ? ? (? &amp; ? &amp; ?); <span class="id" title="tactic">apply</span> <span class="id" title="var">KEQ</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">KEQ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Props.HasPost.html#has_post_post_strong"><span class="id" title="lemma">has_post_post_strong</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">POST1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Props.HasPost.html#has_post_post_strong"><span class="id" title="lemma">has_post_post_strong</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">POST2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="ITree.Eq.Eqit.html#eqit_trans"><span class="id" title="lemma">eqit_trans</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">POST1</span> <span class="id" title="var">EQ</span> <span class="id" title="keyword">as</span> <span class="id" title="var">EQ1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="ITree.Eq.Eqit.html#eqit_trans"><span class="id" title="lemma">eqit_trans</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">EQ1</span> <span class="id" title="var">POST2</span> <span class="id" title="keyword">as</span> <span class="id" title="var">EQ2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">EQ2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.UpToTaus.html#eutt_equiv"><span class="id" title="lemma">eutt_equiv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> ? ? (? &amp; ? &amp; ?); <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> ? ? ?. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>. <span class="id" title="var">inv</span> <span class="id" title="var">REL1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">REL2</span> <span class="id" title="keyword">as</span> [-&gt; ?], <span class="id" title="var">REL0</span> <span class="id" title="keyword">as</span> [&lt;- ?]; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Often&nbsp;useful&nbsp;particular&nbsp;case&nbsp;of&nbsp;identical&nbsp;prefixes&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="eutt_post_bind_eq" class="idref" href="#eutt_post_bind_eq"><span class="id" title="lemma">eutt_post_bind_eq</span></a> : <span class="id" title="keyword">∀</span> <a id="E:101" class="idref" href="#E:101"><span class="id" title="binder">E</span></a> <a id="R1:102" class="idref" href="#R1:102"><span class="id" title="binder">R1</span></a> <a id="R2:103" class="idref" href="#R2:103"><span class="id" title="binder">R2</span></a> <a id="RR:104" class="idref" href="#RR:104"><span class="id" title="binder">RR</span></a> <a id="U:105" class="idref" href="#U:105"><span class="id" title="binder">U</span></a> <a id="Q:106" class="idref" href="#Q:106"><span class="id" title="binder">Q</span></a> (<a id="t:107" class="idref" href="#t:107"><span class="id" title="binder">t</span></a>: <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.HasPost.html#E:101"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.HasPost.html#U:105"><span class="id" title="variable">U</span></a>) (<a id="k1:108" class="idref" href="#k1:108"><span class="id" title="binder">k1</span></a>: <a class="idref" href="ITree.Props.HasPost.html#U:105"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.HasPost.html#E:101"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.HasPost.html#R1:102"><span class="id" title="variable">R1</span></a>) (<a id="k2:109" class="idref" href="#k2:109"><span class="id" title="binder">k2</span></a>: <a class="idref" href="ITree.Props.HasPost.html#U:105"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.HasPost.html#E:101"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.HasPost.html#R2:103"><span class="id" title="variable">R2</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Props.HasPost.html#t:107"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Props.HasPost.html#7d41975f9b74a75e0060d8f3ad05edb4"><span class="id" title="notation">⤳</span></a> <a class="idref" href="ITree.Props.HasPost.html#Q:106"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="u:110" class="idref" href="#u:110"><span class="id" title="binder">u</span></a>, <a class="idref" href="ITree.Props.HasPost.html#Q:106"><span class="id" title="variable">Q</span></a> <a class="idref" href="ITree.Props.HasPost.html#u:110"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Eq.Eqit.html#eutt"><span class="id" title="definition">eutt</span></a> <a class="idref" href="ITree.Props.HasPost.html#RR:104"><span class="id" title="variable">RR</span></a> (<a class="idref" href="ITree.Props.HasPost.html#k1:108"><span class="id" title="variable">k1</span></a> <a class="idref" href="ITree.Props.HasPost.html#u:110"><span class="id" title="variable">u</span></a>) (<a class="idref" href="ITree.Props.HasPost.html#k2:109"><span class="id" title="variable">k2</span></a> <a class="idref" href="ITree.Props.HasPost.html#u:110"><span class="id" title="variable">u</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eqit.html#eutt"><span class="id" title="definition">eutt</span></a> <a class="idref" href="ITree.Props.HasPost.html#RR:104"><span class="id" title="variable">RR</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.bind"><span class="id" title="definition">ITree.bind</span></a> <a class="idref" href="ITree.Props.HasPost.html#t:107"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Props.HasPost.html#k1:108"><span class="id" title="variable">k1</span></a>) (<a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.bind"><span class="id" title="definition">ITree.bind</span></a> <a class="idref" href="ITree.Props.HasPost.html#t:107"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Props.HasPost.html#k2:109"><span class="id" title="variable">k2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × <span class="id" title="var">POST</span> ?.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eqit.html#eutt_clo_bind"><span class="id" title="lemma">eutt_clo_bind</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">UU</span> := <span class="id" title="keyword">fun</span> <a id="x:113" class="idref" href="#x:113"><span class="id" title="binder">x</span></a> <a id="y:114" class="idref" href="#y:114"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="ITree.Props.HasPost.html#x:111"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ITree.Props.HasPost.html#y:112"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <span class="id" title="var">Q</span> <a class="idref" href="ITree.Props.HasPost.html#x:111"><span class="id" title="variable">x</span></a>); [<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Props.HasPost.html#has_post_post_strong"><span class="id" title="lemma">has_post_post_strong</span></a>; <span class="id" title="tactic">exact</span> <span class="id" title="var">POST</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? [-&gt; ?]; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;A&nbsp;little&nbsp;oddity&nbsp;that&nbsp;can&nbsp;be&nbsp;useful&nbsp;when&nbsp;building&nbsp;bisimulations&nbsp;manually:<br/>
&nbsp;&nbsp;&nbsp;an&nbsp;<span class="inlinecode"><span class="id" title="var">eutt</span></span>&nbsp;hypothesis&nbsp;between&nbsp;a&nbsp;tree&nbsp;and&nbsp;itself&nbsp;can&nbsp;be&nbsp;refined&nbsp;into&nbsp;an<br/>
&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">eq_itree</span></span>&nbsp;one.<br/>
<br/>
&nbsp;&nbsp;&nbsp;This&nbsp;assumes&nbsp;UIP.<br/>
&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="eutt_eq_itree" class="idref" href="#eutt_eq_itree"><span class="id" title="lemma">eutt_eq_itree</span></a> {<a id="E:115" class="idref" href="#E:115"><span class="id" title="binder">E</span></a> <a id="X:116" class="idref" href="#X:116"><span class="id" title="binder">X</span></a>} (<a id="R:117" class="idref" href="#R:117"><span class="id" title="binder">R</span></a> : <a class="idref" href="ITree.Props.HasPost.html#X:116"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Props.HasPost.html#X:116"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) : <span class="id" title="keyword">∀</span> (<a id="t:118" class="idref" href="#t:118"><span class="id" title="binder">t</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.HasPost.html#E:115"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.HasPost.html#X:116"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eqit.html#eutt"><span class="id" title="definition">eutt</span></a> <a class="idref" href="ITree.Props.HasPost.html#R:117"><span class="id" title="variable">R</span></a> <a class="idref" href="ITree.Props.HasPost.html#t:118"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Props.HasPost.html#t:118"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Eq.Eqit.html#eq_itree"><span class="id" title="definition">eq_itree</span></a> <a class="idref" href="ITree.Props.HasPost.html#R:117"><span class="id" title="variable">R</span></a> <a class="idref" href="ITree.Props.HasPost.html#t:118"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Props.HasPost.html#t:118"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">enough</span> (<span class="id" title="keyword">∀</span> (<a id="t:121" class="idref" href="#t:121"><span class="id" title="binder">t</span></a> <a id="u:122" class="idref" href="#u:122"><span class="id" title="binder">u</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <span class="id" title="var">E</span> <span class="id" title="var">X</span>), <a class="idref" href="ITree.Eq.Eqit.html#eutt"><span class="id" title="definition">eutt</span></a> <span class="id" title="var">R</span> <a class="idref" href="ITree.Props.HasPost.html#t:119"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Props.HasPost.html#u:120"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Eq.Eqit.html#eq_itree"><span class="id" title="definition">eq_itree</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="ITree.Props.HasPost.html#t:119"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Props.HasPost.html#u:120"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Eq.Eqit.html#eq_itree"><span class="id" title="definition">eq_itree</span></a> <span class="id" title="var">R</span> <a class="idref" href="ITree.Props.HasPost.html#t:119"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Props.HasPost.html#u:120"><span class="id" title="variable">u</span></a>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; [ <span class="id" title="tactic">auto</span> | <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eqit.html#Reflexive_eqit_eq"><span class="id" title="instance">Reflexive_eqit_eq</span></a> ]. }<br/>
&nbsp;&nbsp;<span class="id" title="var">pcofix</span> <span class="id" title="var">CIH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span> <span class="id" title="var">H</span> <span class="id" title="var">EQ</span>. <span class="id" title="var">pfold</span>. <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="ITree.Eq.Eqit.html#itree_eta"><span class="id" title="lemma">itree_eta</span></a> <span class="id" title="var">t</span>), (<a class="idref" href="ITree.Eq.Eqit.html#itree_eta"><span class="id" title="lemma">itree_eta</span></a> <span class="id" title="var">u</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">punfold</span> <span class="id" title="var">EQ</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">EQ</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ITree.Eq.UpToTaus.html#eutt_Ret"><span class="id" title="lemma">eutt_Ret</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">pclearbot</span>. <span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">CIH</span>; [ | <span class="id" title="tactic">apply</span> <span class="id" title="var">REL</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eqit.html#eqit_Tau"><span class="id" title="lemma">eqit_Tau</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">pclearbot</span>. <span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">CIH</span>; [ | <span class="id" title="tactic">apply</span> <span class="id" title="var">REL</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eqit.html#eqit_inv_Vis"><span class="id" title="lemma">eqit_inv_Vis</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="has_post_strong_to_eq_itree" class="idref" href="#has_post_strong_to_eq_itree"><span class="id" title="lemma">has_post_strong_to_eq_itree</span></a> : <span class="id" title="keyword">∀</span> {<a id="E:123" class="idref" href="#E:123"><span class="id" title="binder">E</span></a> <a id="X:124" class="idref" href="#X:124"><span class="id" title="binder">X</span></a>} (<a id="t:125" class="idref" href="#t:125"><span class="id" title="binder">t</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.HasPost.html#E:123"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.HasPost.html#X:124"><span class="id" title="variable">X</span></a>) (<a id="Q:126" class="idref" href="#Q:126"><span class="id" title="binder">Q</span></a> : <a class="idref" href="ITree.Props.HasPost.html#X:124"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Props.HasPost.html#has_post_strong"><span class="id" title="definition">has_post_strong</span></a> <a class="idref" href="ITree.Props.HasPost.html#t:125"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Props.HasPost.html#Q:126"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eqit.html#eq_itree"><span class="id" title="definition">eq_itree</span></a> (<span class="id" title="keyword">fun</span> <a id="x:127" class="idref" href="#x:127"><span class="id" title="binder">x</span></a> <a id="y:128" class="idref" href="#y:128"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="ITree.Props.HasPost.html#x:127"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ITree.Props.HasPost.html#y:128"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="ITree.Props.HasPost.html#Q:126"><span class="id" title="variable">Q</span></a> <a class="idref" href="ITree.Props.HasPost.html#x:127"><span class="id" title="variable">x</span></a>) <a class="idref" href="ITree.Props.HasPost.html#t:125"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Props.HasPost.html#t:125"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> *; <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Props.HasPost.html#eutt_eq_itree"><span class="id" title="lemma">eutt_eq_itree</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="has_post_to_eq_itree" class="idref" href="#has_post_to_eq_itree"><span class="id" title="lemma">has_post_to_eq_itree</span></a> : <span class="id" title="keyword">∀</span> {<a id="E:129" class="idref" href="#E:129"><span class="id" title="binder">E</span></a> <a id="X:130" class="idref" href="#X:130"><span class="id" title="binder">X</span></a>} (<a id="t:131" class="idref" href="#t:131"><span class="id" title="binder">t</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.HasPost.html#E:129"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.HasPost.html#X:130"><span class="id" title="variable">X</span></a>) (<a id="Q:132" class="idref" href="#Q:132"><span class="id" title="binder">Q</span></a> : <a class="idref" href="ITree.Props.HasPost.html#X:130"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Props.HasPost.html#has_post"><span class="id" title="definition">has_post</span></a> <a class="idref" href="ITree.Props.HasPost.html#t:131"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Props.HasPost.html#Q:132"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eqit.html#eq_itree"><span class="id" title="definition">eq_itree</span></a> (<span class="id" title="keyword">fun</span> <a id="x:133" class="idref" href="#x:133"><span class="id" title="binder">x</span></a> <a id="y:134" class="idref" href="#y:134"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="ITree.Props.HasPost.html#x:133"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ITree.Props.HasPost.html#y:134"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="ITree.Props.HasPost.html#Q:132"><span class="id" title="variable">Q</span></a> <a class="idref" href="ITree.Props.HasPost.html#x:133"><span class="id" title="variable">x</span></a>) <a class="idref" href="ITree.Props.HasPost.html#t:131"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Props.HasPost.html#t:131"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Props.HasPost.html#has_post_strong_to_eq_itree"><span class="id" title="lemma">has_post_strong_to_eq_itree</span></a>, <a class="idref" href="ITree.Props.HasPost.html#has_post_post_strong"><span class="id" title="lemma">has_post_post_strong</span></a>, <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
