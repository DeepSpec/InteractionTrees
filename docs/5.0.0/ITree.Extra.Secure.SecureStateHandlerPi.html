<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://github.com/DeepSpec/InteractionTrees">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">ITree.Extra.Secure.SecureStateHandlerPi</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#"><span class="id" title="library">Morphisms</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ITree</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Axioms.html#"><span class="id" title="library">Axioms</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.ITree.html#"><span class="id" title="library">ITree</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.ITreeFacts.html#"><span class="id" title="library">ITreeFacts</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#"><span class="id" title="library">Basics.HeterogeneousRelations</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Events.State.html#"><span class="id" title="library">Events.State</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Events.StateFacts.html#"><span class="id" title="library">Events.StateFacts</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ITree.Extra</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Extra.Secure.SecureEqHalt.html#"><span class="id" title="library">Secure.SecureEqHalt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Extra.Secure.SecureEqEuttHalt.html#"><span class="id" title="library">Secure.SecureEqEuttHalt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Extra.Secure.SecureEqWcompat.html#"><span class="id" title="library">Secure.SecureEqWcompat</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Extra.Secure.SecureEqBind.html#"><span class="id" title="library">Secure.SecureEqBind</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Extra.Secure.SecureEqProgInsens.html#"><span class="id" title="library">Secure.SecureEqProgInsens</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Extra.Secure.SecureEqProgInsensFacts.html#"><span class="id" title="library">Secure.SecureEqProgInsensFacts</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Extra.Secure.StrongBisimProper.html#"><span class="id" title="library">Secure.StrongBisimProper</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Extra.Secure.SecureStateHandler.html#"><span class="id" title="library">Secure.SecureStateHandler</span></a><br/>
.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="ITree.Basics.Basics.html#Monads"><span class="id" title="module">Monads</span></a>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="module">MonadNotation</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">monad_scope</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Paco</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">paco</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="GeneralStateHandler" class="idref" href="#GeneralStateHandler"><span class="id" title="section">GeneralStateHandler</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span> (<a id="S:1" class="idref" href="#S:1"><span class="id" title="binder">S</span></a> : <span class="id" title="keyword">Type</span>).<br/>
<span class="id" title="keyword">Context</span> (<a id="RS:2" class="idref" href="#RS:2"><span class="id" title="binder">RS</span></a> : <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>).<br/>
<span class="id" title="keyword">Context</span> (<a id="RS_Eq:3" class="idref" href="#RS_Eq:3"><span class="id" title="binder">RS_Eq</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.RS"><span class="id" title="variable">RS</span></a>).<br/>

<br/>
<span class="id" title="keyword">Context</span> (<a id="E1:4" class="idref" href="#E1:4"><span class="id" title="binder">E1</span></a> <a id="E2:5" class="idref" href="#E2:5"><span class="id" title="binder">E2</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>).<br/>

<br/>
<span class="id" title="keyword">Context</span> (<a id="handler:6" class="idref" href="#handler:6"><span class="id" title="binder">handler</span></a> : <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="ITree.Basics.Basics.html#f7397da22bdab7f77b06c5d98764e7b9"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">stateT</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.S"><span class="id" title="variable">S</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.E2"><span class="id" title="variable">E2</span></a>) ).<br/>

<br/>
<span class="id" title="keyword">Context</span> (<a id="Label:7" class="idref" href="#Label:7"><span class="id" title="binder">Label</span></a> : <a class="idref" href="ITree.Extra.Secure.Labels.html#Preorder"><span class="id" title="class">Preorder</span></a>).<br/>
<span class="id" title="keyword">Context</span> (<a id="priv1:9" class="idref" href="#priv1:9"><span class="id" title="binder">priv1</span></a> : <span class="id" title="keyword">∀</span> <a id="A:8" class="idref" href="#A:8"><span class="id" title="binder">A</span></a>, <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#A:8"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Extra.Secure.Labels.html#L"><span class="id" title="method">L</span></a>).<br/>
<span class="id" title="keyword">Context</span> (<a id="priv2:11" class="idref" href="#priv2:11"><span class="id" title="binder">priv2</span></a> : <span class="id" title="keyword">∀</span> <a id="A:10" class="idref" href="#A:10"><span class="id" title="binder">A</span></a>, <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.E2"><span class="id" title="variable">E2</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#A:10"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Extra.Secure.Labels.html#L"><span class="id" title="method">L</span></a>).<br/>
<span class="id" title="keyword">Context</span> (<a id="l:12" class="idref" href="#l:12"><span class="id" title="binder">l</span></a> : <a class="idref" href="ITree.Extra.Secure.Labels.html#L"><span class="id" title="method">L</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="state_pi_eqit_secure" class="idref" href="#state_pi_eqit_secure"><span class="id" title="definition">state_pi_eqit_secure</span></a> {<a id="R1:13" class="idref" href="#R1:13"><span class="id" title="binder">R1</span></a> <a id="R2:14" class="idref" href="#R2:14"><span class="id" title="binder">R2</span></a> : <span class="id" title="keyword">Type</span>} (<a id="b1:15" class="idref" href="#b1:15"><span class="id" title="binder">b1</span></a> <a id="b2:16" class="idref" href="#b2:16"><span class="id" title="binder">b2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="RR:17" class="idref" href="#RR:17"><span class="id" title="binder">RR</span></a> : <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#R1:13"><span class="id" title="variable">R1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#R2:14"><span class="id" title="variable">R2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m1:18" class="idref" href="#m1:18"><span class="id" title="binder">m1</span></a> : <a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">stateT</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.S"><span class="id" title="variable">S</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.E2"><span class="id" title="variable">E2</span></a>) <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#R1:13"><span class="id" title="variable">R1</span></a>) (<a id="m2:19" class="idref" href="#m2:19"><span class="id" title="binder">m2</span></a> : <a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">stateT</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.S"><span class="id" title="variable">S</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.E2"><span class="id" title="variable">E2</span></a>) <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#R2:14"><span class="id" title="variable">R2</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="s1:20" class="idref" href="#s1:20"><span class="id" title="binder">s1</span></a> <a id="s2:21" class="idref" href="#s2:21"><span class="id" title="binder">s2</span></a>, <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.RS"><span class="id" title="variable">RS</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#s1:20"><span class="id" title="variable">s1</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#s2:21"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Extra.Secure.SecureEqProgInsens.html#pi_eqit_secure"><span class="id" title="definition">pi_eqit_secure</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.Label"><span class="id" title="variable">Label</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.priv2"><span class="id" title="variable">priv2</span></a> (<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#prod_rel"><span class="id" title="record">prod_rel</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.RS"><span class="id" title="variable">RS</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#RR:17"><span class="id" title="variable">RR</span></a>) <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#b1:15"><span class="id" title="variable">b1</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#b2:16"><span class="id" title="variable">b2</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.l"><span class="id" title="variable">l</span></a> (<a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#m1:18"><span class="id" title="variable">m1</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#s1:20"><span class="id" title="variable">s1</span></a>) (<a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#m2:19"><span class="id" title="variable">m2</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#s2:21"><span class="id" title="variable">s2</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="top2" class="idref" href="#top2"><span class="id" title="definition">top2</span></a> {<a id="R1:22" class="idref" href="#R1:22"><span class="id" title="binder">R1</span></a> <a id="R2:23" class="idref" href="#R2:23"><span class="id" title="binder">R2</span></a>} (<a id="r1:24" class="idref" href="#r1:24"><span class="id" title="binder">r1</span></a> : <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#R1:22"><span class="id" title="variable">R1</span></a>) (<a id="r2:25" class="idref" href="#r2:25"><span class="id" title="binder">r2</span></a> : <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#R2:23"><span class="id" title="variable">R2</span></a>) : <span class="id" title="keyword">Prop</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="secure_in_nonempty_context" class="idref" href="#secure_in_nonempty_context"><span class="id" title="definition">secure_in_nonempty_context</span></a> {<a id="R:26" class="idref" href="#R:26"><span class="id" title="binder">R</span></a>} (<a id="m:27" class="idref" href="#m:27"><span class="id" title="binder">m</span></a> : <a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">stateT</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.S"><span class="id" title="variable">S</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.E2"><span class="id" title="variable">E2</span></a>) <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#R:26"><span class="id" title="variable">R</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="r':28" class="idref" href="#r':28"><span class="id" title="binder">r'</span></a> : <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#R:26"><span class="id" title="variable">R</span></a>, <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#state_pi_eqit_secure"><span class="id" title="definition">state_pi_eqit_secure</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#top2"><span class="id" title="definition">top2</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#m:27"><span class="id" title="variable">m</span></a> (<span class="id" title="method">ret</span> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#r':28"><span class="id" title="variable">r'</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="secure_in_empty_context" class="idref" href="#secure_in_empty_context"><span class="id" title="definition">secure_in_empty_context</span></a>  {<a id="R:29" class="idref" href="#R:29"><span class="id" title="binder">R</span></a>} (<a id="m:30" class="idref" href="#m:30"><span class="id" title="binder">m</span></a> : <a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">stateT</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.S"><span class="id" title="variable">S</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.E2"><span class="id" title="variable">E2</span></a>) <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#R:29"><span class="id" title="variable">R</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#state_pi_eqit_secure"><span class="id" title="definition">state_pi_eqit_secure</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> (@<a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#top2"><span class="id" title="definition">top2</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#R:29"><span class="id" title="variable">R</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#R:29"><span class="id" title="variable">R</span></a>) <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#m:30"><span class="id" title="variable">m</span></a> (<span class="id" title="keyword">fun</span> <a id="s:31" class="idref" href="#s:31"><span class="id" title="binder">s</span></a> ⇒ <a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.spin"><span class="id" title="definition">ITree.spin</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="diverges_with_spin" class="idref" href="#diverges_with_spin"><span class="id" title="lemma">diverges_with_spin</span></a> : <span class="id" title="keyword">∀</span> <a id="E:32" class="idref" href="#E:32"><span class="id" title="binder">E</span></a> <a id="A:33" class="idref" href="#A:33"><span class="id" title="binder">A</span></a> <a id="P:34" class="idref" href="#P:34"><span class="id" title="binder">P</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Extra.Secure.SecureStateHandler.html#diverges_with"><span class="id" title="definition">diverges_with</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#P:34"><span class="id" title="variable">P</span></a> (@<a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.spin"><span class="id" title="definition">ITree.spin</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#E:32"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#A:33"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">pcofix</span> <span class="id" title="var">CIH</span>. <span class="id" title="var">pfold</span>. <span class="id" title="tactic">red</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pi_eqit_secure_silent_divergel" class="idref" href="#pi_eqit_secure_silent_divergel"><span class="id" title="lemma">pi_eqit_secure_silent_divergel</span></a> : <span class="id" title="keyword">∀</span> <a id="A:35" class="idref" href="#A:35"><span class="id" title="binder">A</span></a> <a id="B:36" class="idref" href="#B:36"><span class="id" title="binder">B</span></a> <a id="RR:37" class="idref" href="#RR:37"><span class="id" title="binder">RR</span></a> (<a id="t1:38" class="idref" href="#t1:38"><span class="id" title="binder">t1</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.E2"><span class="id" title="variable">E2</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#A:35"><span class="id" title="variable">A</span></a>) (<a id="t2:39" class="idref" href="#t2:39"><span class="id" title="binder">t2</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.E2"><span class="id" title="variable">E2</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#B:36"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Extra.Secure.SecureStateHandler.html#diverges_with"><span class="id" title="definition">diverges_with</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <a id="e:40" class="idref" href="#e:40"><span class="id" title="binder">e</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="ITree.Extra.Secure.Labels.html#leq"><span class="id" title="method">leq</span></a> (<a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.priv2"><span class="id" title="variable">priv2</span></a> <span class="id" title="var">_</span> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#e:40"><span class="id" title="variable">e</span></a>) <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.l"><span class="id" title="variable">l</span></a>) <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#t1:38"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Extra.Secure.SecureEqProgInsens.html#pi_eqit_secure"><span class="id" title="definition">pi_eqit_secure</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.Label"><span class="id" title="variable">Label</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.priv2"><span class="id" title="variable">priv2</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#RR:37"><span class="id" title="variable">RR</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.l"><span class="id" title="variable">l</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#t1:38"><span class="id" title="variable">t1</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#t2:39"><span class="id" title="variable">t2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">RR</span>. <span class="id" title="var">pcofix</span> <span class="id" title="var">CIH</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">punfold</span> <span class="id" title="var">H0</span>. <span class="id" title="var">all</span> : <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Extra.Secure.SecureStateHandler.html#mono_diverges_with"><span class="id" title="lemma">mono_diverges_with</span></a>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="var">use_simpobs</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">pfold</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">right</span>. <span class="id" title="var">pclearbot</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="ITree.Extra.Secure.SecureEqEuttHalt.html#classic_empty"><span class="id" title="definition">classic_empty</span></a> <span class="id" title="var">B0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">paco2_mon</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">r</span> := <span class="id" title="definition">bot2</span>); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Extra.Secure.SecureEqProgInsens.html#pi_eqit_secure_sym"><span class="id" title="lemma">pi_eqit_secure_sym</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Extra.Secure.SecureEqProgInsens.html#pi_eqit_secure_private_halt"><span class="id" title="lemma">pi_eqit_secure_private_halt</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">pfold</span>. <span class="id" title="tactic">red</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">right</span>. <span class="id" title="var">pclearbot</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pi_eqit_secure_silent_diverger" class="idref" href="#pi_eqit_secure_silent_diverger"><span class="id" title="lemma">pi_eqit_secure_silent_diverger</span></a> : <span class="id" title="keyword">∀</span> <a id="A:41" class="idref" href="#A:41"><span class="id" title="binder">A</span></a> <a id="B:42" class="idref" href="#B:42"><span class="id" title="binder">B</span></a> <a id="RR:43" class="idref" href="#RR:43"><span class="id" title="binder">RR</span></a> (<a id="t1:44" class="idref" href="#t1:44"><span class="id" title="binder">t1</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.E2"><span class="id" title="variable">E2</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#A:41"><span class="id" title="variable">A</span></a>) (<a id="t2:45" class="idref" href="#t2:45"><span class="id" title="binder">t2</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.E2"><span class="id" title="variable">E2</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#B:42"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Extra.Secure.SecureStateHandler.html#diverges_with"><span class="id" title="definition">diverges_with</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <a id="e:46" class="idref" href="#e:46"><span class="id" title="binder">e</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="ITree.Extra.Secure.Labels.html#leq"><span class="id" title="method">leq</span></a> (<a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.priv2"><span class="id" title="variable">priv2</span></a> <span class="id" title="var">_</span> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#e:46"><span class="id" title="variable">e</span></a>) <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.l"><span class="id" title="variable">l</span></a>) <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#t2:45"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Extra.Secure.SecureEqProgInsens.html#pi_eqit_secure"><span class="id" title="definition">pi_eqit_secure</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.Label"><span class="id" title="variable">Label</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.priv2"><span class="id" title="variable">priv2</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#RR:43"><span class="id" title="variable">RR</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.l"><span class="id" title="variable">l</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#t1:44"><span class="id" title="variable">t1</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#t2:45"><span class="id" title="variable">t2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Extra.Secure.SecureEqProgInsens.html#pi_eqit_secure_sym"><span class="id" title="lemma">pi_eqit_secure_sym</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#pi_eqit_secure_silent_divergel"><span class="id" title="lemma">pi_eqit_secure_silent_divergel</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="silent_terminates_eqit_secure_ret" class="idref" href="#silent_terminates_eqit_secure_ret"><span class="id" title="lemma">silent_terminates_eqit_secure_ret</span></a> : <span class="id" title="keyword">∀</span> <a id="R:47" class="idref" href="#R:47"><span class="id" title="binder">R</span></a> (<a id="m:48" class="idref" href="#m:48"><span class="id" title="binder">m</span></a> : <a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">stateT</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.S"><span class="id" title="variable">S</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.E2"><span class="id" title="variable">E2</span></a>) <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#R:47"><span class="id" title="variable">R</span></a>), <a class="idref" href="ITree.Extra.Secure.Labels.html#nonempty"><span class="id" title="inductive">nonempty</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#R:47"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="s:49" class="idref" href="#s:49"><span class="id" title="binder">s</span></a>, <a class="idref" href="ITree.Extra.Secure.SecureStateHandler.html#terminates"><span class="id" title="inductive">terminates</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.S"><span class="id" title="variable">S</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.RS"><span class="id" title="variable">RS</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.E2"><span class="id" title="variable">E2</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#s:49"><span class="id" title="variable">s</span></a> (<span class="id" title="keyword">fun</span> <a id="B:50" class="idref" href="#B:50"><span class="id" title="binder">B</span></a> <a id="e:51" class="idref" href="#e:51"><span class="id" title="binder">e</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="ITree.Extra.Secure.Labels.html#leq"><span class="id" title="method">leq</span></a> (<a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.priv2"><span class="id" title="variable">priv2</span></a> <span class="id" title="var">_</span> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#e:51"><span class="id" title="variable">e</span></a>) <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="ITree.Extra.Secure.Labels.html#nonempty"><span class="id" title="inductive">nonempty</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#B:50"><span class="id" title="variable">B</span></a>) (<a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#m:48"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#s:49"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <a id="r':52" class="idref" href="#r':52"><span class="id" title="binder">r'</span></a> : <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#R:47"><span class="id" title="variable">R</span></a>, <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#state_pi_eqit_secure"><span class="id" title="definition">state_pi_eqit_secure</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#top2"><span class="id" title="definition">top2</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#m:48"><span class="id" title="variable">m</span></a> (<span class="id" title="method">ret</span> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#r':52"><span class="id" title="variable">r'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">s1</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">pfold</span>; <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">etransitivity</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">pfold</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHterminates</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Extra.Secure.SecureEqProgInsensFacts.html#pi_eqit_secure_priv_visl"><span class="id" title="lemma">pi_eqit_secure_priv_visl</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Variant</span> <a id="handler_respects_priv" class="idref" href="#handler_respects_priv"><span class="id" title="inductive">handler_respects_priv</span></a> (<a id="A:53" class="idref" href="#A:53"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) (<a id="e:54" class="idref" href="#e:54"><span class="id" title="binder">e</span></a> : <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#A:53"><span class="id" title="variable">A</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="respect_private'" class="idref" href="#respect_private'"><span class="id" title="constructor">respect_private'</span></a> (<a id="SECCHECK:57" class="idref" href="#SECCHECK:57"><span class="id" title="binder">SECCHECK</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="ITree.Extra.Secure.Labels.html#leq"><span class="id" title="method">leq</span></a> (<a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.priv1"><span class="id" title="variable">priv1</span></a> <span class="id" title="var">_</span> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#e:54"><span class="id" title="variable">e</span></a>) <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.l"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RESCHECK:58" class="idref" href="#RESCHECK:58"><span class="id" title="binder">RESCHECK</span></a> : <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#state_pi_eqit_secure"><span class="id" title="definition">state_pi_eqit_secure</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#top2"><span class="id" title="definition">top2</span></a> (<a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.handler"><span class="id" title="variable">handler</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#A:53"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#e:54"><span class="id" title="variable">e</span></a>) (<span class="id" title="method">ret</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) )<br/>
| <a id="respect_public''" class="idref" href="#respect_public''"><span class="id" title="constructor">respect_public''</span></a> (<a id="SECCHECK:59" class="idref" href="#SECCHECK:59"><span class="id" title="binder">SECCHECK</span></a> : <a class="idref" href="ITree.Extra.Secure.Labels.html#leq"><span class="id" title="method">leq</span></a> (<a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.priv1"><span class="id" title="variable">priv1</span></a> <span class="id" title="var">_</span> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#e:54"><span class="id" title="variable">e</span></a>) <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.l"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RESCHECK:60" class="idref" href="#RESCHECK:60"><span class="id" title="binder">RESCHECK</span></a> : <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#state_pi_eqit_secure"><span class="id" title="definition">state_pi_eqit_secure</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> (<a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.handler"><span class="id" title="variable">handler</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#A:53"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#e:54"><span class="id" title="variable">e</span></a>) (<a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.handler"><span class="id" title="variable">handler</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#A:53"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#e:54"><span class="id" title="variable">e</span></a>))<br/>
.<br/>

<br/>
<span class="id" title="keyword">Context</span> (<a id="Hhandler:63" class="idref" href="#Hhandler:63"><span class="id" title="binder">Hhandler</span></a> : <span class="id" title="keyword">∀</span> <a id="A:61" class="idref" href="#A:61"><span class="id" title="binder">A</span></a> (<a id="e:62" class="idref" href="#e:62"><span class="id" title="binder">e</span></a> : <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#A:61"><span class="id" title="variable">A</span></a>), <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#handler_respects_priv"><span class="id" title="inductive">handler_respects_priv</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#A:61"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#e:62"><span class="id" title="variable">e</span></a>).<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">mono_diverges_with</span> : <span class="id" title="var">paco</span>.<br/>
<span class="comment">(*<br/>
Lemma&nbsp;diverge_with_respectful_handler&nbsp;:&nbsp;forall&nbsp;(R&nbsp;:&nbsp;Type)&nbsp;(t&nbsp;:&nbsp;itree&nbsp;E1&nbsp;R),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;diverges_with&nbsp;(fun&nbsp;_&nbsp;e&nbsp;=&gt;&nbsp;~&nbsp;leq&nbsp;(priv1&nbsp;_&nbsp;e)&nbsp;l&nbsp;)&nbsp;t&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;forall&nbsp;s,&nbsp;diverges_with&nbsp;(fun&nbsp;_&nbsp;e&nbsp;=&gt;&nbsp;~&nbsp;leq&nbsp;(priv2&nbsp;_&nbsp;e)&nbsp;l)&nbsp;(interp_state&nbsp;handler&nbsp;t&nbsp;s).<br/>
Proof.<br/>
&nbsp;&nbsp;intro&nbsp;R.&nbsp;pcofix&nbsp;CIH.&nbsp;intros&nbsp;t&nbsp;Hdiv&nbsp;s.&nbsp;pinversion&nbsp;Hdiv;&nbsp;use_simpobs.<br/>
&nbsp;&nbsp;-&nbsp;rewrite&nbsp;H.&nbsp;rewrite&nbsp;interp_state_tau.&nbsp;pfold.&nbsp;constructor.&nbsp;right.&nbsp;eapply&nbsp;CIH;&nbsp;eauto.<br/>
&nbsp;&nbsp;-&nbsp;rewrite&nbsp;H.&nbsp;rewrite&nbsp;interp_state_vis.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;(classic_empty&nbsp;B).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;specialize&nbsp;(Hhandler&nbsp;_&nbsp;e).&nbsp;destruct&nbsp;Hhandler;&nbsp;try&nbsp;contradiction;&nbsp;try&nbsp;contra_size.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;specialize&nbsp;(DIVCHECK&nbsp;s).&nbsp;eapply&nbsp;paco1_mon&nbsp;with&nbsp;(r:=&nbsp;bot1).&nbsp;eapply&nbsp;diverges_with_bind;&nbsp;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intros;&nbsp;contradiction.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;specialize&nbsp;(Hhandler&nbsp;_&nbsp;e).&nbsp;destruct&nbsp;Hhandler;&nbsp;try&nbsp;contradiction;&nbsp;try&nbsp;contra_size.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;specialize&nbsp;(FINCHECK&nbsp;s).&nbsp;induction&nbsp;FINCHECK.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;rewrite&nbsp;bind_ret_l.&nbsp;cbn.&nbsp;pfold.&nbsp;constructor.&nbsp;right.&nbsp;eapply&nbsp;CIH;&nbsp;eauto.&nbsp;apply&nbsp;H0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;rewrite&nbsp;bind_tau.&nbsp;pfold.&nbsp;constructor.&nbsp;left.&nbsp;eapply&nbsp;IHFINCHECK;&nbsp;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;destruct&nbsp;H5.&nbsp;rewrite&nbsp;bind_vis.&nbsp;pfold.&nbsp;constructor;&nbsp;auto.&nbsp;left.&nbsp;eapply&nbsp;H4;&nbsp;eauto.<br/>
Qed.<br/>
*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="diverges_with_bind" class="idref" href="#diverges_with_bind"><span class="id" title="lemma">diverges_with_bind</span></a> : <span class="id" title="keyword">∀</span> <a id="E:64" class="idref" href="#E:64"><span class="id" title="binder">E</span></a> <a id="R:65" class="idref" href="#R:65"><span class="id" title="binder">R</span></a> <a id="S:66" class="idref" href="#S:66"><span class="id" title="binder">S</span></a> <a id="P:67" class="idref" href="#P:67"><span class="id" title="binder">P</span></a> (<a id="t:68" class="idref" href="#t:68"><span class="id" title="binder">t</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#E:64"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#R:65"><span class="id" title="variable">R</span></a>) (<a id="k:69" class="idref" href="#k:69"><span class="id" title="binder">k</span></a> : <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#R:65"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#E:64"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#S:66"><span class="id" title="variable">S</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Extra.Secure.SecureStateHandler.html#diverges_with"><span class="id" title="definition">diverges_with</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#P:67"><span class="id" title="variable">P</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#t:68"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandler.html#diverges_with"><span class="id" title="definition">diverges_with</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#P:67"><span class="id" title="variable">P</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.bind"><span class="id" title="definition">ITree.bind</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#t:68"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#k:69"><span class="id" title="variable">k</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">E</span> <span class="id" title="var">R1</span> <span class="id" title="var">R2</span> <span class="id" title="var">P</span>. <span class="id" title="var">pcofix</span> <span class="id" title="var">CIH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">k</span> <span class="id" title="var">Ht</span>. <span class="id" title="var">punfold</span> <span class="id" title="var">Ht</span>. <span class="id" title="var">pfold</span>. <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Core.ITreeDefinition.html#observe"><span class="id" title="definition">observe</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>. <span class="id" title="var">inv</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">right</span>. <span class="id" title="var">pclearbot</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">pclearbot</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="interp_pi_eqit_secure_state" class="idref" href="#interp_pi_eqit_secure_state"><span class="id" title="lemma">interp_pi_eqit_secure_state</span></a> : <span class="id" title="keyword">∀</span> (<a id="R1:70" class="idref" href="#R1:70"><span class="id" title="binder">R1</span></a> <a id="R2:71" class="idref" href="#R2:71"><span class="id" title="binder">R2</span></a> : <span class="id" title="keyword">Type</span>) (<a id="RR:72" class="idref" href="#RR:72"><span class="id" title="binder">RR</span></a> : <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#R1:70"><span class="id" title="variable">R1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#R2:71"><span class="id" title="variable">R2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<a id="t1:73" class="idref" href="#t1:73"><span class="id" title="binder">t1</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#R1:70"><span class="id" title="variable">R1</span></a>) (<a id="t2:74" class="idref" href="#t2:74"><span class="id" title="binder">t2</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#R2:71"><span class="id" title="variable">R2</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Extra.Secure.SecureEqProgInsens.html#pi_eqit_secure"><span class="id" title="definition">pi_eqit_secure</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.Label"><span class="id" title="variable">Label</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.priv1"><span class="id" title="variable">priv1</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#RR:72"><span class="id" title="variable">RR</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.l"><span class="id" title="variable">l</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#t1:73"><span class="id" title="variable">t1</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#t2:74"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#state_pi_eqit_secure"><span class="id" title="definition">state_pi_eqit_secure</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#RR:72"><span class="id" title="variable">RR</span></a> (<a class="idref" href="ITree.Events.State.html#interp_state"><span class="id" title="definition">interp_state</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.handler"><span class="id" title="variable">handler</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#t1:73"><span class="id" title="variable">t1</span></a>) (<a class="idref" href="ITree.Events.State.html#interp_state"><span class="id" title="definition">interp_state</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.handler"><span class="id" title="variable">handler</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#t2:74"><span class="id" title="variable">t2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">R1</span> <span class="id" title="var">R2</span> <span class="id" title="var">RR</span>. <span class="id" title="var">ginit</span>. <span class="id" title="var">gcofix</span> <span class="id" title="var">CIH</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">Ht</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">Hs</span>. <span class="id" title="var">punfold</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">use_simpobs</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>, <span class="id" title="var">H0</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Events.StateFacts.html#interp_state_ret"><span class="id" title="lemma">interp_state_ret</span></a>. <span class="id" title="var">gstep</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>, <span class="id" title="var">H0</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Events.StateFacts.html#interp_state_tau"><span class="id" title="lemma">interp_state_tau</span></a>. <span class="id" title="var">gstep</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gfinal</span>. <span class="id" title="tactic">left</span>. <span class="id" title="var">pclearbot</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">CIH</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">pclearbot</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Events.StateFacts.html#interp_state_tau"><span class="id" title="lemma">interp_state_tau</span></a>. <span class="id" title="var">gstep</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gfinal</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eqit.html#simpobs"><span class="id" title="lemma">simpobs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ITree.Eq.Eqit.html#itree_eta"><span class="id" title="lemma">itree_eta</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">pclearbot</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Events.StateFacts.html#interp_state_tau"><span class="id" title="lemma">interp_state_tau</span></a>. <span class="id" title="var">gstep</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gfinal</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eqit.html#simpobs"><span class="id" title="lemma">simpobs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ITree.Eq.Eqit.html#itree_eta"><span class="id" title="lemma">itree_eta</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">pclearbot</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>, <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Events.StateFacts.html#interp_state_vis"><span class="id" title="lemma">interp_state_vis</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.Hhandler"><span class="id" title="variable">Hhandler</span></a> <span class="id" title="var">A</span> <span class="id" title="var">e</span>). <span class="id" title="var">inv</span> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.Hhandler"><span class="id" title="variable">Hhandler</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Extra.Secure.SecureEqProgInsensFacts.html#pi_secure_eqit_bind'"><span class="id" title="lemma">pi_secure_eqit_bind'</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">r1</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">r2</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pfold</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>, <span class="id" title="var">H0</span>. <span class="id" title="var">pclearbot</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Events.StateFacts.html#interp_state_tau"><span class="id" title="lemma">interp_state_tau</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gstep</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Events.StateFacts.html#interp_state_vis"><span class="id" title="lemma">interp_state_vis</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.Hhandler"><span class="id" title="variable">Hhandler</span></a> <span class="id" title="var">A</span> <span class="id" title="var">e</span>). <span class="id" title="var">inv</span> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.Hhandler"><span class="id" title="variable">Hhandler</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">RESCHECK</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">RESCHECK</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.handler"><span class="id" title="variable">handler</span></a> <span class="id" title="var">A</span> <span class="id" title="var">e</span> <span class="id" title="var">s1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">t3</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqt3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">t3</span>. <span class="id" title="var">gcofix</span> <span class="id" title="var">CIH'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t3</span> <span class="id" title="var">Ht3</span>. <span class="id" title="var">pinversion</span> <span class="id" title="var">Ht3</span>; <span class="id" title="var">use_simpobs</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> <span class="id" title="var">r1</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>. <span class="id" title="var">gstep</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gfinal</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH'0</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#bind_tau"><span class="id" title="lemma">bind_tau</span></a>. <span class="id" title="var">gstep</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gfinal</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH'</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="var">use_simpobs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H3</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#bind_vis"><span class="id" title="lemma">bind_vis</span></a>. <span class="id" title="var">gstep</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">gfinal</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH'</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use_simpobs</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H3</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>, <span class="id" title="var">H0</span>. <span class="id" title="var">pclearbot</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Events.StateFacts.html#interp_state_tau"><span class="id" title="lemma">interp_state_tau</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gstep</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Events.StateFacts.html#interp_state_vis"><span class="id" title="lemma">interp_state_vis</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.Hhandler"><span class="id" title="variable">Hhandler</span></a> <span class="id" title="var">A</span> <span class="id" title="var">e</span>). <span class="id" title="var">inv</span> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.Hhandler"><span class="id" title="variable">Hhandler</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">RESCHECK</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">RESCHECK</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.handler"><span class="id" title="variable">handler</span></a> <span class="id" title="var">A</span> <span class="id" title="var">e</span> <span class="id" title="var">s2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">t3</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqt3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">t3</span>. <span class="id" title="var">gcofix</span> <span class="id" title="var">CIH'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t3</span> <span class="id" title="var">Ht3</span>. <span class="id" title="var">pinversion</span> <span class="id" title="var">Ht3</span>; <span class="id" title="var">use_simpobs</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> <span class="id" title="var">r1</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>. <span class="id" title="var">gstep</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gfinal</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH'0</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#bind_tau"><span class="id" title="lemma">bind_tau</span></a>. <span class="id" title="var">gstep</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gfinal</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH'</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="var">use_simpobs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H3</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#bind_vis"><span class="id" title="lemma">bind_vis</span></a>. <span class="id" title="var">gstep</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">gfinal</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH'</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use_simpobs</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H3</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;- <span class="id" title="var">pclearbot</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>, <span class="id" title="var">H0</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Events.StateFacts.html#interp_state_vis"><span class="id" title="lemma">interp_state_vis</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.Hhandler"><span class="id" title="variable">Hhandler</span></a> <span class="id" title="var">A</span> <span class="id" title="var">e1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">He1</span>. <span class="id" title="tactic">specialize</span> (<a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.Hhandler"><span class="id" title="variable">Hhandler</span></a> <span class="id" title="var">B</span> <span class="id" title="var">e2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">He2</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">He1</span>; <span class="id" title="var">inv</span> <span class="id" title="var">He2</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Extra.Secure.SecureEqProgInsensFacts.html#pi_secure_eqit_bind'"><span class="id" title="lemma">pi_secure_eqit_bind'</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">RR</span> := <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#prod_rel"><span class="id" title="record">prod_rel</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.RS"><span class="id" title="variable">RS</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#top2"><span class="id" title="definition">top2</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [? ?] [? ?] [? ?]. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">pstep</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Extra.Secure.SecureEqProgInsens.html#pi_eqit_secure_RR_imp"><span class="id" title="lemma">pi_eqit_secure_RR_imp</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">RR1</span> := <a class="idref" href="ITree.Eq.Eqit.html#rcompose"><span class="id" title="inductive">rcompose</span></a> (<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#prod_rel"><span class="id" title="record">prod_rel</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.RS"><span class="id" title="variable">RS</span></a> (@<a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#top2"><span class="id" title="definition">top2</span></a> <span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>)) (<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#prod_rel"><span class="id" title="record">prod_rel</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.RS"><span class="id" title="variable">RS</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#top2"><span class="id" title="definition">top2</span></a>) ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">REL1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">REL2</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Extra.Secure.SecureEqProgInsensFacts.html#pi_eqit_secure_trans_ret"><span class="id" title="lemma">pi_eqit_secure_trans_ret</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Extra.Secure.SecureEqProgInsens.html#pi_eqit_secure_sym"><span class="id" title="lemma">pi_eqit_secure_sym</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Extra.Secure.SecureEqProgInsens.html#pi_eqit_secure_RR_imp"><span class="id" title="lemma">pi_eqit_secure_RR_imp</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">RR1</span> := <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#prod_rel"><span class="id" title="record">prod_rel</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.RS"><span class="id" title="variable">RS</span></a> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#top2"><span class="id" title="definition">top2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">RESCHECK0</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eqit.html#simpobs"><span class="id" title="lemma">simpobs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ITree.Eq.Eqit.html#itree_eta"><span class="id" title="lemma">itree_eta</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Events.StateFacts.html#interp_state_vis"><span class="id" title="lemma">interp_state_vis</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.Hhandler"><span class="id" title="variable">Hhandler</span></a> <span class="id" title="var">A</span> <span class="id" title="var">e</span>). <span class="id" title="var">inv</span> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.Hhandler"><span class="id" title="variable">Hhandler</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">RESCHECK</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">RESCHECK</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.handler"><span class="id" title="variable">handler</span></a> <span class="id" title="var">A</span> <span class="id" title="var">e</span> <span class="id" title="var">s1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">t3</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqt3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">t3</span>. <span class="id" title="var">gcofix</span> <span class="id" title="var">CIH'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t3</span> <span class="id" title="var">Ht3</span>. <span class="id" title="var">pinversion</span> <span class="id" title="var">Ht3</span>; <span class="id" title="var">use_simpobs</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> <span class="id" title="var">r1</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>. <span class="id" title="var">gstep</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gfinal</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#bind_tau"><span class="id" title="lemma">bind_tau</span></a>. <span class="id" title="var">gstep</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gfinal</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH'</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="var">use_simpobs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H3</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#bind_vis"><span class="id" title="lemma">bind_vis</span></a>. <span class="id" title="var">gstep</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">gfinal</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH'</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use_simpobs</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H3</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eqit.html#simpobs"><span class="id" title="lemma">simpobs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ITree.Eq.Eqit.html#itree_eta"><span class="id" title="lemma">itree_eta</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">pclearbot</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Events.StateFacts.html#interp_state_vis"><span class="id" title="lemma">interp_state_vis</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.Hhandler"><span class="id" title="variable">Hhandler</span></a> <span class="id" title="var">A</span> <span class="id" title="var">e</span>). <span class="id" title="var">inv</span> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.Hhandler"><span class="id" title="variable">Hhandler</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">RESCHECK</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">RESCHECK</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler.handler"><span class="id" title="variable">handler</span></a> <span class="id" title="var">A</span> <span class="id" title="var">e</span> <span class="id" title="var">s2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">t3</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqt3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">t3</span>. <span class="id" title="var">gcofix</span> <span class="id" title="var">CIH'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t3</span> <span class="id" title="var">Ht3</span>. <span class="id" title="var">pinversion</span> <span class="id" title="var">Ht3</span>; <span class="id" title="var">use_simpobs</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> <span class="id" title="var">r1</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>. <span class="id" title="var">gstep</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gfinal</span>. <span class="id" title="tactic">left</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#bind_tau"><span class="id" title="lemma">bind_tau</span></a>. <span class="id" title="var">gstep</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gfinal</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH'</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="var">use_simpobs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H3</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#bind_vis"><span class="id" title="lemma">bind_vis</span></a>. <span class="id" title="var">gstep</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">gfinal</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH'</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use_simpobs</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H3</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H4</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ITree.Extra.Secure.SecureStateHandlerPi.html#GeneralStateHandler"><span class="id" title="section">GeneralStateHandler</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
