<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://github.com/DeepSpec/InteractionTrees">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">ITree.Props.Leaf</h1>

<div class="code">
</div>

<div class="doc">
<a id="lab115"></a><h1 class="section">Leaves of an Interaction Tree</h1>

</div>
<div class="code">

<br/>

<br/>
</div>

<div class="doc">
<a id="lab116"></a><h2 class="section">Leaves of itrees</h2>

<div class="paragraph"> </div>

 The <span class="inlinecode"><a class="idref" href="ITree.Props.Leaf.html#Leaf"><span class="id" title="inductive">Leaf</span></a></span> <span class="inlinecode"><span class="id" title="var">a</span></span> <span class="inlinecode"><a class="idref" href="ITree.Extra.IForest.html#BIND_BIND_COUNTEREXAMPLE.t"><span class="id" title="definition">t</span></a></span> predicate expresses that <span class="inlinecode"><a class="idref" href="ITree.Extra.IForest.html#BIND_BIND_COUNTEREXAMPLE.t"><span class="id" title="definition">t</span></a></span> has a <span class="inlinecode"><a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a></span> leaf with
    value <span class="inlinecode"><span class="id" title="var">a</span></span>.

<div class="paragraph"> </div>

    We provide the elementary structural lemmas to work with this
    predicate, and one main useful result relying on <span class="inlinecode"><a class="idref" href="ITree.Props.Leaf.html#Leaf"><span class="id" title="inductive">Leaf</span></a></span>: the
    up-to bind closure <span class="inlinecode"><a class="idref" href="ITree.Eq.Eqit.html#eqit_bind_clo"><span class="id" title="inductive">eqit_bind_clo</span></a></span> can be refined such that
    continuations need only be related over the leaves of the
    first operand of <span class="inlinecode"><a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.bind"><span class="id" title="definition">bind</span></a></span>.
    
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a id="Leaf" class="idref" href="#Leaf"><span class="id" title="inductive">Leaf</span></a> {<a id="E:1" class="idref" href="#E:1"><span class="id" title="binder">E</span></a>} {<a id="A:2" class="idref" href="#A:2"><span class="id" title="binder">A</span></a>: <span class="id" title="keyword">Type</span>} (<a id="a:3" class="idref" href="#a:3"><span class="id" title="binder">a</span></a>: <a class="idref" href="ITree.Props.Leaf.html#A:2"><span class="id" title="variable">A</span></a>) : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <span class="id" title="var">E</span> <span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;| <a id="LeafRet" class="idref" href="#LeafRet"><span class="id" title="constructor">LeafRet</span></a>: <span class="id" title="keyword">∀</span> <a id="t:6" class="idref" href="#t:6"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Core.ITreeDefinition.html#observe"><span class="id" title="definition">observe</span></a> <a class="idref" href="ITree.Props.Leaf.html#t:6"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#RetF"><span class="id" title="constructor">RetF</span></a> <a class="idref" href="ITree.Props.Leaf.html#a:3"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Props.Leaf.html#Leaf:4"><span class="id" title="inductive">Leaf</span></a> <a class="idref" href="ITree.Props.Leaf.html#a:3"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.Props.Leaf.html#t:6"><span class="id" title="variable">t</span></a><br/>
&nbsp;| <a id="LeafTau" class="idref" href="#LeafTau"><span class="id" title="constructor">LeafTau</span></a>: <span class="id" title="keyword">∀</span> <a id="t:7" class="idref" href="#t:7"><span class="id" title="binder">t</span></a> <a id="u:8" class="idref" href="#u:8"><span class="id" title="binder">u</span></a>,<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Core.ITreeDefinition.html#observe"><span class="id" title="definition">observe</span></a> <a class="idref" href="ITree.Props.Leaf.html#t:7"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#TauF"><span class="id" title="constructor">TauF</span></a> <a class="idref" href="ITree.Props.Leaf.html#u:8"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Props.Leaf.html#Leaf:4"><span class="id" title="inductive">Leaf</span></a> <a class="idref" href="ITree.Props.Leaf.html#a:3"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.Props.Leaf.html#u:8"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Props.Leaf.html#Leaf:4"><span class="id" title="inductive">Leaf</span></a> <a class="idref" href="ITree.Props.Leaf.html#a:3"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.Props.Leaf.html#t:7"><span class="id" title="variable">t</span></a><br/>
&nbsp;| <a id="LeafVis" class="idref" href="#LeafVis"><span class="id" title="constructor">LeafVis</span></a>: <span class="id" title="keyword">∀</span> {<a id="X:9" class="idref" href="#X:9"><span class="id" title="binder">X</span></a>} (<a id="e:10" class="idref" href="#e:10"><span class="id" title="binder">e</span></a>: <a class="idref" href="ITree.Props.Leaf.html#E:1"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#X:9"><span class="id" title="variable">X</span></a>) <a id="t:11" class="idref" href="#t:11"><span class="id" title="binder">t</span></a> <a id="k:12" class="idref" href="#k:12"><span class="id" title="binder">k</span></a> <a id="x:13" class="idref" href="#x:13"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Core.ITreeDefinition.html#observe"><span class="id" title="definition">observe</span></a> <a class="idref" href="ITree.Props.Leaf.html#t:11"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#VisF"><span class="id" title="constructor">VisF</span></a> <a class="idref" href="ITree.Props.Leaf.html#e:10"><span class="id" title="variable">e</span></a> <a class="idref" href="ITree.Props.Leaf.html#k:12"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Props.Leaf.html#Leaf:4"><span class="id" title="inductive">Leaf</span></a> <a class="idref" href="ITree.Props.Leaf.html#a:3"><span class="id" title="variable">a</span></a> (<a class="idref" href="ITree.Props.Leaf.html#k:12"><span class="id" title="variable">k</span></a> <a class="idref" href="ITree.Props.Leaf.html#x:13"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Props.Leaf.html#Leaf:4"><span class="id" title="inductive">Leaf</span></a> <a class="idref" href="ITree.Props.Leaf.html#a:3"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.Props.Leaf.html#t:11"><span class="id" title="variable">t</span></a><br/>
.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Constructors</span> <a class="idref" href="ITree.Props.Leaf.html#Leaf"><span class="id" title="inductive">Leaf</span></a> : <span class="id" title="var">itree</span>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="LeafNotations" class="idref" href="#LeafNotations"><span class="id" title="module">LeafNotations</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="88e5122019f9ab7438ce1069fb6fcc97" class="idref" href="#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">&quot;</span></a>a ∈ t" := (<a class="idref" href="ITree.Props.Leaf.html#Leaf"><span class="id" title="inductive">Leaf</span></a> <span class="id" title="var">a</span> <span class="id" title="var">t</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70).<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ITree.Props.Leaf.html#LeafNotations"><span class="id" title="module">LeafNotations</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="ITree.Props.Leaf.html#LeafNotations"><span class="id" title="module">LeafNotations</span></a>.<br/>

<br/>
</div>

<div class="doc">
Smart constructors 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Leaf_Ret" class="idref" href="#Leaf_Ret"><span class="id" title="lemma">Leaf_Ret</span></a> : <span class="id" title="keyword">∀</span> <a id="E:14" class="idref" href="#E:14"><span class="id" title="binder">E</span></a> <a id="R:15" class="idref" href="#R:15"><span class="id" title="binder">R</span></a> <a id="a:16" class="idref" href="#a:16"><span class="id" title="binder">a</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="ITree.Props.Leaf.html#a:16"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.Props.Leaf.html#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.Props.Leaf.html#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> <a class="idref" href="ITree.Props.Leaf.html#a:16"><span class="id" title="variable">a</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.Leaf.html#E:14"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#R:15"><span class="id" title="variable">R</span></a><a class="idref" href="ITree.Props.Leaf.html#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Leaf_Tau" class="idref" href="#Leaf_Tau"><span class="id" title="lemma">Leaf_Tau</span></a> : <span class="id" title="keyword">∀</span> <a id="E:17" class="idref" href="#E:17"><span class="id" title="binder">E</span></a> <a id="R:18" class="idref" href="#R:18"><span class="id" title="binder">R</span></a> <a id="a:19" class="idref" href="#a:19"><span class="id" title="binder">a</span></a> <a id="t:20" class="idref" href="#t:20"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="ITree.Props.Leaf.html#a:19"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.Props.Leaf.html#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.Props.Leaf.html#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Props.Leaf.html#t:20"><span class="id" title="variable">t</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.Leaf.html#E:17"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#R:18"><span class="id" title="variable">R</span></a><a class="idref" href="ITree.Props.Leaf.html#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ITree.Props.Leaf.html#a:19"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.Props.Leaf.html#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#Tau"><span class="id" title="abbreviation">Tau</span></a> <a class="idref" href="ITree.Props.Leaf.html#t:20"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">econstructor</span>; [<span class="id" title="tactic">reflexivity</span> | <span class="id" title="tactic">eauto</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Leaf_Vis" class="idref" href="#Leaf_Vis"><span class="id" title="lemma">Leaf_Vis</span></a> : <span class="id" title="keyword">∀</span> <a id="E:21" class="idref" href="#E:21"><span class="id" title="binder">E</span></a> <a id="X:22" class="idref" href="#X:22"><span class="id" title="binder">X</span></a> <a id="Y:23" class="idref" href="#Y:23"><span class="id" title="binder">Y</span></a> (<a id="e:24" class="idref" href="#e:24"><span class="id" title="binder">e</span></a> : <a class="idref" href="ITree.Props.Leaf.html#E:21"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#X:22"><span class="id" title="variable">X</span></a>) (<a id="k:25" class="idref" href="#k:25"><span class="id" title="binder">k</span></a> : <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.Leaf.html#E:21"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#Y:23"><span class="id" title="variable">Y</span></a>) <a id="b:26" class="idref" href="#b:26"><span class="id" title="binder">b</span></a> <a id="x:27" class="idref" href="#x:27"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="ITree.Props.Leaf.html#b:26"><span class="id" title="variable">b</span></a> <a class="idref" href="ITree.Props.Leaf.html#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.Props.Leaf.html#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Props.Leaf.html#k:25"><span class="id" title="variable">k</span></a> <a class="idref" href="ITree.Props.Leaf.html#x:27"><span class="id" title="variable">x</span></a><a class="idref" href="ITree.Props.Leaf.html#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ITree.Props.Leaf.html#b:26"><span class="id" title="variable">b</span></a> <a class="idref" href="ITree.Props.Leaf.html#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.Props.Leaf.html#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Core.ITreeDefinition.html#Vis"><span class="id" title="abbreviation">Vis</span></a> <a class="idref" href="ITree.Props.Leaf.html#e:24"><span class="id" title="variable">e</span></a> <a class="idref" href="ITree.Props.Leaf.html#k:25"><span class="id" title="variable">k</span></a><a class="idref" href="ITree.Props.Leaf.html#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × <span class="id" title="var">IN</span>; <span class="id" title="tactic">econstructor</span> 3; [<span class="id" title="tactic">reflexivity</span> | <span class="id" title="tactic">eauto</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Inversion lemmas 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="Leaf_Ret_inv" class="idref" href="#Leaf_Ret_inv"><span class="id" title="lemma">Leaf_Ret_inv</span></a> : <span class="id" title="keyword">∀</span> <a id="E:28" class="idref" href="#E:28"><span class="id" title="binder">E</span></a> <a id="R:29" class="idref" href="#R:29"><span class="id" title="binder">R</span></a> (<a id="a:30" class="idref" href="#a:30"><span class="id" title="binder">a</span></a> <a id="b:31" class="idref" href="#b:31"><span class="id" title="binder">b</span></a> : <a class="idref" href="ITree.Props.Leaf.html#R:29"><span class="id" title="variable">R</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="ITree.Props.Leaf.html#Leaf"><span class="id" title="inductive">Leaf</span></a> (<span class="id" title="var">E</span> := <a class="idref" href="ITree.Props.Leaf.html#E:28"><span class="id" title="variable">E</span></a>) <a class="idref" href="ITree.Props.Leaf.html#b:31"><span class="id" title="variable">b</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> <a class="idref" href="ITree.Props.Leaf.html#a:30"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ITree.Props.Leaf.html#b:31"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ITree.Props.Leaf.html#a:30"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × <span class="id" title="var">IN</span>; <span class="id" title="var">inv</span> <span class="id" title="var">IN</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Leaf_Tau_inv" class="idref" href="#Leaf_Tau_inv"><span class="id" title="lemma">Leaf_Tau_inv</span></a> : <span class="id" title="keyword">∀</span> <a id="E:32" class="idref" href="#E:32"><span class="id" title="binder">E</span></a> <a id="R:33" class="idref" href="#R:33"><span class="id" title="binder">R</span></a> (<a id="u:34" class="idref" href="#u:34"><span class="id" title="binder">u</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.Leaf.html#E:32"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#R:33"><span class="id" title="variable">R</span></a>) <a id="b:35" class="idref" href="#b:35"><span class="id" title="binder">b</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="ITree.Props.Leaf.html#b:35"><span class="id" title="variable">b</span></a> <a class="idref" href="ITree.Props.Leaf.html#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#Tau"><span class="id" title="abbreviation">Tau</span></a> <a class="idref" href="ITree.Props.Leaf.html#u:34"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ITree.Props.Leaf.html#b:35"><span class="id" title="variable">b</span></a> <a class="idref" href="ITree.Props.Leaf.html#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.Props.Leaf.html#u:34"><span class="id" title="variable">u</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × <span class="id" title="var">IN</span>; <span class="id" title="var">inv</span> <span class="id" title="var">IN</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Leaf_Vis_inv" class="idref" href="#Leaf_Vis_inv"><span class="id" title="lemma">Leaf_Vis_inv</span></a> : <span class="id" title="keyword">∀</span> <a id="E:36" class="idref" href="#E:36"><span class="id" title="binder">E</span></a> <a id="X:37" class="idref" href="#X:37"><span class="id" title="binder">X</span></a> <a id="Y:38" class="idref" href="#Y:38"><span class="id" title="binder">Y</span></a> (<a id="e:39" class="idref" href="#e:39"><span class="id" title="binder">e</span></a> : <a class="idref" href="ITree.Props.Leaf.html#E:36"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#X:37"><span class="id" title="variable">X</span></a>) (<a id="k:40" class="idref" href="#k:40"><span class="id" title="binder">k</span></a> : <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.Leaf.html#E:36"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#Y:38"><span class="id" title="variable">Y</span></a>) <a id="b:41" class="idref" href="#b:41"><span class="id" title="binder">b</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="ITree.Props.Leaf.html#b:41"><span class="id" title="variable">b</span></a> <a class="idref" href="ITree.Props.Leaf.html#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#Vis"><span class="id" title="abbreviation">Vis</span></a> <a class="idref" href="ITree.Props.Leaf.html#e:39"><span class="id" title="variable">e</span></a> <a class="idref" href="ITree.Props.Leaf.html#k:40"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="x:42" class="idref" href="#x:42"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="ITree.Props.Leaf.html#b:41"><span class="id" title="variable">b</span></a> <a class="idref" href="ITree.Props.Leaf.html#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.Props.Leaf.html#k:40"><span class="id" title="variable">k</span></a> <a class="idref" href="ITree.Props.Leaf.html#x:42"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × <span class="id" title="var">IN</span> *; <span class="id" title="var">inv</span> <span class="id" title="var">IN</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">x</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="keyword">match</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">u</span> <span class="id" title="keyword">return</span> <span class="id" title="keyword">match</span> <a class="idref" href="ITree.Props.Leaf.html#u:44"><span class="id" title="variable">u</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="ITree.Core.ITreeDefinition.html#VisF"><span class="id" title="constructor">VisF</span></a> <span class="id" title="var">e0</span> <span class="id" title="var">k0</span> ⇒ <span class="id" title="var">_</span> | <a class="idref" href="ITree.Core.ITreeDefinition.html#RetF"><span class="id" title="constructor">RetF</span></a> <span class="id" title="var">_</span> | <a class="idref" href="ITree.Core.ITreeDefinition.html#TauF"><span class="id" title="constructor">TauF</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> <span class="id" title="keyword">end</span> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> ⇒ <span class="id" title="var">_</span> <span class="id" title="keyword">end</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Closure under <span class="inlinecode"><a class="idref" href="ITree.Eq.Eqit.html#eutt"><span class="id" title="definition">eutt</span></a></span>

<div class="paragraph"> </div>

  General asymmetric lemmas for <span class="inlinecode"><a class="idref" href="ITree.Eq.Eqit.html#eutt"><span class="id" title="definition">eutt</span></a></span> <span class="inlinecode"><span class="id" title="var">R</span></span>, where we naturally get
  a different point related by <span class="inlinecode"><span class="id" title="var">R</span></span>, and <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a></span> instances for
  <span class="inlinecode"><a class="idref" href="ITree.Eq.Eqit.html#eutt"><span class="id" title="definition">eutt</span></a></span> <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Leaf_eutt_l" class="idref" href="#Leaf_eutt_l"><span class="id" title="lemma">Leaf_eutt_l</span></a> {<a id="E:49" class="idref" href="#E:49"><span class="id" title="binder">E</span></a> <a id="A:50" class="idref" href="#A:50"><span class="id" title="binder">A</span></a> <a id="B:51" class="idref" href="#B:51"><span class="id" title="binder">B</span></a> <a id="R:52" class="idref" href="#R:52"><span class="id" title="binder">R</span></a>}:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="t:53" class="idref" href="#t:53"><span class="id" title="binder">t</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.Leaf.html#E:49"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#A:50"><span class="id" title="variable">A</span></a>) (<a id="u:54" class="idref" href="#u:54"><span class="id" title="binder">u</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.Leaf.html#E:49"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#B:51"><span class="id" title="variable">B</span></a>) (<a id="a:55" class="idref" href="#a:55"><span class="id" title="binder">a</span></a> : <a class="idref" href="ITree.Props.Leaf.html#A:50"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eqit.html#eutt"><span class="id" title="definition">eutt</span></a> <a class="idref" href="ITree.Props.Leaf.html#R:52"><span class="id" title="variable">R</span></a> <a class="idref" href="ITree.Props.Leaf.html#t:53"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Props.Leaf.html#u:54"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ITree.Props.Leaf.html#a:55"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.Props.Leaf.html#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.Props.Leaf.html#t:53"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="b:56" class="idref" href="#b:56"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="ITree.Props.Leaf.html#b:56"><span class="id" title="variable">b</span></a> <a class="idref" href="ITree.Props.Leaf.html#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.Props.Leaf.html#u:54"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="ITree.Props.Leaf.html#R:52"><span class="id" title="variable">R</span></a> <a class="idref" href="ITree.Props.Leaf.html#a:55"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.Props.Leaf.html#b:56"><span class="id" title="variable">b</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × <span class="id" title="var">EQ</span> <span class="id" title="var">FIN</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">u</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">FIN</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">u2</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">punfold</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#RetF"><span class="id" title="constructor">RetF</span></a> <span class="id" title="var">a</span>); <span class="id" title="var">genobs</span> <span class="id" title="var">u2</span> <span class="id" title="var">ou</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">hinduction</span> <span class="id" title="var">EQ</span> <span class="id" title="keyword">before</span> <span class="id" title="var">R</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">Heqi</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">itree</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">edestruct</span> <span class="id" title="var">IHEQ</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">b</span> &amp; <span class="id" title="var">IN</span> &amp; <span class="id" title="var">HR</span>); <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">itree</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">punfold</span> <span class="id" title="var">EQ</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#TauF"><span class="id" title="constructor">TauF</span></a> <span class="id" title="var">u</span>); <span class="id" title="var">genobs</span> <span class="id" title="var">u2</span> <span class="id" title="var">ou2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">hinduction</span> <span class="id" title="var">EQ</span> <span class="id" title="keyword">before</span> <span class="id" title="var">R</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="var">pclearbot</span>; <span class="id" title="var">inv</span> <span class="id" title="var">Heqi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">edestruct</span> <span class="id" title="var">IHFIN</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?); [ .. | <span class="id" title="tactic">eexists</span> ]; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">itree</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">itree</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">edestruct</span> <span class="id" title="var">IHEQ</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?); [ .. | <span class="id" title="tactic">eexists</span> ]; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">itree</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">punfold</span> <span class="id" title="var">EQ</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#VisF"><span class="id" title="constructor">VisF</span></a> <span class="id" title="var">e</span> <span class="id" title="var">k</span>); <span class="id" title="var">genobs</span> <span class="id" title="var">u2</span> <span class="id" title="var">ou2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">hinduction</span> <span class="id" title="var">EQ</span> <span class="id" title="keyword">before</span> <span class="id" title="var">R</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="var">pclearbot</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">revert</span> <span class="id" title="var">x</span> <span class="id" title="var">FIN</span> <span class="id" title="var">IHFIN</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="keyword">match</span> <span class="id" title="var">Heqi</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">u</span> <span class="id" title="keyword">return</span> <span class="id" title="keyword">match</span> <a class="idref" href="ITree.Props.Leaf.html#u:58"><span class="id" title="variable">u</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="ITree.Core.ITreeDefinition.html#VisF"><span class="id" title="constructor">VisF</span></a> <span class="id" title="var">e0</span> <span class="id" title="var">k0</span> ⇒ <span class="id" title="var">_</span> | <a class="idref" href="ITree.Core.ITreeDefinition.html#RetF"><span class="id" title="constructor">RetF</span></a> <span class="id" title="var">_</span> | <a class="idref" href="ITree.Core.ITreeDefinition.html#TauF"><span class="id" title="constructor">TauF</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> <span class="id" title="keyword">end</span> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> ⇒ <span class="id" title="var">_</span> <span class="id" title="keyword">end</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">edestruct</span> <span class="id" title="var">IHFIN</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?); [ | <span class="id" title="tactic">eexists</span> ]; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">itree</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">edestruct</span> <span class="id" title="var">IHEQ</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?); [.. | <span class="id" title="tactic">∃</span> <span class="id" title="var">x0</span> ]; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">itree</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Leaf_eutt_r" class="idref" href="#Leaf_eutt_r"><span class="id" title="lemma">Leaf_eutt_r</span></a> {<a id="E:63" class="idref" href="#E:63"><span class="id" title="binder">E</span></a> <a id="A:64" class="idref" href="#A:64"><span class="id" title="binder">A</span></a> <a id="B:65" class="idref" href="#B:65"><span class="id" title="binder">B</span></a> <a id="R:66" class="idref" href="#R:66"><span class="id" title="binder">R</span></a>}:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="t:67" class="idref" href="#t:67"><span class="id" title="binder">t</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.Leaf.html#E:63"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#A:64"><span class="id" title="variable">A</span></a>) (<a id="u:68" class="idref" href="#u:68"><span class="id" title="binder">u</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.Leaf.html#E:63"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#B:65"><span class="id" title="variable">B</span></a>) (<a id="b:69" class="idref" href="#b:69"><span class="id" title="binder">b</span></a> : <a class="idref" href="ITree.Props.Leaf.html#B:65"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eqit.html#eutt"><span class="id" title="definition">eutt</span></a> <a class="idref" href="ITree.Props.Leaf.html#R:66"><span class="id" title="variable">R</span></a> <a class="idref" href="ITree.Props.Leaf.html#t:67"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Props.Leaf.html#u:68"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ITree.Props.Leaf.html#b:69"><span class="id" title="variable">b</span></a> <a class="idref" href="ITree.Props.Leaf.html#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.Props.Leaf.html#u:68"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="a:70" class="idref" href="#a:70"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="ITree.Props.Leaf.html#a:70"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.Props.Leaf.html#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.Props.Leaf.html#t:67"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="ITree.Props.Leaf.html#R:66"><span class="id" title="variable">R</span></a> <a class="idref" href="ITree.Props.Leaf.html#a:70"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.Props.Leaf.html#b:69"><span class="id" title="variable">b</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × <span class="id" title="var">EQ</span> <span class="id" title="var">FIN</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eqit.html#eqit_flip"><span class="id" title="lemma">eqit_flip</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">EQ</span> <span class="id" title="var">FIN</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> @<a class="idref" href="ITree.Props.Leaf.html#Leaf_eutt_l"><span class="id" title="lemma">Leaf_eutt_l</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Leaf_eutt" class="idref" href="#Leaf_eutt"><span class="id" title="instance">Leaf_eutt</span></a> {<a id="E:71" class="idref" href="#E:71"><span class="id" title="binder">E</span></a> <a id="A:72" class="idref" href="#A:72"><span class="id" title="binder">A</span></a>}:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="ITree.Eq.Eqit.html#eutt"><span class="id" title="definition">eutt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) (@<a class="idref" href="ITree.Props.Leaf.html#Leaf"><span class="id" title="inductive">Leaf</span></a> <a class="idref" href="ITree.Props.Leaf.html#E:71"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#A:72"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#proper_sym_impl_iff_2"><span class="id" title="lemma">proper_sym_impl_iff_2</span></a>; [ <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span> .. | ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#respectful"><span class="id" title="definition">respectful</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Program.Basics.html#impl"><span class="id" title="definition">impl</span></a>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">edestruct</span> @<a class="idref" href="ITree.Props.Leaf.html#Leaf_eutt_l"><span class="id" title="lemma">Leaf_eutt_l</span></a> <span class="id" title="keyword">as</span> [? []]; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Compatibility with <span class="inlinecode"><a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.bind"><span class="id" title="definition">bind</span></a></span>, forward and backward 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Leaf_bind" class="idref" href="#Leaf_bind"><span class="id" title="lemma">Leaf_bind</span></a> : <span class="id" title="keyword">∀</span> {<a id="E:73" class="idref" href="#E:73"><span class="id" title="binder">E</span></a> <a id="R:74" class="idref" href="#R:74"><span class="id" title="binder">R</span></a> <a id="S:75" class="idref" href="#S:75"><span class="id" title="binder">S</span></a>}<br/>
&nbsp;&nbsp;(<a id="t:76" class="idref" href="#t:76"><span class="id" title="binder">t</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.Leaf.html#E:73"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#R:74"><span class="id" title="variable">R</span></a>) (<a id="k:77" class="idref" href="#k:77"><span class="id" title="binder">k</span></a> : <a class="idref" href="ITree.Props.Leaf.html#R:74"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.Leaf.html#E:73"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#S:75"><span class="id" title="variable">S</span></a>) <a id="a:78" class="idref" href="#a:78"><span class="id" title="binder">a</span></a> <a id="b:79" class="idref" href="#b:79"><span class="id" title="binder">b</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="ITree.Props.Leaf.html#b:79"><span class="id" title="variable">b</span></a> <a class="idref" href="ITree.Props.Leaf.html#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.Props.Leaf.html#t:76"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ITree.Props.Leaf.html#a:78"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.Props.Leaf.html#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.Props.Leaf.html#k:77"><span class="id" title="variable">k</span></a> <a class="idref" href="ITree.Props.Leaf.html#b:79"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ITree.Props.Leaf.html#a:78"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.Props.Leaf.html#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.Props.Leaf.html#t:76"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#3530f89eeba6738f103e1c4744407abc"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="ITree.Props.Leaf.html#k:77"><span class="id" title="variable">k</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × <span class="id" title="var">INt</span> <span class="id" title="var">INk</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">INt</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="ITree.Eq.Eqit.html#itree_eta"><span class="id" title="lemma">itree_eta</span></a> <span class="id" title="var">t</span>), <span class="id" title="var">H</span>, <a class="idref" href="ITree.Eq.Eqit.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="ITree.Eq.Eqit.html#itree_eta"><span class="id" title="lemma">itree_eta</span></a> <span class="id" title="var">t</span>), <span class="id" title="var">H</span>, <a class="idref" href="ITree.Eq.Eqit.html#tau_eutt"><span class="id" title="lemma">tau_eutt</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="ITree.Eq.Eqit.html#itree_eta"><span class="id" title="lemma">itree_eta</span></a> <span class="id" title="var">t</span>), <span class="id" title="var">H</span>, <a class="idref" href="ITree.Eq.Eqit.html#bind_vis"><span class="id" title="lemma">bind_vis</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Props.Leaf.html#Leaf_Vis"><span class="id" title="lemma">Leaf_Vis</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Leaf_bind_inv" class="idref" href="#Leaf_bind_inv"><span class="id" title="lemma">Leaf_bind_inv</span></a> : <span class="id" title="keyword">∀</span> {<a id="E:80" class="idref" href="#E:80"><span class="id" title="binder">E</span></a> <a id="R:81" class="idref" href="#R:81"><span class="id" title="binder">R</span></a> <a id="S:82" class="idref" href="#S:82"><span class="id" title="binder">S</span></a>}<br/>
&nbsp;&nbsp;(<a id="t:83" class="idref" href="#t:83"><span class="id" title="binder">t</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.Leaf.html#E:80"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#R:81"><span class="id" title="variable">R</span></a>) (<a id="k:84" class="idref" href="#k:84"><span class="id" title="binder">k</span></a> : <a class="idref" href="ITree.Props.Leaf.html#R:81"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.Leaf.html#E:80"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#S:82"><span class="id" title="variable">S</span></a>) <a id="a:85" class="idref" href="#a:85"><span class="id" title="binder">a</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="ITree.Props.Leaf.html#a:85"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.Props.Leaf.html#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.Props.Leaf.html#t:83"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#3530f89eeba6738f103e1c4744407abc"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="ITree.Props.Leaf.html#k:84"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="b:86" class="idref" href="#b:86"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="ITree.Props.Leaf.html#b:86"><span class="id" title="variable">b</span></a> <a class="idref" href="ITree.Props.Leaf.html#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.Props.Leaf.html#t:83"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="ITree.Props.Leaf.html#a:85"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.Props.Leaf.html#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.Props.Leaf.html#k:84"><span class="id" title="variable">k</span></a> <a class="idref" href="ITree.Props.Leaf.html#b:86"><span class="id" title="variable">b</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × <span class="id" title="var">FIN</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.bind"><span class="id" title="definition">ITree.bind</span></a> <span class="id" title="var">t</span> <span class="id" title="var">k</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">t</span> <span class="id" title="var">k</span> <span class="id" title="var">Hequ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">FIN</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">t'</span> <span class="id" title="var">k'</span> -&gt;; <span class="id" title="tactic">rename</span> <span class="id" title="var">t'</span> <span class="id" title="var">into</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Core.ITreeDefinition.html#observe"><span class="id" title="definition">observe</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">desobs</span> <span class="id" title="var">t</span> <span class="id" title="var">EQ</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">r</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">itree</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Core.ITreeDefinition.html#observe"><span class="id" title="definition">observe</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">desobs</span> <span class="id" title="var">t</span> <span class="id" title="var">EQ</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>; [ <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">itree</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <span class="id" title="var">IHFIN</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?); [ <span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">itree</span> ].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Core.ITreeDefinition.html#observe"><span class="id" title="definition">observe</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">desobs</span> <span class="id" title="var">t</span> <span class="id" title="var">EQ</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>; [ <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">itree</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">x</span> <span class="id" title="var">FIN</span> <span class="id" title="var">IHFIN</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="keyword">match</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">u</span> <span class="id" title="keyword">return</span> <span class="id" title="keyword">match</span> <a class="idref" href="ITree.Props.Leaf.html#u:88"><span class="id" title="variable">u</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="ITree.Core.ITreeDefinition.html#VisF"><span class="id" title="constructor">VisF</span></a> <span class="id" title="var">e0</span> <span class="id" title="var">k0</span> ⇒ <span class="id" title="var">_</span> | <a class="idref" href="ITree.Core.ITreeDefinition.html#RetF"><span class="id" title="constructor">RetF</span></a> <span class="id" title="var">_</span> | <a class="idref" href="ITree.Core.ITreeDefinition.html#TauF"><span class="id" title="constructor">TauF</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> <span class="id" title="keyword">end</span> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> ⇒ <span class="id" title="var">_</span> <span class="id" title="keyword">end</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <span class="id" title="var">IHFIN</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?); [ <span class="id" title="tactic">reflexivity</span> | <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">itree</span> ].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Leaf-aware up-to bind closure
    This construction generalizes <span class="inlinecode"><a class="idref" href="ITree.Eq.Eqit.html#eqit_bind_clo"><span class="id" title="inductive">eqit_bind_clo</span></a></span>: one can
    indeed provide an arbitrary cut at the relational
    redicate <span class="inlinecode"><span class="id" title="var">RU</span></span> of one's choice, but the continuations
    are only required to be related pointwise at the intersection
    of <span class="inlinecode"><span class="id" title="var">RU</span></span> with the respective leaves of the prefixes.
  
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="LeafBind" class="idref" href="#LeafBind"><span class="id" title="section">LeafBind</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="E:93" class="idref" href="#E:93"><span class="id" title="binder">E</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>} {<a id="R:94" class="idref" href="#R:94"><span class="id" title="binder">R</span></a> <a id="S:95" class="idref" href="#S:95"><span class="id" title="binder">S</span></a> : <span class="id" title="keyword">Type</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">itree</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="eqit_Leaf_bind_clo" class="idref" href="#eqit_Leaf_bind_clo"><span class="id" title="inductive">eqit_Leaf_bind_clo</span></a> <a id="b1:96" class="idref" href="#b1:96"><span class="id" title="binder">b1</span></a> <a id="b2:97" class="idref" href="#b2:97"><span class="id" title="binder">b2</span></a> (<a id="r:98" class="idref" href="#r:98"><span class="id" title="binder">r</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.Leaf.html#LeafBind.E"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#LeafBind.R"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.Leaf.html#LeafBind.E"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#LeafBind.S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.Leaf.html#LeafBind.E"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#LeafBind.R"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.Leaf.html#LeafBind.E"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#LeafBind.S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="pbc_intro_h" class="idref" href="#pbc_intro_h"><span class="id" title="constructor">pbc_intro_h</span></a> <a id="U1:101" class="idref" href="#U1:101"><span class="id" title="binder">U1</span></a> <a id="U2:102" class="idref" href="#U2:102"><span class="id" title="binder">U2</span></a> (<a id="RU:103" class="idref" href="#RU:103"><span class="id" title="binder">RU</span></a> : <a class="idref" href="ITree.Props.Leaf.html#U1:101"><span class="id" title="variable">U1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Props.Leaf.html#U2:102"><span class="id" title="variable">U2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="t1:104" class="idref" href="#t1:104"><span class="id" title="binder">t1</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.Leaf.html#LeafBind.E"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#U1:101"><span class="id" title="variable">U1</span></a>) (<a id="t2:105" class="idref" href="#t2:105"><span class="id" title="binder">t2</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.Leaf.html#LeafBind.E"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#U2:102"><span class="id" title="variable">U2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="k1:106" class="idref" href="#k1:106"><span class="id" title="binder">k1</span></a> : <a class="idref" href="ITree.Props.Leaf.html#U1:101"><span class="id" title="variable">U1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.Leaf.html#LeafBind.E"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#LeafBind.R"><span class="id" title="variable">R</span></a>) (<a id="k2:107" class="idref" href="#k2:107"><span class="id" title="binder">k2</span></a> : <a class="idref" href="ITree.Props.Leaf.html#U2:102"><span class="id" title="variable">U2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.Leaf.html#LeafBind.E"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#LeafBind.S"><span class="id" title="variable">S</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="EQV:108" class="idref" href="#EQV:108"><span class="id" title="binder">EQV</span></a>: <a class="idref" href="ITree.Eq.Eqit.html#eqit"><span class="id" title="definition">eqit</span></a> <a class="idref" href="ITree.Props.Leaf.html#RU:103"><span class="id" title="variable">RU</span></a> <a class="idref" href="ITree.Props.Leaf.html#b1:96"><span class="id" title="variable">b1</span></a> <a class="idref" href="ITree.Props.Leaf.html#b2:97"><span class="id" title="variable">b2</span></a> <a class="idref" href="ITree.Props.Leaf.html#t1:104"><span class="id" title="variable">t1</span></a> <a class="idref" href="ITree.Props.Leaf.html#t2:105"><span class="id" title="variable">t2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="REL:111" class="idref" href="#REL:111"><span class="id" title="binder">REL</span></a>: <span class="id" title="keyword">∀</span> <a id="u1:109" class="idref" href="#u1:109"><span class="id" title="binder">u1</span></a> <a id="u2:110" class="idref" href="#u2:110"><span class="id" title="binder">u2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Props.Leaf.html#u1:109"><span class="id" title="variable">u1</span></a> <a class="idref" href="ITree.Props.Leaf.html#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.Props.Leaf.html#t1:104"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Props.Leaf.html#u2:110"><span class="id" title="variable">u2</span></a> <a class="idref" href="ITree.Props.Leaf.html#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.Props.Leaf.html#t2:105"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Props.Leaf.html#RU:103"><span class="id" title="variable">RU</span></a> <a class="idref" href="ITree.Props.Leaf.html#u1:109"><span class="id" title="variable">u1</span></a> <a class="idref" href="ITree.Props.Leaf.html#u2:110"><span class="id" title="variable">u2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Props.Leaf.html#r:98"><span class="id" title="variable">r</span></a> (<a class="idref" href="ITree.Props.Leaf.html#k1:106"><span class="id" title="variable">k1</span></a> <a class="idref" href="ITree.Props.Leaf.html#u1:109"><span class="id" title="variable">u1</span></a>) (<a class="idref" href="ITree.Props.Leaf.html#k2:107"><span class="id" title="variable">k2</span></a> <a class="idref" href="ITree.Props.Leaf.html#u2:110"><span class="id" title="variable">u2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="ITree.Props.Leaf.html#eqit_Leaf_bind_clo:99"><span class="id" title="inductive">eqit_Leaf_bind_clo</span></a> <a class="idref" href="ITree.Props.Leaf.html#b1:96"><span class="id" title="variable">b1</span></a> <a class="idref" href="ITree.Props.Leaf.html#b2:97"><span class="id" title="variable">b2</span></a> <a class="idref" href="ITree.Props.Leaf.html#r:98"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.bind"><span class="id" title="definition">ITree.bind</span></a> <a class="idref" href="ITree.Props.Leaf.html#t1:104"><span class="id" title="variable">t1</span></a> <a class="idref" href="ITree.Props.Leaf.html#k1:106"><span class="id" title="variable">k1</span></a>) (<a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.bind"><span class="id" title="definition">ITree.bind</span></a> <a class="idref" href="ITree.Props.Leaf.html#t2:105"><span class="id" title="variable">t2</span></a> <a class="idref" href="ITree.Props.Leaf.html#k2:107"><span class="id" title="variable">k2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="ITree.Props.Leaf.html#eqit_Leaf_bind_clo"><span class="id" title="inductive">eqit_Leaf_bind_clo</span></a> : <span class="id" title="var">itree</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eqit_Leaf_clo_bind" class="idref" href="#eqit_Leaf_clo_bind"><span class="id" title="lemma">eqit_Leaf_clo_bind</span></a>  (<a id="RS:112" class="idref" href="#RS:112"><span class="id" title="binder">RS</span></a> : <a class="idref" href="ITree.Props.Leaf.html#LeafBind.R"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Props.Leaf.html#LeafBind.S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <a id="b1:113" class="idref" href="#b1:113"><span class="id" title="binder">b1</span></a> <a id="b2:114" class="idref" href="#b2:114"><span class="id" title="binder">b2</span></a> <a id="vclo:115" class="idref" href="#vclo:115"><span class="id" title="binder">vclo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MON:116" class="idref" href="#MON:116"><span class="id" title="binder">MON</span></a>: <span class="id" title="definition">monotone2</span> <a class="idref" href="ITree.Props.Leaf.html#vclo:115"><span class="id" title="variable">vclo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CMP:117" class="idref" href="#CMP:117"><span class="id" title="binder">CMP</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Program.Basics.html#compose"><span class="id" title="definition">compose</span></a> (<a class="idref" href="ITree.Eq.Eqit.html#eqitC"><span class="id" title="definition">eqitC</span></a> <a class="idref" href="ITree.Props.Leaf.html#RS:112"><span class="id" title="variable">RS</span></a> <a class="idref" href="ITree.Props.Leaf.html#b1:113"><span class="id" title="variable">b1</span></a> <a class="idref" href="ITree.Props.Leaf.html#b2:114"><span class="id" title="variable">b2</span></a>) <a class="idref" href="ITree.Props.Leaf.html#vclo:115"><span class="id" title="variable">vclo</span></a> <span class="id" title="notation">&lt;3=</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Program.Basics.html#compose"><span class="id" title="definition">compose</span></a> <a class="idref" href="ITree.Props.Leaf.html#vclo:115"><span class="id" title="variable">vclo</span></a> (<a class="idref" href="ITree.Eq.Eqit.html#eqitC"><span class="id" title="definition">eqitC</span></a> <a class="idref" href="ITree.Props.Leaf.html#RS:112"><span class="id" title="variable">RS</span></a> <a class="idref" href="ITree.Props.Leaf.html#b1:113"><span class="id" title="variable">b1</span></a> <a class="idref" href="ITree.Props.Leaf.html#b2:114"><span class="id" title="variable">b2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ID:118" class="idref" href="#ID:118"><span class="id" title="binder">ID</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <span class="id" title="notation">&lt;3=</span> <a class="idref" href="ITree.Props.Leaf.html#vclo:115"><span class="id" title="variable">vclo</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Props.Leaf.html#eqit_Leaf_bind_clo"><span class="id" title="inductive">eqit_Leaf_bind_clo</span></a> <a class="idref" href="ITree.Props.Leaf.html#b1:113"><span class="id" title="variable">b1</span></a> <a class="idref" href="ITree.Props.Leaf.html#b2:114"><span class="id" title="variable">b2</span></a> <span class="id" title="notation">&lt;3=</span> <span class="id" title="definition">gupaco2</span> (<a class="idref" href="ITree.Eq.Eqit.html#eqit_"><span class="id" title="definition">eqit_</span></a> <a class="idref" href="ITree.Props.Leaf.html#RS:112"><span class="id" title="variable">RS</span></a> <a class="idref" href="ITree.Props.Leaf.html#b1:113"><span class="id" title="variable">b1</span></a> <a class="idref" href="ITree.Props.Leaf.html#b2:114"><span class="id" title="variable">b2</span></a> <a class="idref" href="ITree.Props.Leaf.html#vclo:115"><span class="id" title="variable">vclo</span></a>) (<a class="idref" href="ITree.Eq.Eqit.html#eqitC"><span class="id" title="definition">eqitC</span></a> <a class="idref" href="ITree.Props.Leaf.html#RS:112"><span class="id" title="variable">RS</span></a> <a class="idref" href="ITree.Props.Leaf.html#b1:113"><span class="id" title="variable">b1</span></a> <a class="idref" href="ITree.Props.Leaf.html#b2:114"><span class="id" title="variable">b2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gcofix</span> <span class="id" title="var">CIH</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">PR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">guclo</span> <a class="idref" href="ITree.Eq.Eqit.html#eqit_clo_trans"><span class="id" title="lemma">eqit_clo_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">auto_ctrans_eq</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> (<a class="idref" href="ITree.Eq.Eqit.html#itree_eta"><span class="id" title="lemma">itree_eta</span></a> (<a id="x:124" class="idref" href="#x:124"><span class="id" title="binder">x</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#0959d6531a3c2d5ddb2177e5cf7c15a8"><span class="id" title="notation">&lt;-</span></a> <span class="id" title="var">_</span><a class="idref" href="ITree.Core.ITreeDefinition.html#0959d6531a3c2d5ddb2177e5cf7c15a8"><span class="id" title="notation">;;</span></a> <span class="id" title="var">_</span> <a class="idref" href="ITree.Props.Leaf.html#x:119"><span class="id" title="variable">x</span></a>)), <a class="idref" href="ITree.Eq.Eqit.html#unfold_bind"><span class="id" title="lemma">unfold_bind</span></a>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">punfold</span> <span class="id" title="var">EQV</span>. <span class="id" title="var">unfold_eqit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">genobs</span> <span class="id" title="var">t1</span> <span class="id" title="var">ot1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">genobs</span> <span class="id" title="var">t2</span> <span class="id" title="var">ot2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">hinduction</span> <span class="id" title="var">EQV</span> <span class="id" title="keyword">before</span> <span class="id" title="var">CIH</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">pclearbot</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">guclo</span> <a class="idref" href="ITree.Eq.Eqit.html#eqit_clo_trans"><span class="id" title="lemma">eqit_clo_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">auto_ctrans_eq</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="ITree.Eq.Eqit.html#itree_eta"><span class="id" title="lemma">itree_eta</span></a>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gbase</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">REL0</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">itree</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">gstep</span>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gbase</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">CIH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">itree</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">gstep</span>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">ID</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gbase</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">CIH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">itree</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">b1</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">guclo</span> <a class="idref" href="ITree.Eq.Eqit.html#eqit_clo_trans"><span class="id" title="lemma">eqit_clo_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3:{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHEQV</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">itree</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3,4:<span class="id" title="var">auto_ctrans_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eqit.html#eqit_Tau_l"><span class="id" title="lemma">eqit_Tau_l</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#unfold_bind"><span class="id" title="lemma">unfold_bind</span></a>, &lt;-<a class="idref" href="ITree.Eq.Eqit.html#itree_eta"><span class="id" title="lemma">itree_eta</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">b2</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">guclo</span> <a class="idref" href="ITree.Eq.Eqit.html#eqit_clo_trans"><span class="id" title="lemma">eqit_clo_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">auto_ctrans_eq</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">itree</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eqit.html#eqit_Tau_l"><span class="id" title="lemma">eqit_Tau_l</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#unfold_bind"><span class="id" title="lemma">unfold_bind</span></a>, &lt;-<a class="idref" href="ITree.Eq.Eqit.html#itree_eta"><span class="id" title="lemma">itree_eta</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ITree.Props.Leaf.html#LeafBind"><span class="id" title="section">LeafBind</span></a>.<br/>

<br/>
</div>

<div class="doc">
General cut rule for <span class="inlinecode"><a class="idref" href="ITree.Eq.Eqit.html#eqit"><span class="id" title="abbreviation">eqit</span></a></span>
    This result generalizes <span class="inlinecode"><a class="idref" href="ITree.Eq.Eqit.html#eqit_clo_bind"><span class="id" title="lemma">eqit_clo_bind</span></a></span>.  
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="eqit_clo_bind_gen" class="idref" href="#eqit_clo_bind_gen"><span class="id" title="lemma">eqit_clo_bind_gen</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="E:125" class="idref" href="#E:125"><span class="id" title="binder">E</span></a>} {<a id="R1:126" class="idref" href="#R1:126"><span class="id" title="binder">R1</span></a> <a id="R2:127" class="idref" href="#R2:127"><span class="id" title="binder">R2</span></a>} (<a id="RR:128" class="idref" href="#RR:128"><span class="id" title="binder">RR</span></a> : <a class="idref" href="ITree.Props.Leaf.html#R1:126"><span class="id" title="variable">R1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Props.Leaf.html#R2:127"><span class="id" title="variable">R2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) {<a id="U1:129" class="idref" href="#U1:129"><span class="id" title="binder">U1</span></a> <a id="U2:130" class="idref" href="#U2:130"><span class="id" title="binder">U2</span></a>} {<a id="UU:131" class="idref" href="#UU:131"><span class="id" title="binder">UU</span></a> : <a class="idref" href="ITree.Props.Leaf.html#U1:129"><span class="id" title="variable">U1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Props.Leaf.html#U2:130"><span class="id" title="variable">U2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="b1:132" class="idref" href="#b1:132"><span class="id" title="binder">b1</span></a> <a id="b2:133" class="idref" href="#b2:133"><span class="id" title="binder">b2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="t1:134" class="idref" href="#t1:134"><span class="id" title="binder">t1</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.Leaf.html#E:125"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#U1:129"><span class="id" title="variable">U1</span></a>) (<a id="t2:135" class="idref" href="#t2:135"><span class="id" title="binder">t2</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.Leaf.html#E:125"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#U2:130"><span class="id" title="variable">U2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="k1:136" class="idref" href="#k1:136"><span class="id" title="binder">k1</span></a> : <a class="idref" href="ITree.Props.Leaf.html#U1:129"><span class="id" title="variable">U1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.Leaf.html#E:125"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#R1:126"><span class="id" title="variable">R1</span></a>) (<a id="k2:137" class="idref" href="#k2:137"><span class="id" title="binder">k2</span></a> : <a class="idref" href="ITree.Props.Leaf.html#U2:130"><span class="id" title="variable">U2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.Leaf.html#E:125"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#R2:127"><span class="id" title="variable">R2</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eqit.html#eqit"><span class="id" title="definition">eqit</span></a> <a class="idref" href="ITree.Props.Leaf.html#UU:131"><span class="id" title="variable">UU</span></a> <a class="idref" href="ITree.Props.Leaf.html#b1:132"><span class="id" title="variable">b1</span></a> <a class="idref" href="ITree.Props.Leaf.html#b2:133"><span class="id" title="variable">b2</span></a> <a class="idref" href="ITree.Props.Leaf.html#t1:134"><span class="id" title="variable">t1</span></a> <a class="idref" href="ITree.Props.Leaf.html#t2:135"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<a id="u1:138" class="idref" href="#u1:138"><span class="id" title="binder">u1</span></a> : <a class="idref" href="ITree.Props.Leaf.html#U1:129"><span class="id" title="variable">U1</span></a>) (<a id="u2:139" class="idref" href="#u2:139"><span class="id" title="binder">u2</span></a> : <a class="idref" href="ITree.Props.Leaf.html#U2:130"><span class="id" title="variable">U2</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Props.Leaf.html#u1:138"><span class="id" title="variable">u1</span></a> <a class="idref" href="ITree.Props.Leaf.html#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.Props.Leaf.html#t1:134"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Props.Leaf.html#u2:139"><span class="id" title="variable">u2</span></a> <a class="idref" href="ITree.Props.Leaf.html#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.Props.Leaf.html#t2:135"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Props.Leaf.html#UU:131"><span class="id" title="variable">UU</span></a> <a class="idref" href="ITree.Props.Leaf.html#u1:138"><span class="id" title="variable">u1</span></a> <a class="idref" href="ITree.Props.Leaf.html#u2:139"><span class="id" title="variable">u2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eqit.html#eqit"><span class="id" title="definition">eqit</span></a> <a class="idref" href="ITree.Props.Leaf.html#RR:128"><span class="id" title="variable">RR</span></a> <a class="idref" href="ITree.Props.Leaf.html#b1:132"><span class="id" title="variable">b1</span></a> <a class="idref" href="ITree.Props.Leaf.html#b2:133"><span class="id" title="variable">b2</span></a> (<a class="idref" href="ITree.Props.Leaf.html#k1:136"><span class="id" title="variable">k1</span></a> <a class="idref" href="ITree.Props.Leaf.html#u1:138"><span class="id" title="variable">u1</span></a>) (<a class="idref" href="ITree.Props.Leaf.html#k2:137"><span class="id" title="variable">k2</span></a> <a class="idref" href="ITree.Props.Leaf.html#u2:139"><span class="id" title="variable">u2</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eqit.html#eqit"><span class="id" title="definition">eqit</span></a> <a class="idref" href="ITree.Props.Leaf.html#RR:128"><span class="id" title="variable">RR</span></a> <a class="idref" href="ITree.Props.Leaf.html#b1:132"><span class="id" title="variable">b1</span></a> <a class="idref" href="ITree.Props.Leaf.html#b2:133"><span class="id" title="variable">b2</span></a> (<a id="x:140" class="idref" href="#x:140"><span class="id" title="binder">x</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#0959d6531a3c2d5ddb2177e5cf7c15a8"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ITree.Props.Leaf.html#t1:134"><span class="id" title="variable">t1</span></a><a class="idref" href="ITree.Core.ITreeDefinition.html#0959d6531a3c2d5ddb2177e5cf7c15a8"><span class="id" title="notation">;;</span></a> <a class="idref" href="ITree.Props.Leaf.html#k1:136"><span class="id" title="variable">k1</span></a> <a class="idref" href="ITree.Props.Leaf.html#x:140"><span class="id" title="variable">x</span></a>) (<a id="x:141" class="idref" href="#x:141"><span class="id" title="binder">x</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#0959d6531a3c2d5ddb2177e5cf7c15a8"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ITree.Props.Leaf.html#t2:135"><span class="id" title="variable">t2</span></a><a class="idref" href="ITree.Core.ITreeDefinition.html#0959d6531a3c2d5ddb2177e5cf7c15a8"><span class="id" title="notation">;;</span></a> <a class="idref" href="ITree.Props.Leaf.html#k2:137"><span class="id" title="variable">k2</span></a> <a class="idref" href="ITree.Props.Leaf.html#x:141"><span class="id" title="variable">x</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ginit</span>. <span class="id" title="var">guclo</span> (@<a class="idref" href="ITree.Props.Leaf.html#eqit_Leaf_clo_bind"><span class="id" title="lemma">eqit_Leaf_clo_bind</span></a> <span class="id" title="var">E</span> <span class="id" title="var">R1</span> <span class="id" title="var">R2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × <span class="id" title="var">IN1</span> <span class="id" title="var">IN2</span> <span class="id" title="var">HR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gfinal</span>; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Specialization of the cut rule to <span class="inlinecode"><a class="idref" href="ITree.Eq.Eqit.html#eutt"><span class="id" title="definition">eutt</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="eutt_clo_bind_gen" class="idref" href="#eutt_clo_bind_gen"><span class="id" title="lemma">eutt_clo_bind_gen</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="E:142" class="idref" href="#E:142"><span class="id" title="binder">E</span></a>} {<a id="R1:143" class="idref" href="#R1:143"><span class="id" title="binder">R1</span></a> <a id="R2:144" class="idref" href="#R2:144"><span class="id" title="binder">R2</span></a>} (<a id="RR:145" class="idref" href="#RR:145"><span class="id" title="binder">RR</span></a> : <a class="idref" href="ITree.Props.Leaf.html#R1:143"><span class="id" title="variable">R1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Props.Leaf.html#R2:144"><span class="id" title="variable">R2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) {<a id="U1:146" class="idref" href="#U1:146"><span class="id" title="binder">U1</span></a> <a id="U2:147" class="idref" href="#U2:147"><span class="id" title="binder">U2</span></a>} {<a id="UU:148" class="idref" href="#UU:148"><span class="id" title="binder">UU</span></a> : <a class="idref" href="ITree.Props.Leaf.html#U1:146"><span class="id" title="variable">U1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Props.Leaf.html#U2:147"><span class="id" title="variable">U2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="t1:149" class="idref" href="#t1:149"><span class="id" title="binder">t1</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.Leaf.html#E:142"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#U1:146"><span class="id" title="variable">U1</span></a>) (<a id="t2:150" class="idref" href="#t2:150"><span class="id" title="binder">t2</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.Leaf.html#E:142"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#U2:147"><span class="id" title="variable">U2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="k1:151" class="idref" href="#k1:151"><span class="id" title="binder">k1</span></a> : <a class="idref" href="ITree.Props.Leaf.html#U1:146"><span class="id" title="variable">U1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.Leaf.html#E:142"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#R1:143"><span class="id" title="variable">R1</span></a>) (<a id="k2:152" class="idref" href="#k2:152"><span class="id" title="binder">k2</span></a> : <a class="idref" href="ITree.Props.Leaf.html#U2:147"><span class="id" title="variable">U2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.Leaf.html#E:142"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#R2:144"><span class="id" title="variable">R2</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eqit.html#eutt"><span class="id" title="definition">eutt</span></a> <a class="idref" href="ITree.Props.Leaf.html#UU:148"><span class="id" title="variable">UU</span></a> <a class="idref" href="ITree.Props.Leaf.html#t1:149"><span class="id" title="variable">t1</span></a> <a class="idref" href="ITree.Props.Leaf.html#t2:150"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<a id="u1:153" class="idref" href="#u1:153"><span class="id" title="binder">u1</span></a> : <a class="idref" href="ITree.Props.Leaf.html#U1:146"><span class="id" title="variable">U1</span></a>) (<a id="u2:154" class="idref" href="#u2:154"><span class="id" title="binder">u2</span></a> : <a class="idref" href="ITree.Props.Leaf.html#U2:147"><span class="id" title="variable">U2</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Props.Leaf.html#u1:153"><span class="id" title="variable">u1</span></a> <a class="idref" href="ITree.Props.Leaf.html#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.Props.Leaf.html#t1:149"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Props.Leaf.html#u2:154"><span class="id" title="variable">u2</span></a> <a class="idref" href="ITree.Props.Leaf.html#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.Props.Leaf.html#t2:150"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Props.Leaf.html#UU:148"><span class="id" title="variable">UU</span></a> <a class="idref" href="ITree.Props.Leaf.html#u1:153"><span class="id" title="variable">u1</span></a> <a class="idref" href="ITree.Props.Leaf.html#u2:154"><span class="id" title="variable">u2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eqit.html#eutt"><span class="id" title="definition">eutt</span></a> <a class="idref" href="ITree.Props.Leaf.html#RR:145"><span class="id" title="variable">RR</span></a> (<a class="idref" href="ITree.Props.Leaf.html#k1:151"><span class="id" title="variable">k1</span></a> <a class="idref" href="ITree.Props.Leaf.html#u1:153"><span class="id" title="variable">u1</span></a>) (<a class="idref" href="ITree.Props.Leaf.html#k2:152"><span class="id" title="variable">k2</span></a> <a class="idref" href="ITree.Props.Leaf.html#u2:154"><span class="id" title="variable">u2</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eqit.html#eutt"><span class="id" title="definition">eutt</span></a> <a class="idref" href="ITree.Props.Leaf.html#RR:145"><span class="id" title="variable">RR</span></a> (<a id="x:155" class="idref" href="#x:155"><span class="id" title="binder">x</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#0959d6531a3c2d5ddb2177e5cf7c15a8"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ITree.Props.Leaf.html#t1:149"><span class="id" title="variable">t1</span></a><a class="idref" href="ITree.Core.ITreeDefinition.html#0959d6531a3c2d5ddb2177e5cf7c15a8"><span class="id" title="notation">;;</span></a> <a class="idref" href="ITree.Props.Leaf.html#k1:151"><span class="id" title="variable">k1</span></a> <a class="idref" href="ITree.Props.Leaf.html#x:155"><span class="id" title="variable">x</span></a>) (<a id="x:156" class="idref" href="#x:156"><span class="id" title="binder">x</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#0959d6531a3c2d5ddb2177e5cf7c15a8"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ITree.Props.Leaf.html#t2:150"><span class="id" title="variable">t2</span></a><a class="idref" href="ITree.Core.ITreeDefinition.html#0959d6531a3c2d5ddb2177e5cf7c15a8"><span class="id" title="notation">;;</span></a> <a class="idref" href="ITree.Props.Leaf.html#k2:152"><span class="id" title="variable">k2</span></a> <a class="idref" href="ITree.Props.Leaf.html#x:156"><span class="id" title="variable">x</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> *; <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Props.Leaf.html#eqit_clo_bind_gen"><span class="id" title="lemma">eqit_clo_bind_gen</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Often useful particular case of identical prefixes 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="eutt_eq_bind_gen" class="idref" href="#eutt_eq_bind_gen"><span class="id" title="lemma">eutt_eq_bind_gen</span></a> {<a id="E:157" class="idref" href="#E:157"><span class="id" title="binder">E</span></a> <a id="R:158" class="idref" href="#R:158"><span class="id" title="binder">R</span></a> <a id="S:159" class="idref" href="#S:159"><span class="id" title="binder">S</span></a> <a id="T:160" class="idref" href="#T:160"><span class="id" title="binder">T</span></a>} (<a id="RS:161" class="idref" href="#RS:161"><span class="id" title="binder">RS</span></a> : <a class="idref" href="ITree.Props.Leaf.html#R:158"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Props.Leaf.html#S:159"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="t:162" class="idref" href="#t:162"><span class="id" title="binder">t</span></a>: <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.Leaf.html#E:157"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#T:160"><span class="id" title="variable">T</span></a>) (<a id="k1:163" class="idref" href="#k1:163"><span class="id" title="binder">k1</span></a>: <a class="idref" href="ITree.Props.Leaf.html#T:160"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.Leaf.html#E:157"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#R:158"><span class="id" title="variable">R</span></a>) (<a id="k2:164" class="idref" href="#k2:164"><span class="id" title="binder">k2</span></a> : <a class="idref" href="ITree.Props.Leaf.html#T:160"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Props.Leaf.html#E:157"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Props.Leaf.html#S:159"><span class="id" title="variable">S</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="u:165" class="idref" href="#u:165"><span class="id" title="binder">u</span></a>, <a class="idref" href="ITree.Props.Leaf.html#u:165"><span class="id" title="variable">u</span></a> <a class="idref" href="ITree.Props.Leaf.html#88e5122019f9ab7438ce1069fb6fcc97"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.Props.Leaf.html#t:162"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Eq.Eqit.html#eutt"><span class="id" title="definition">eutt</span></a> <a class="idref" href="ITree.Props.Leaf.html#RS:161"><span class="id" title="variable">RS</span></a> (<a class="idref" href="ITree.Props.Leaf.html#k1:163"><span class="id" title="variable">k1</span></a> <a class="idref" href="ITree.Props.Leaf.html#u:165"><span class="id" title="variable">u</span></a>) (<a class="idref" href="ITree.Props.Leaf.html#k2:164"><span class="id" title="variable">k2</span></a> <a class="idref" href="ITree.Props.Leaf.html#u:165"><span class="id" title="variable">u</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eqit.html#eutt"><span class="id" title="definition">eutt</span></a> <a class="idref" href="ITree.Props.Leaf.html#RS:161"><span class="id" title="variable">RS</span></a> (<a class="idref" href="ITree.Props.Leaf.html#t:162"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#3530f89eeba6738f103e1c4744407abc"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="ITree.Props.Leaf.html#k1:163"><span class="id" title="variable">k1</span></a>) (<a class="idref" href="ITree.Props.Leaf.html#t:162"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#3530f89eeba6738f103e1c4744407abc"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="ITree.Props.Leaf.html#k2:164"><span class="id" title="variable">k2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Props.Leaf.html#eutt_clo_bind_gen"><span class="id" title="lemma">eutt_clo_bind_gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × <span class="id" title="var">IN</span> <span class="id" title="var">_</span> &lt;-; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
