<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://github.com/DeepSpec/InteractionTrees">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">ITree.Extra.Dijkstra.StateSpecT</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#"><span class="id" title="library">Morphisms</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ExtLib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="library">Structures.Monad</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Paco</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">paco</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ITree</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.ITree.html#"><span class="id" title="library">ITree</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.ITreeFacts.html#"><span class="id" title="library">ITreeFacts</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Props.Infinite.html#"><span class="id" title="library">Props.Infinite</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ITree.Extra</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Extra.Dijkstra.DijkstraMonad.html#"><span class="id" title="library">Dijkstra.DijkstraMonad</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Extra.Dijkstra.PureITreeBasics.html#"><span class="id" title="library">Dijkstra.PureITreeBasics</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Extra.Dijkstra.IterRel.html#"><span class="id" title="library">Dijkstra.IterRel</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#"><span class="id" title="library">Dijkstra.DelaySpecMonad</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="ITree.Basics.Basics.html#Monads"><span class="id" title="module">Monads</span></a>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="module">MonadNotation</span>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">monad_scope</span>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">dijkstra_scope</span>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">delayspec_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="StateSpecT" class="idref" href="#StateSpecT"><span class="id" title="section">StateSpecT</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="S:1" class="idref" href="#S:1"><span class="id" title="binder">S</span></a> : <span class="id" title="keyword">Type</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="W:2" class="idref" href="#W:2"><span class="id" title="binder">W</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="MonadW:3" class="idref" href="#MonadW:3"><span class="id" title="binder">MonadW</span></a> : <span class="id" title="class">Monad</span> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT.W"><span class="id" title="variable">W</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="OrderW:4" class="idref" href="#OrderW:4"><span class="id" title="binder">OrderW</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DijkstraMonad.html#OrderM"><span class="id" title="class">OrderM</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT.W"><span class="id" title="variable">W</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="OrderedMonadW:5" class="idref" href="#OrderedMonadW:5"><span class="id" title="binder">OrderedMonadW</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DijkstraMonad.html#OrderedMonad"><span class="id" title="class">OrderedMonad</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT.W"><span class="id" title="variable">W</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="EqW:6" class="idref" href="#EqW:6"><span class="id" title="binder">EqW</span></a> : <a class="idref" href="ITree.Basics.Monad.html#Eq1"><span class="id" title="class">Eq1</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT.W"><span class="id" title="variable">W</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="EquivRel:8" class="idref" href="#EquivRel:8"><span class="id" title="binder">EquivRel</span></a> : <span class="id" title="keyword">∀</span> <a id="A:7" class="idref" href="#A:7"><span class="id" title="binder">A</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> (<a class="idref" href="ITree.Basics.Monad.html#eq1"><span class="id" title="definition">eq1</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#A:7"><span class="id" title="variable">A</span></a>)) }.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="MonadLawsW:9" class="idref" href="#MonadLawsW:9"><span class="id" title="binder">MonadLawsW</span></a> : <a class="idref" href="ITree.Basics.Monad.html#MonadLawsE"><span class="id" title="class">MonadLawsE</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT.W"><span class="id" title="variable">W</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="StateSpecT" class="idref" href="#StateSpecT"><span class="id" title="definition">StateSpecT</span></a> (<a id="A:10" class="idref" href="#A:10"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) := <a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">stateT</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT.S"><span class="id" title="variable">S</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT.W"><span class="id" title="variable">W</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#A:10"><span class="id" title="variable">A</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="StateSpecTOrder" class="idref" href="#StateSpecTOrder"><span class="id" title="instance">StateSpecTOrder</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DijkstraMonad.html#OrderM"><span class="id" title="class">OrderM</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT"><span class="id" title="definition">StateSpecT</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="A:11" class="idref" href="#A:11"><span class="id" title="binder">A</span></a> (<a id="w1:12" class="idref" href="#w1:12"><span class="id" title="binder">w1</span></a> <a id="w2:13" class="idref" href="#w2:13"><span class="id" title="binder">w2</span></a> : <a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">stateT</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT.S"><span class="id" title="variable">S</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT.W"><span class="id" title="variable">W</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#A:11"><span class="id" title="variable">A</span></a>) ⇒ <span class="id" title="keyword">∀</span> (<a id="s:14" class="idref" href="#s:14"><span class="id" title="binder">s</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT.S"><span class="id" title="variable">S</span></a>), <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#w1:12"><span class="id" title="variable">w1</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#s:14"><span class="id" title="variable">s</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DijkstraMonad.html#9cc4d6f6a7e127f0332ffaa2869c333e"><span class="id" title="notation">&lt;≈</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#w2:13"><span class="id" title="variable">w2</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#s:14"><span class="id" title="variable">s</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="StateSpecTOrderedLaws" class="idref" href="#StateSpecTOrderedLaws"><span class="id" title="instance">StateSpecTOrderedLaws</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DijkstraMonad.html#OrderedMonad"><span class="id" title="class">OrderedMonad</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT"><span class="id" title="definition">StateSpecT</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT.OrderedMonadW"><span class="id" title="variable">OrderedMonadW</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">trans</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">w1</span> <span class="id" title="var">w2</span> <span class="id" title="var">f1</span> <span class="id" title="var">f2</span> <span class="id" title="var">Hlw</span> <span class="id" title="var">Hlf</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT"><span class="id" title="definition">StateSpecT</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">monot</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s'</span> <span class="id" title="var">a</span>]. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlf</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hlf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="StateSpecTEq" class="idref" href="#StateSpecTEq"><span class="id" title="instance">StateSpecTEq</span></a> : <a class="idref" href="ITree.Basics.Monad.html#Eq1"><span class="id" title="class">Eq1</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT"><span class="id" title="definition">StateSpecT</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <a id="w1:15" class="idref" href="#w1:15"><span class="id" title="binder">w1</span></a> <a id="w2:16" class="idref" href="#w2:16"><span class="id" title="binder">w2</span></a> ⇒ <span class="id" title="keyword">∀</span> <a id="s:17" class="idref" href="#s:17"><span class="id" title="binder">s</span></a>, (<a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#w1:15"><span class="id" title="variable">w1</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#s:17"><span class="id" title="variable">s</span></a> <a class="idref" href="ITree.Basics.Monad.html#20d7a3de27e35f38017a31a5b4c235e8"><span class="id" title="notation">≈</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#w2:16"><span class="id" title="variable">w2</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#s:17"><span class="id" title="variable">s</span></a>)%<span class="id" title="var">monad</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="StateSpecTMonadLaws" class="idref" href="#StateSpecTMonadLaws"><span class="id" title="instance">StateSpecTMonadLaws</span></a> : <a class="idref" href="ITree.Basics.Monad.html#MonadLawsE"><span class="id" title="class">MonadLawsE</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT"><span class="id" title="definition">StateSpecT</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT.MonadLawsW"><span class="id" title="variable">MonadLawsW</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">bind_ret_l</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">w</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; [ | <span class="id" title="tactic">apply</span> <span class="id" title="var">bind_ret_r</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Proper_bind</span>; [ <span class="id" title="tactic">reflexivity</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">w</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">bind_bind</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">w1</span> <span class="id" title="var">w2</span> <span class="id" title="var">Hw</span> <span class="id" title="var">k1</span> <span class="id" title="var">k2</span> <span class="id" title="var">Hk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hw</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hw</span>. <span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Hk</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="StateSpecT.Observation" class="idref" href="#StateSpecT.Observation"><span class="id" title="section">Observation</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="M:18" class="idref" href="#M:18"><span class="id" title="binder">M</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="MonadM:19" class="idref" href="#MonadM:19"><span class="id" title="binder">MonadM</span></a> : <span class="id" title="class">Monad</span> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT.Observation.M"><span class="id" title="variable">M</span></a>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="EffectObsMW:20" class="idref" href="#EffectObsMW:20"><span class="id" title="binder">EffectObsMW</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DijkstraMonad.html#EffectObs"><span class="id" title="class">EffectObs</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT.Observation.M"><span class="id" title="variable">M</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT.W"><span class="id" title="variable">W</span></a>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="MonadMorphismMW:21" class="idref" href="#MonadMorphismMW:21"><span class="id" title="binder">MonadMorphismMW</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DijkstraMonad.html#MonadMorphism"><span class="id" title="class">MonadMorphism</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT.Observation.M"><span class="id" title="variable">M</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT.W"><span class="id" title="variable">W</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT.Observation.EffectObsMW"><span class="id" title="variable">EffectObsMW</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="EffectObsStateT" class="idref" href="#EffectObsStateT"><span class="id" title="instance">EffectObsStateT</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DijkstraMonad.html#EffectObs"><span class="id" title="class">EffectObs</span></a> (<a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">stateT</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT.S"><span class="id" title="variable">S</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT.Observation.M"><span class="id" title="variable">M</span></a>) (<a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">stateT</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT.S"><span class="id" title="variable">S</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT.W"><span class="id" title="variable">W</span></a>) := <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <a id="m:22" class="idref" href="#m:22"><span class="id" title="binder">m</span></a> <a id="s:23" class="idref" href="#s:23"><span class="id" title="binder">s</span></a> ⇒ <a class="idref" href="ITree.Extra.Dijkstra.DijkstraMonad.html#obs"><span class="id" title="definition">obs</span></a> <span class="id" title="var">_</span> (<a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#m:22"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#s:23"><span class="id" title="variable">s</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="MonadMorphimStateT" class="idref" href="#MonadMorphimStateT"><span class="id" title="instance">MonadMorphimStateT</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DijkstraMonad.html#MonadMorphism"><span class="id" title="class">MonadMorphism</span></a> (<a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">stateT</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT.S"><span class="id" title="variable">S</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT.Observation.M"><span class="id" title="variable">M</span></a>) (<a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">stateT</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT.S"><span class="id" title="variable">S</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT.W"><span class="id" title="variable">W</span></a>) <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#EffectObsStateT"><span class="id" title="instance">EffectObsStateT</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT.Observation.MonadMorphismMW"><span class="id" title="variable">MonadMorphismMW</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">ret_pres</span> (<a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT.S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <span class="id" title="var">A</span>)%<span class="id" title="keyword">type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">ret_pres</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">bind_pres</span> (<a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT.S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <span class="id" title="var">A</span>)%<span class="id" title="keyword">type</span> (<a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT.S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <span class="id" title="var">B</span>)%<span class="id" title="keyword">type</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Extra.Dijkstra.DijkstraMonad.html#obs"><span class="id" title="definition">obs</span></a>, <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#EffectObsStateT"><span class="id" title="instance">EffectObsStateT</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">bind_pres</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT.Observation"><span class="id" title="section">Observation</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*Can&nbsp;I&nbsp;encode&nbsp;a&nbsp;pre&nbsp;post&nbsp;thing,&nbsp;state&nbsp;spec&nbsp;enriches&nbsp;the&nbsp;precondition&nbsp;and<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;specializes&nbsp;post&nbsp;condition*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*maybe&nbsp;I&nbsp;need&nbsp;a&nbsp;computational&nbsp;monad&nbsp;M&nbsp;with&nbsp;a&nbsp;monad&nbsp;iter&nbsp;structure,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;I&nbsp;think&nbsp;the&nbsp;taus&nbsp;only&nbsp;showed&nbsp;up&nbsp;because&nbsp;I&nbsp;was&nbsp;using&nbsp;hte&nbsp;monad&nbsp;iter&nbsp;structure<br/>
&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;strong&nbsp;bisimulation&nbsp;not&nbsp;weak,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;also&nbsp;note&nbsp;that&nbsp;this&nbsp;loop&nbsp;invar&nbsp;stuff,&nbsp;while&nbsp;relevant&nbsp;to&nbsp;D&nbsp;monads,&nbsp;is&nbsp;not<br/>
&nbsp;&nbsp;&nbsp;&nbsp;itself&nbsp;of&nbsp;D&nbsp;monads<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT"><span class="id" title="section">StateSpecT</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="LoopInvarSpecific" class="idref" href="#LoopInvarSpecific"><span class="id" title="section">LoopInvarSpecific</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="S:24" class="idref" href="#S:24"><span class="id" title="binder">S</span></a> : <span class="id" title="keyword">Type</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="StateSpec" class="idref" href="#StateSpec"><span class="id" title="definition">StateSpec</span></a> (<a id="A:25" class="idref" href="#A:25"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) := <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateSpecT"><span class="id" title="definition">StateSpecT</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#LoopInvarSpecific.S"><span class="id" title="variable">S</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#DelaySpec"><span class="id" title="definition">DelaySpec</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#A:25"><span class="id" title="variable">A</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="State" class="idref" href="#State"><span class="id" title="definition">State</span></a> (<a id="A:26" class="idref" href="#A:26"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) := <a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">stateT</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#LoopInvarSpecific.S"><span class="id" title="variable">S</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#Delay"><span class="id" title="definition">Delay</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#A:26"><span class="id" title="variable">A</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="StateIter" class="idref" href="#StateIter"><span class="id" title="instance">StateIter</span></a> : <a class="idref" href="ITree.Basics.Basics.html#MonadIter"><span class="id" title="class">MonadIter</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#State"><span class="id" title="definition">State</span></a> := <a class="idref" href="ITree.Basics.Basics.html#MonadIter_stateT0"><span class="id" title="instance">MonadIter_stateT0</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="reassoc" class="idref" href="#reassoc"><span class="id" title="definition">reassoc</span></a> {<a id="A:27" class="idref" href="#A:27"><span class="id" title="binder">A</span></a> <a id="B:28" class="idref" href="#B:28"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>} (<a id="t:29" class="idref" href="#t:29"><span class="id" title="binder">t</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#Delay"><span class="id" title="definition">Delay</span></a> (<a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#LoopInvarSpecific.S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#A:27"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#B:28"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> ) ) : <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#Delay"><span class="id" title="definition">Delay</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#LoopInvarSpecific.S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#A:27"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#LoopInvarSpecific.S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#B:28"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">)</span></a>  ) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#t:29"><span class="id" title="variable">t</span></a> <span class="id" title="notation">&gt;&gt;=</span> <span class="id" title="notation">(</span><span class="id" title="keyword">fun</span> '<a id="pat:32" class="idref" href="#pat:32"><span class="id" title="binder">(</span></a><a id="pat:32" class="idref" href="#pat:32"><span class="id" title="binder">s</span></a><a id="pat:32" class="idref" href="#pat:32"><span class="id" title="binder">,</span></a><a id="pat:32" class="idref" href="#pat:32"><span class="id" title="binder">ab</span></a><a id="pat:32" class="idref" href="#pat:32"><span class="id" title="binder">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#ab:30"><span class="id" title="variable">ab</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a</span> ⇒ <span class="id" title="method">ret</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#s:31"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">b</span> ⇒ <span class="id" title="method">ret</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#s:31"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
<span class="id" title="notation">)</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="iso_arrow" class="idref" href="#iso_arrow"><span class="id" title="definition">iso_arrow</span></a> {<a id="A:34" class="idref" href="#A:34"><span class="id" title="binder">A</span></a> <a id="B:35" class="idref" href="#B:35"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>} (<a id="f:36" class="idref" href="#f:36"><span class="id" title="binder">f</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#A:34"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#State"><span class="id" title="definition">State</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#B:35"><span class="id" title="variable">B</span></a>) (<a id="g:37" class="idref" href="#g:37"><span class="id" title="binder">g</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#LoopInvarSpecific.S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#A:34"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#Delay"><span class="id" title="definition">Delay</span></a> (<a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#LoopInvarSpecific.S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#B:35"><span class="id" title="variable">B</span></a>) ) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="a:38" class="idref" href="#a:38"><span class="id" title="binder">a</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#A:34"><span class="id" title="variable">A</span></a>) (<a id="s:39" class="idref" href="#s:39"><span class="id" title="binder">s</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#LoopInvarSpecific.S"><span class="id" title="variable">S</span></a>), <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#f:36"><span class="id" title="variable">f</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#a:38"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#s:39"><span class="id" title="variable">s</span></a> <a class="idref" href="ITree.Eq.Eqit.html#f51f52fd3bd17df0d58f37498312e9a2"><span class="id" title="notation">≈</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#g:37"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#s:39"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#a:38"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="decurry_flip" class="idref" href="#decurry_flip"><span class="id" title="definition">decurry_flip</span></a> {<a id="A:40" class="idref" href="#A:40"><span class="id" title="binder">A</span></a> <a id="B:41" class="idref" href="#B:41"><span class="id" title="binder">B</span></a> <a id="C:42" class="idref" href="#C:42"><span class="id" title="binder">C</span></a> : <span class="id" title="keyword">Type</span>} (<a id="f:43" class="idref" href="#f:43"><span class="id" title="binder">f</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#A:40"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#B:41"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#C:42"><span class="id" title="variable">C</span></a>) : <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#B:41"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#A:40"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#C:42"><span class="id" title="variable">C</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> '<a id="pat:46" class="idref" href="#pat:46"><span class="id" title="binder">(</span></a><a id="pat:46" class="idref" href="#pat:46"><span class="id" title="binder">b</span></a><a id="pat:46" class="idref" href="#pat:46"><span class="id" title="binder">,</span></a><a id="pat:46" class="idref" href="#pat:46"><span class="id" title="binder">a</span></a><a id="pat:46" class="idref" href="#pat:46"><span class="id" title="binder">)</span></a> ⇒ <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#f:43"><span class="id" title="variable">f</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#a:44"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#b:45"><span class="id" title="variable">b</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*this&nbsp;is&nbsp;just&nbsp;decurry*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="iso_destatify_arrow" class="idref" href="#iso_destatify_arrow"><span class="id" title="definition">iso_destatify_arrow</span></a> {<a id="A:47" class="idref" href="#A:47"><span class="id" title="binder">A</span></a> <a id="B:48" class="idref" href="#B:48"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>} (<a id="f:49" class="idref" href="#f:49"><span class="id" title="binder">f</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#A:47"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#State"><span class="id" title="definition">State</span></a> (<a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#A:47"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#B:48"><span class="id" title="variable">B</span></a>) ) : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#LoopInvarSpecific.S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#A:47"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#Delay"><span class="id" title="definition">Delay</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#LoopInvarSpecific.S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#A:47"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#LoopInvarSpecific.S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#B:48"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">)</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> '<a id="pat:52" class="idref" href="#pat:52"><span class="id" title="binder">(</span></a><a id="pat:52" class="idref" href="#pat:52"><span class="id" title="binder">s</span></a><a id="pat:52" class="idref" href="#pat:52"><span class="id" title="binder">,</span></a><a id="pat:52" class="idref" href="#pat:52"><span class="id" title="binder">a</span></a><a id="pat:52" class="idref" href="#pat:52"><span class="id" title="binder">)</span></a> ⇒ <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#reassoc"><span class="id" title="definition">reassoc</span></a> (<a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#f:49"><span class="id" title="variable">f</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#a:50"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#s:51"><span class="id" title="variable">s</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*should&nbsp;be&nbsp;able&nbsp;to&nbsp;use&nbsp;original*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="loop_invar_state" class="idref" href="#loop_invar_state"><span class="id" title="lemma">loop_invar_state</span></a>: <span class="id" title="keyword">∀</span> (<a id="A:53" class="idref" href="#A:53"><span class="id" title="binder">A</span></a> <a id="B:54" class="idref" href="#B:54"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>) (<a id="g:55" class="idref" href="#g:55"><span class="id" title="binder">g</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#A:53"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#State"><span class="id" title="definition">State</span></a> (<a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#A:53"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#B:54"><span class="id" title="variable">B</span></a>)) (<a id="a:56" class="idref" href="#a:56"><span class="id" title="binder">a</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#A:53"><span class="id" title="variable">A</span></a>) (<a id="s:57" class="idref" href="#s:57"><span class="id" title="binder">s</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#LoopInvarSpecific.S"><span class="id" title="variable">S</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="p:58" class="idref" href="#p:58"><span class="id" title="binder">p</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#Delay"><span class="id" title="definition">Delay</span></a> ( <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#LoopInvarSpecific.S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#B:54"><span class="id" title="variable">B</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<a id="q:59" class="idref" href="#q:59"><span class="id" title="binder">q</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#Delay"><span class="id" title="definition">Delay</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#LoopInvarSpecific.S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#A:53"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#LoopInvarSpecific.S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#B:54"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">)</span></a>)  <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>  )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hp:60" class="idref" href="#Hp:60"><span class="id" title="binder">Hp</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.PureITreeBasics.html#resp_eutt"><span class="id" title="abbreviation">resp_eutt</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#p:58"><span class="id" title="variable">p</span></a>) (<a id="Hq:61" class="idref" href="#Hq:61"><span class="id" title="binder">Hq</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.PureITreeBasics.html#resp_eutt"><span class="id" title="abbreviation">resp_eutt</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#q:59"><span class="id" title="variable">q</span></a>) ,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#q:59"><span class="id" title="variable">q</span></a> (<a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#reassoc"><span class="id" title="definition">reassoc</span></a> (<a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#g:55"><span class="id" title="variable">g</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#a:56"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#s:57"><span class="id" title="variable">s</span></a>) )<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#q:59"><span class="id" title="variable">q</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#ce442b61456823c589ad82249b4ce4a7"><span class="id" title="notation">-+&gt;</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#p:58"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="t:62" class="idref" href="#t:62"><span class="id" title="binder">t</span></a>, <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#q:59"><span class="id" title="variable">q</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#t:62"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#q:59"><span class="id" title="variable">q</span></a> (<a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#t:62"><span class="id" title="variable">t</span></a> <span class="id" title="notation">&gt;&gt;=</span> <span class="id" title="notation">(</span><a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#iter_lift"><span class="id" title="definition">iter_lift</span></a> ( <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#iso_destatify_arrow"><span class="id" title="definition">iso_destatify_arrow</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#g:55"><span class="id" title="variable">g</span></a>)  <span class="id" title="notation">)</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#p:58"><span class="id" title="variable">p</span></a> <span class="id" title="notation">\1/</span> <a class="idref" href="ITree.Props.Infinite.html#any_infinite"><span class="id" title="definition">any_infinite</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">(</span><span class="id" title="notation">MonadIter_stateT0</span> <span class="id" title="notation">_</span> <span class="id" title="notation">_</span> <span class="id" title="notation">g</span> <span class="id" title="notation">a</span> <span class="id" title="notation">s</span><span class="id" title="notation">)</span> .<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#iso_destatify_arrow"><span class="id" title="definition">iso_destatify_arrow</span></a> <span class="id" title="var">g</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">g'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> (<span class="id" title="notation">(</span><span class="id" title="var">p</span> <span class="id" title="notation">\1/</span> <a class="idref" href="ITree.Props.Infinite.html#any_infinite"><span class="id" title="definition">any_infinite</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">(</span><span class="id" title="notation">ITree.iter</span> <span class="id" title="notation">g'</span> <span class="id" title="notation">(</span><span class="id" title="notation">s</span><span class="id" title="notation">,</span><span class="id" title="notation">a</span><span class="id" title="notation">)</span> <span class="id" title="notation">)</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.iter"><span class="id" title="definition">ITree.iter</span></a> <span class="id" title="var">g'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="ITree.Eq.Eqit.html#f51f52fd3bd17df0d58f37498312e9a2"><span class="id" title="notation">≈</span></a> <a class="idref" href="ITree.Basics.CategoryOps.html#iter"><span class="id" title="definition">iter</span></a> <span class="id" title="var">g</span> <span class="id" title="var">a</span> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <span class="id" title="var">g'</span>, <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#iso_destatify_arrow"><span class="id" title="definition">iso_destatify_arrow</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.CategoryOps.html#iter"><span class="id" title="definition">iter</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#Iter_Kleisli"><span class="id" title="instance">Iter_Kleisli</span></a>, <a class="idref" href="ITree.Basics.Basics.html#iter"><span class="id" title="definition">Basics.iter</span></a>, <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#MonadIterDelay"><span class="id" title="instance">MonadIterDelay</span></a>, <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#StateIter"><span class="id" title="instance">StateIter</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Basics.Basics.html#MonadIter_stateT0"><span class="id" title="instance">MonadIter_stateT0</span></a>, <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#reassoc"><span class="id" title="definition">reassoc</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.Basics.html#iter"><span class="id" title="definition">Basics.iter</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#MonadIterDelay"><span class="id" title="instance">MonadIterDelay</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Core.KTreeFacts.html#eutt_iter"><span class="id" title="instance">eutt_iter</span></a>. <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a'</span> <span class="id" title="var">s'</span>]. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eqit.html#eutt_clo_bind"><span class="id" title="lemma">eutt_clo_bind</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">u2</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">s1</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hpdiv</span> : <a class="idref" href="ITree.Extra.Dijkstra.PureITreeBasics.html#resp_eutt"><span class="id" title="abbreviation">resp_eutt</span></a> (<span class="id" title="var">p</span> <span class="id" title="notation">\1/</span> <a class="idref" href="ITree.Props.Infinite.html#any_infinite"><span class="id" title="definition">any_infinite</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">Heutt</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">basic_solve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heutt</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heutt</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hpdiv</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#loop_invar"><span class="id" title="lemma">loop_invar</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="state_iter_arrow_rel" class="idref" href="#state_iter_arrow_rel"><span class="id" title="definition">state_iter_arrow_rel</span></a> {<a id="A:63" class="idref" href="#A:63"><span class="id" title="binder">A</span></a> <a id="B:64" class="idref" href="#B:64"><span class="id" title="binder">B</span></a> <a id="S:65" class="idref" href="#S:65"><span class="id" title="binder">S</span></a> : <span class="id" title="keyword">Type</span>} (<a id="g:66" class="idref" href="#g:66"><span class="id" title="binder">g</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#A:63"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">stateT</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#S:65"><span class="id" title="variable">S</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#Delay"><span class="id" title="definition">Delay</span></a> (<a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#A:63"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#B:64"><span class="id" title="variable">B</span></a>) ) '<a id="pat:69" class="idref" href="#pat:69"><span class="id" title="binder">(</span></a><a id="pat:69" class="idref" href="#pat:69"><span class="id" title="binder">s0</span></a><a id="pat:69" class="idref" href="#pat:69"><span class="id" title="binder">,</span></a><a id="pat:69" class="idref" href="#pat:69"><span class="id" title="binder">a0</span></a><a id="pat:69" class="idref" href="#pat:69"><span class="id" title="binder">)</span></a> '<a id="pat:72" class="idref" href="#pat:72"><span class="id" title="binder">(</span></a><a id="pat:72" class="idref" href="#pat:72"><span class="id" title="binder">s1</span></a><a id="pat:72" class="idref" href="#pat:72"><span class="id" title="binder">,</span></a><a id="pat:72" class="idref" href="#pat:72"><span class="id" title="binder">a1</span></a><a id="pat:72" class="idref" href="#pat:72"><span class="id" title="binder">)</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#g:66"><span class="id" title="variable">g</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#a0:67"><span class="id" title="variable">a0</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#s0:68"><span class="id" title="variable">s0</span></a> <a class="idref" href="ITree.Basics.Monad.html#20d7a3de27e35f38017a31a5b4c235e8"><span class="id" title="notation">≈</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#s1:71"><span class="id" title="variable">s1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#a1:70"><span class="id" title="variable">a1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="iter_inl_spin_state" class="idref" href="#iter_inl_spin_state"><span class="id" title="lemma">iter_inl_spin_state</span></a> : <span class="id" title="keyword">∀</span> (<a id="A:73" class="idref" href="#A:73"><span class="id" title="binder">A</span></a> <a id="B:74" class="idref" href="#B:74"><span class="id" title="binder">B</span></a> <a id="S:75" class="idref" href="#S:75"><span class="id" title="binder">S</span></a> : <span class="id" title="keyword">Type</span>) (<a id="g:76" class="idref" href="#g:76"><span class="id" title="binder">g</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#A:73"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">stateT</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#S:75"><span class="id" title="variable">S</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#Delay"><span class="id" title="definition">Delay</span></a> (<a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#A:73"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#B:74"><span class="id" title="variable">B</span></a>) ) (<a id="a:77" class="idref" href="#a:77"><span class="id" title="binder">a</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#A:73"><span class="id" title="variable">A</span></a>) (<a id="s:78" class="idref" href="#s:78"><span class="id" title="binder">s</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#S:75"><span class="id" title="variable">S</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Extra.Dijkstra.IterRel.html#not_wf_from"><span class="id" title="definition">not_wf_from</span></a> (<a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#state_iter_arrow_rel"><span class="id" title="definition">state_iter_arrow_rel</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#g:76"><span class="id" title="variable">g</span></a> ) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#s:78"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#a:77"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Basics.Basics.html#MonadIter_stateT0"><span class="id" title="instance">MonadIter_stateT0</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>  <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#g:76"><span class="id" title="variable">g</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#a:77"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#s:78"><span class="id" title="variable">s</span></a> <a class="idref" href="ITree.Eq.Eqit.html#f51f52fd3bd17df0d58f37498312e9a2"><span class="id" title="notation">≈</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.spin"><span class="id" title="definition">ITree.spin</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.Basics.html#MonadIter_stateT0"><span class="id" title="instance">MonadIter_stateT0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#iter_inl_spin"><span class="id" title="lemma">iter_inl_spin</span></a>. <span class="comment">(*seems&nbsp;to&nbsp;require&nbsp;some&nbsp;coinduciton*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pcofix</span> <span class="id" title="var">CIH</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">pinversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Extra.Dijkstra.IterRel.html#not_wf_F_mono'"><span class="id" title="lemma">not_wf_F_mono'</span></a>. <span class="id" title="var">pfold</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Extra.Dijkstra.IterRel.html#not_wf"><span class="id" title="constructor">not_wf</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">a'</span> := <span class="id" title="var">a'</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrel</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s'</span> <span class="id" title="var">a'</span>]. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hrel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a'</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="iter_wf_converge_state" class="idref" href="#iter_wf_converge_state"><span class="id" title="lemma">iter_wf_converge_state</span></a> : <span class="id" title="keyword">∀</span> (<a id="A:79" class="idref" href="#A:79"><span class="id" title="binder">A</span></a> <a id="B:80" class="idref" href="#B:80"><span class="id" title="binder">B</span></a> <a id="S:81" class="idref" href="#S:81"><span class="id" title="binder">S</span></a> : <span class="id" title="keyword">Type</span>)  (<a id="g:82" class="idref" href="#g:82"><span class="id" title="binder">g</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#A:79"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">stateT</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#S:81"><span class="id" title="variable">S</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#Delay"><span class="id" title="definition">Delay</span></a> (<a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#A:79"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#B:80"><span class="id" title="variable">B</span></a>) ) (<a id="a:83" class="idref" href="#a:83"><span class="id" title="binder">a</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#A:79"><span class="id" title="variable">A</span></a>) (<a id="s:84" class="idref" href="#s:84"><span class="id" title="binder">s</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#S:81"><span class="id" title="variable">S</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="a:85" class="idref" href="#a:85"><span class="id" title="binder">a</span></a> <a id="s:86" class="idref" href="#s:86"><span class="id" title="binder">s</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="ab:87" class="idref" href="#ab:87"><span class="id" title="binder">ab</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#g:82"><span class="id" title="variable">g</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#a:85"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#s:86"><span class="id" title="variable">s</span></a> <a class="idref" href="ITree.Basics.Monad.html#20d7a3de27e35f38017a31a5b4c235e8"><span class="id" title="notation">≈</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#ab:87"><span class="id" title="variable">ab</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Extra.Dijkstra.IterRel.html#wf_from"><span class="id" title="inductive">wf_from</span></a> (<a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#state_iter_arrow_rel"><span class="id" title="definition">state_iter_arrow_rel</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#g:82"><span class="id" title="variable">g</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#s:84"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#a:83"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="p:88" class="idref" href="#p:88"><span class="id" title="binder">p</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#S:81"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#B:80"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="ITree.Basics.Basics.html#MonadIter_stateT0"><span class="id" title="instance">MonadIter_stateT0</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#g:82"><span class="id" title="variable">g</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#a:83"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#s:84"><span class="id" title="variable">s</span></a> <a class="idref" href="ITree.Basics.Monad.html#20d7a3de27e35f38017a31a5b4c235e8"><span class="id" title="notation">≈</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#p:88"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.Basics.html#MonadIter_stateT0"><span class="id" title="instance">MonadIter_stateT0</span></a>, <a class="idref" href="ITree.Basics.Basics.html#iter"><span class="id" title="definition">Basics.iter</span></a>, <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#MonadIterDelay"><span class="id" title="instance">MonadIterDelay</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#iter_wf_converge"><span class="id" title="lemma">iter_wf_converge</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Extra.Dijkstra.IterRel.html#wf_from_sub_rel"><span class="id" title="lemma">wf_from_sub_rel</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#iter_arrow_rel"><span class="id" title="definition">iter_arrow_rel</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#state_iter_arrow_rel"><span class="id" title="definition">state_iter_arrow_rel</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span> <span class="id" title="var">a</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">a</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s'</span> <span class="id" title="var">a'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ITree.Extra.Dijkstra.PureITreeBasics.html#eutt_reta_or_div"><span class="id" title="lemma">eutt_reta_or_div</span></a> (<span class="id" title="var">g</span> <span class="id" title="var">a</span> <span class="id" title="var">s</span>)); <span class="id" title="var">basic_solve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a0</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> <span class="id" title="var">s1</span>; <span class="id" title="var">basic_solve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Extra.Dijkstra.PureITreeBasics.html#div_spin_eutt"><span class="id" title="lemma">div_spin_eutt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ITree.Extra.Dijkstra.PureITreeBasics.html#spin_bind"><span class="id" title="lemma">spin_bind</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Extra.Dijkstra.PureITreeBasics.html#not_ret_eutt_spin"><span class="id" title="lemma">not_ret_eutt_spin</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span> <span class="id" title="var">a</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">s</span> <span class="id" title="var">a</span>]. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">a</span> <span class="id" title="var">s</span>). <span class="id" title="var">basic_solve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ab</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s'</span> [<span class="id" title="var">a'</span> | <span class="id" title="var">b</span>] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">∃</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ). <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">∃</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>). <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ITree.Extra.Dijkstra.StateSpecT.html#LoopInvarSpecific"><span class="id" title="section">LoopInvarSpecific</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
