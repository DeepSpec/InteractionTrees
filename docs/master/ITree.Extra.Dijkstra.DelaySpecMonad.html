<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://github.com/DeepSpec/InteractionTrees">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">ITree.Extra.Dijkstra.DelaySpecMonad</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#"><span class="id" title="library">Morphisms</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ExtLib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="library">Structures.Monad</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ITree</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.ITree.html#"><span class="id" title="library">ITree</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.ITreeFacts.html#"><span class="id" title="library">ITreeFacts</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Props.Infinite.html#"><span class="id" title="library">Props.Infinite</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ITree.Extra</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Extra.Dijkstra.DijkstraMonad.html#"><span class="id" title="library">Dijkstra.DijkstraMonad</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Extra.Dijkstra.PureITreeBasics.html#"><span class="id" title="library">Dijkstra.PureITreeBasics</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Extra.Dijkstra.IterRel.html#"><span class="id" title="library">Dijkstra.IterRel</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Paco</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">paco</span>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="ITree.Basics.Basics.html#Monads"><span class="id" title="module">Monads</span></a>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="module">MonadNotation</span>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">monad_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>

<br/>
</div>

<div class="doc">
Contains the DelaySpec monad, the specification monad for partial computations with no uninterpretted effects. Also contains an effect observation from the Delay monad into  the DelaySpec monad along with a proof that it is a monad morphism. Also contains a loop invariant principle for iter over Delay
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">clear_ret_eutt_spin</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> | <span class="id" title="var">H</span> : <span class="id" title="method">ret</span> ?<span class="id" title="var">a</span> <a class="idref" href="ITree.Eq.Eqit.html#f51f52fd3bd17df0d58f37498312e9a2"><span class="id" title="notation">≈</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.spin"><span class="id" title="definition">ITree.spin</span></a>  |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">exfalso</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Extra.Dijkstra.PureITreeBasics.html#not_ret_eutt_spin"><span class="id" title="lemma">not_ret_eutt_spin</span></a>; <span class="id" title="tactic">eauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> ?<span class="id" title="var">a</span> <a class="idref" href="ITree.Eq.Eqit.html#f51f52fd3bd17df0d58f37498312e9a2"><span class="id" title="notation">≈</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.spin"><span class="id" title="definition">ITree.spin</span></a>  |- <span class="id" title="var">_</span> ⇒ <span class="id" title="var">exfalso</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Extra.Dijkstra.PureITreeBasics.html#not_ret_eutt_spin"><span class="id" title="lemma">not_ret_eutt_spin</span></a>; <span class="id" title="tactic">eauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.spin"><span class="id" title="definition">ITree.spin</span></a> <a class="idref" href="ITree.Eq.Eqit.html#f51f52fd3bd17df0d58f37498312e9a2"><span class="id" title="notation">≈</span></a> <span class="id" title="method">ret</span> ?<span class="id" title="var">a</span>  |- <span class="id" title="var">_</span> ⇒ <span class="id" title="var">exfalso</span>; <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Extra.Dijkstra.PureITreeBasics.html#not_ret_eutt_spin"><span class="id" title="lemma">not_ret_eutt_spin</span></a>; <span class="id" title="tactic">eauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="ITree.Props.Infinite.html#any_infinite"><span class="id" title="definition">any_infinite</span></a> (<span class="id" title="method">ret</span> <span class="id" title="var">_</span> ) |- <span class="id" title="var">_</span> ⇒ <span class="id" title="var">pinversion</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">invert_evidence</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="a:2" class="idref" href="#a:2"><span class="id" title="binder">a</span></a> : ?<span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [?<span class="id" title="var">a</span> ?<span class="id" title="var">H</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">x</span> : ?<span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> ?<span class="id" title="var">B</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [?<span class="id" title="var">a</span> | ?<span class="id" title="var">b</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="definition">upaco1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="var">pclearbot</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">invert_ret</span> := <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> | <span class="id" title="var">H</span> : <a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> ?<span class="id" title="var">a</span> <a class="idref" href="ITree.Eq.Eqit.html#f51f52fd3bd17df0d58f37498312e9a2"><span class="id" title="notation">≈</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> ?<span class="id" title="var">b</span> |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eqit.html#eutt_inv_Ret"><span class="id" title="lemma">eutt_inv_Ret</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">injection</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">basic_solve</span> := <span class="id" title="var">invert_evidence</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">clear_ret_eutt_spin</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">invert_ret</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">dest_dep</span> <span class="id" title="var">f</span> <span class="id" title="var">a</span> := <span class="id" title="tactic">destruct</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> [?<span class="id" title="var">fa</span> ?<span class="id" title="var">Hfa</span>] <span class="id" title="var">eqn</span> : ?<span class="id" title="var">Heq</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>

<br/>
<span class="id" title="keyword">Declare Scope</span> <span class="id" title="var">delayspec_scope</span>.<br/>
<span class="id" title="keyword">Delimit</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">delayspec_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">delayspec</span>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">delayspec_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="18a3a5e4581c6ce309a6851f9747d936" class="idref" href="#18a3a5e4581c6ce309a6851f9747d936"><span class="id" title="notation">&quot;</span></a>a ∈ b" := (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> (<span class="id" title="var">A</span> := <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <span class="id" title="var">b</span> <span class="id" title="var">a</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70) : <span class="id" title="var">delayspec_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="906b5651d9232c6101ffe824c430eeb4" class="idref" href="#906b5651d9232c6101ffe824c430eeb4"><span class="id" title="notation">&quot;</span></a>a ∋ b" := (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> (<span class="id" title="var">A</span> := <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <span class="id" title="var">a</span> <span class="id" title="var">b</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70, <span class="id" title="var">only</span> <span class="id" title="var">parsing</span>) : <span class="id" title="var">delayspec_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Delay" class="idref" href="#Delay"><span class="id" title="definition">Delay</span></a> (<a id="A:3" class="idref" href="#A:3"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) := <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Indexed.Sum.html#void1"><span class="id" title="inductive">void1</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#A:3"><span class="id" title="variable">A</span></a>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="EqMDelay" class="idref" href="#EqMDelay"><span class="id" title="instance">EqMDelay</span></a> : <a class="idref" href="ITree.Basics.Monad.html#Eq1"><span class="id" title="class">Eq1</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#Delay"><span class="id" title="definition">Delay</span></a> := @<a class="idref" href="ITree.Core.ITreeMonad.html#Eq1_ITree"><span class="id" title="instance">ITreeMonad.Eq1_ITree</span></a> <a class="idref" href="ITree.Indexed.Sum.html#void1"><span class="id" title="inductive">void1</span></a>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="MonadDelay" class="idref" href="#MonadDelay"><span class="id" title="instance">MonadDelay</span></a> : <span class="id" title="class">Monad</span> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#Delay"><span class="id" title="definition">Delay</span></a> := @<a class="idref" href="ITree.Core.ITreeDefinition.html#Monad_itree"><span class="id" title="instance">Monad_itree</span></a> <a class="idref" href="ITree.Indexed.Sum.html#void1"><span class="id" title="inductive">void1</span></a>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="MonadIterDelay" class="idref" href="#MonadIterDelay"><span class="id" title="instance">MonadIterDelay</span></a> : <a class="idref" href="ITree.Basics.Basics.html#MonadIter"><span class="id" title="class">MonadIter</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#Delay"><span class="id" title="definition">Delay</span></a> := <span class="id" title="keyword">fun</span> <a id="R:4" class="idref" href="#R:4"><span class="id" title="binder">R</span></a> <a id="I:5" class="idref" href="#I:5"><span class="id" title="binder">I</span></a> <a id="f:6" class="idref" href="#f:6"><span class="id" title="binder">f</span></a> <a id="a:7" class="idref" href="#a:7"><span class="id" title="binder">a</span></a> ⇒ <a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.iter"><span class="id" title="definition">ITree.iter</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#f:6"><span class="id" title="variable">f</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#a:7"><span class="id" title="variable">a</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="DelaySpecInput" class="idref" href="#DelaySpecInput"><span class="id" title="definition">DelaySpecInput</span></a> (<a id="A:8" class="idref" href="#A:8"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) : <span class="id" title="keyword">Type</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a><a id="p:9" class="idref" href="#p:9"><span class="id" title="binder">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#Delay"><span class="id" title="definition">Delay</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#A:8"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <a class="idref" href="ITree.Extra.Dijkstra.PureITreeBasics.html#resp_eutt"><span class="id" title="abbreviation">resp_eutt</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#p:9"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="DelayIn" class="idref" href="#DelayIn"><span class="id" title="definition">DelayIn</span></a> {<a id="A:10" class="idref" href="#A:10"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} (<a id="t:11" class="idref" href="#t:11"><span class="id" title="binder">t</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#Delay"><span class="id" title="definition">Delay</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#A:10"><span class="id" title="variable">A</span></a>) (<a id="p:12" class="idref" href="#p:12"><span class="id" title="binder">p</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#DelaySpecInput"><span class="id" title="definition">DelaySpecInput</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#A:10"><span class="id" title="variable">A</span></a>) : <span class="id" title="keyword">Prop</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#p:12"><span class="id" title="variable">p</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#t:11"><span class="id" title="variable">t</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="DelaySpec" class="idref" href="#DelaySpec"><span class="id" title="definition">DelaySpec</span></a> (<a id="A:13" class="idref" href="#A:13"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a> <a id="w:14" class="idref" href="#w:14"><span class="id" title="binder">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#DelaySpecInput"><span class="id" title="definition">DelaySpecInput</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#A:13"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <span class="id" title="keyword">∀</span> (<a id="p:15" class="idref" href="#p:15"><span class="id" title="binder">p</span></a> <a id="p':16" class="idref" href="#p':16"><span class="id" title="binder">p'</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#DelaySpecInput"><span class="id" title="definition">DelaySpecInput</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#A:13"><span class="id" title="variable">A</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="t:17" class="idref" href="#t:17"><span class="id" title="binder">t</span></a>, <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#t:17"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#18a3a5e4581c6ce309a6851f9747d936"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#p:15"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#t:17"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#18a3a5e4581c6ce309a6851f9747d936"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#p':16"><span class="id" title="variable">p'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#w:14"><span class="id" title="variable">w</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#p:15"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#w:14"><span class="id" title="variable">w</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#p':16"><span class="id" title="variable">p'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a>.<br/>

<br/>
#[<span class="id" title="var">program</span>] <span class="id" title="keyword">Definition</span> <a id="ret_del" class="idref" href="#ret_del"><span class="id" title="definition">ret_del</span></a> (<a id="A:18" class="idref" href="#A:18"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) (<a id="a:19" class="idref" href="#a:19"><span class="id" title="binder">a</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#A:18"><span class="id" title="variable">A</span></a>) : <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#DelaySpec"><span class="id" title="definition">DelaySpec</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#A:18"><span class="id" title="variable">A</span></a> := <span class="id" title="keyword">fun</span> <a id="p:20" class="idref" href="#p:20"><span class="id" title="binder">p</span></a> ⇒ <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#p:20"><span class="id" title="variable">p</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#a:19"><span class="id" title="variable">a</span></a>).<br/>

<br/>
#[<span class="id" title="var">program</span>] <span class="id" title="keyword">Definition</span> <a id="_bind_del" class="idref" href="#_bind_del"><span class="id" title="definition">_bind_del</span></a> (<a id="A:21" class="idref" href="#A:21"><span class="id" title="binder">A</span></a> <a id="B:22" class="idref" href="#B:22"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>) (<a id="w:23" class="idref" href="#w:23"><span class="id" title="binder">w</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#DelaySpec"><span class="id" title="definition">DelaySpec</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#A:21"><span class="id" title="variable">A</span></a>) (<a id="f:24" class="idref" href="#f:24"><span class="id" title="binder">f</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#A:21"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#DelaySpec"><span class="id" title="definition">DelaySpec</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#B:22"><span class="id" title="variable">B</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#DelaySpecInput"><span class="id" title="definition">DelaySpecInput</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#B:22"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="p:25" class="idref" href="#p:25"><span class="id" title="binder">p</span></a> ⇒ <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#w:23"><span class="id" title="variable">w</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#906b5651d9232c6101ffe824c430eeb4"><span class="id" title="notation">∋</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#906b5651d9232c6101ffe824c430eeb4"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <a id="t:26" class="idref" href="#t:26"><span class="id" title="binder">t</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="a:27" class="idref" href="#a:27"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#a:27"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.Eq.Eqit.html#f51f52fd3bd17df0d58f37498312e9a2"><span class="id" title="notation">≈</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#t:26"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#p:25"><span class="id" title="variable">p</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#18a3a5e4581c6ce309a6851f9747d936"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#f:24"><span class="id" title="variable">f</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#a:27"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Props.Infinite.html#any_infinite"><span class="id" title="definition">any_infinite</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#t:26"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#p:25"><span class="id" title="variable">p</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.spin"><span class="id" title="definition">ITree.spin</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a><a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#906b5651d9232c6101ffe824c430eeb4"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">Heutt</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">basic_solve</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heutt</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heutt</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heutt</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">program</span>] <span class="id" title="keyword">Definition</span> <a id="bind_del" class="idref" href="#bind_del"><span class="id" title="definition">bind_del</span></a> (<a id="A:28" class="idref" href="#A:28"><span class="id" title="binder">A</span></a> <a id="B:29" class="idref" href="#B:29"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>) (<a id="w:30" class="idref" href="#w:30"><span class="id" title="binder">w</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#DelaySpec"><span class="id" title="definition">DelaySpec</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#A:28"><span class="id" title="variable">A</span></a>) (<a id="f:31" class="idref" href="#f:31"><span class="id" title="binder">f</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#A:28"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#DelaySpec"><span class="id" title="definition">DelaySpec</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#B:29"><span class="id" title="variable">B</span></a>) : <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#DelaySpec"><span class="id" title="definition">DelaySpec</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#B:29"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#_bind_del"><span class="id" title="definition">_bind_del</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#w:30"><span class="id" title="variable">w</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#f:31"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">w</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">w</span> <span class="id" title="var">Hw</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hw</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">basic_solve</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">dest_dep</span> <span class="id" title="var">f</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hfa</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="DelaySpecEq" class="idref" href="#DelaySpecEq"><span class="id" title="instance">DelaySpecEq</span></a> : <a class="idref" href="ITree.Basics.Monad.html#Eq1"><span class="id" title="class">Eq1</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#DelaySpec"><span class="id" title="definition">DelaySpec</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <a id="w1:32" class="idref" href="#w1:32"><span class="id" title="binder">w1</span></a> <a id="w2:33" class="idref" href="#w2:33"><span class="id" title="binder">w2</span></a> ⇒ <span class="id" title="keyword">∀</span> <a id="p:34" class="idref" href="#p:34"><span class="id" title="binder">p</span></a>, <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#p:34"><span class="id" title="variable">p</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#18a3a5e4581c6ce309a6851f9747d936"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#w1:32"><span class="id" title="variable">w1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#p:34"><span class="id" title="variable">p</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#18a3a5e4581c6ce309a6851f9747d936"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#w2:33"><span class="id" title="variable">w2</span></a>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="DelaySpecEqEquiv" class="idref" href="#DelaySpecEqEquiv"><span class="id" title="instance">DelaySpecEqEquiv</span></a> {<a id="A:35" class="idref" href="#A:35"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#DelaySpec"><span class="id" title="definition">DelaySpec</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#A:35"><span class="id" title="variable">A</span></a>) <a class="idref" href="ITree.Basics.Monad.html#eq1"><span class="id" title="definition">eq1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">p</span>). <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>, <span class="id" title="var">H0</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">p</span>). <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">p</span>). <span class="id" title="tactic">tauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="DelaySpecMonad" class="idref" href="#DelaySpecMonad"><span class="id" title="instance">DelaySpecMonad</span></a> : <span class="id" title="class">Monad</span> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#DelaySpec"><span class="id" title="definition">DelaySpec</span></a> :=<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">ret</span> := <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#ret_del"><span class="id" title="definition">ret_del</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">bind</span> := <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#bind_del"><span class="id" title="definition">bind_del</span></a><br/>
&nbsp;&nbsp;}.<br/>

<br/>
#[<span class="id" title="var">program</span>, <span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="DelaySpecMonadLaws" class="idref" href="#DelaySpecMonadLaws"><span class="id" title="instance">DelaySpecMonadLaws</span></a> : <a class="idref" href="ITree.Basics.Monad.html#MonadLawsE"><span class="id" title="class">MonadLawsE</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#DelaySpec"><span class="id" title="definition">DelaySpec</span></a>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">basic_solve</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">pinversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">x</span> <span class="id" title="var">into</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">w</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">w</span> <span class="id" title="var">Hw</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hw</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">Hp</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">basic_solve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Extra.Dijkstra.PureITreeBasics.html#div_spin_eutt"><span class="id" title="lemma">div_spin_eutt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">red</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">w</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">w</span> <span class="id" title="var">Hw</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hw</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">Hp</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ITree.Extra.Dijkstra.PureITreeBasics.html#eutt_reta_or_div"><span class="id" title="lemma">eutt_reta_or_div</span></a> <span class="id" title="var">t</span>); <span class="id" title="var">basic_solve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Extra.Dijkstra.PureITreeBasics.html#div_spin_eutt"><span class="id" title="lemma">div_spin_eutt</span></a>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">x</span> <span class="id" title="var">into</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">red</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">w</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">w</span> <span class="id" title="var">Hw</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">Hp</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hw</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>. <span class="id" title="var">basic_solve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">red</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">w</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">w</span> <span class="id" title="var">Hw</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">Hp</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hw</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">intros</span>. <span class="id" title="var">basic_solve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="ITree.Props.Infinite.html#spin_infinite"><span class="id" title="lemma">spin_infinite</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">w1</span> <span class="id" title="var">w2</span> <span class="id" title="var">Hw</span> <span class="id" title="var">k1</span> <span class="id" title="var">k2</span> <span class="id" title="var">Hk</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hk</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#bind_del"><span class="id" title="definition">bind_del</span></a>, <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#_bind_del"><span class="id" title="definition">_bind_del</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">w1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">w1</span> <span class="id" title="var">Hw1</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">w2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">w2</span> <span class="id" title="var">Hw2</span>]; <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hw</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hw</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hw1</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [ [<span class="id" title="var">a</span> [<span class="id" title="var">Ht</span> <span class="id" title="var">Ha</span>] ] | [<span class="id" title="var">Hdiv</span> <span class="id" title="var">Hspin</span>] ]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hk</span> <span class="id" title="var">a</span>). <span class="id" title="tactic">destruct</span> (<span class="id" title="var">k1</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">k1a</span> <span class="id" title="var">Hk1a</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">k2</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">k2a</span> <span class="id" title="var">Hk2a</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hk</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hk</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hw</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hw2</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [ [<span class="id" title="var">a</span> [<span class="id" title="var">Ht</span> <span class="id" title="var">Ha</span>] ] | [<span class="id" title="var">Hdiv</span> <span class="id" title="var">Hspin</span>] ]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hk</span> <span class="id" title="var">a</span>). <span class="id" title="tactic">destruct</span> (<span class="id" title="var">k1</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">k1a</span> <span class="id" title="var">Hk1a</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">k2</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">k2a</span> <span class="id" title="var">Hk2a</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hk</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hk</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="DelaySpecOrderM" class="idref" href="#DelaySpecOrderM"><span class="id" title="instance">DelaySpecOrderM</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DijkstraMonad.html#OrderM"><span class="id" title="class">OrderM</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#DelaySpec"><span class="id" title="definition">DelaySpec</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <a id="w1:36" class="idref" href="#w1:36"><span class="id" title="binder">w1</span></a> <a id="w2:37" class="idref" href="#w2:37"><span class="id" title="binder">w2</span></a> ⇒ <span class="id" title="keyword">∀</span> <a id="p:38" class="idref" href="#p:38"><span class="id" title="binder">p</span></a>, <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#p:38"><span class="id" title="variable">p</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#18a3a5e4581c6ce309a6851f9747d936"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#w2:37"><span class="id" title="variable">w2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#p:38"><span class="id" title="variable">p</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#18a3a5e4581c6ce309a6851f9747d936"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#w1:36"><span class="id" title="variable">w1</span></a>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="DelaySpecOrder" class="idref" href="#DelaySpecOrder"><span class="id" title="instance">DelaySpecOrder</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DijkstraMonad.html#OrderedMonad"><span class="id" title="class">OrderedMonad</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#DelaySpec"><span class="id" title="definition">DelaySpec</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">w</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">w1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">w2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">w3</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">p2</span>). <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">p2</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">w1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">w1</span> <span class="id" title="var">Hw1</span>]. <span class="id" title="tactic">destruct</span> <span class="id" title="var">w2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">w2</span> <span class="id" title="var">Hw2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hw2</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">basic_solve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">program</span>] <span class="id" title="keyword">Definition</span> <a id="obs_del" class="idref" href="#obs_del"><span class="id" title="definition">obs_del</span></a> (<a id="A:39" class="idref" href="#A:39"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) (<a id="t:40" class="idref" href="#t:40"><span class="id" title="binder">t</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#Delay"><span class="id" title="definition">Delay</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#A:39"><span class="id" title="variable">A</span></a>) : <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#DelaySpec"><span class="id" title="definition">DelaySpec</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#A:39"><span class="id" title="variable">A</span></a> := <span class="id" title="keyword">fun</span> <a id="p:41" class="idref" href="#p:41"><span class="id" title="binder">p</span></a> ⇒ <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#t:40"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#18a3a5e4581c6ce309a6851f9747d936"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#p:41"><span class="id" title="variable">p</span></a>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="DelaySpecObs" class="idref" href="#DelaySpecObs"><span class="id" title="instance">DelaySpecObs</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DijkstraMonad.html#EffectObs"><span class="id" title="class">EffectObs</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#Delay"><span class="id" title="definition">Delay</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#DelaySpec"><span class="id" title="definition">DelaySpec</span></a> := <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#obs_del"><span class="id" title="definition">obs_del</span></a>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="DelaySpecMonadMorph" class="idref" href="#DelaySpecMonadMorph"><span class="id" title="instance">DelaySpecMonadMorph</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DijkstraMonad.html#MonadMorphism"><span class="id" title="class">MonadMorphism</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#Delay"><span class="id" title="definition">Delay</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#DelaySpec"><span class="id" title="definition">DelaySpec</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#DelaySpecObs"><span class="id" title="instance">DelaySpecObs</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">basic_solve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="ITree.Extra.Dijkstra.PureITreeBasics.html#eutt_reta_or_div"><span class="id" title="lemma">eutt_reta_or_div</span></a> <span class="id" title="var">m</span>); <span class="id" title="var">basic_solve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">left</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">Hp</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H0</span>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">right</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Extra.Dijkstra.PureITreeBasics.html#div_spin_eutt"><span class="id" title="lemma">div_spin_eutt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">Hp</span>]. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Extra.Dijkstra.PureITreeBasics.html#spin_bind"><span class="id" title="lemma">spin_bind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">Hp</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Extra.Dijkstra.PureITreeBasics.html#div_spin_eutt"><span class="id" title="lemma">div_spin_eutt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">Hp</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Extra.Dijkstra.PureITreeBasics.html#spin_bind"><span class="id" title="lemma">spin_bind</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="iter_arrow_rel" class="idref" href="#iter_arrow_rel"><span class="id" title="definition">iter_arrow_rel</span></a> {<a id="A:42" class="idref" href="#A:42"><span class="id" title="binder">A</span></a> <a id="B:43" class="idref" href="#B:43"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>} (<a id="g:44" class="idref" href="#g:44"><span class="id" title="binder">g</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#A:42"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#Delay"><span class="id" title="definition">Delay</span></a> (<a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#A:42"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#B:43"><span class="id" title="variable">B</span></a>) ) (<a id="a1:45" class="idref" href="#a1:45"><span class="id" title="binder">a1</span></a> <a id="a2:46" class="idref" href="#a2:46"><span class="id" title="binder">a2</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#A:42"><span class="id" title="variable">A</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#g:44"><span class="id" title="variable">g</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#a1:45"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.Eq.Eqit.html#f51f52fd3bd17df0d58f37498312e9a2"><span class="id" title="notation">≈</span></a> <span class="id" title="method">ret</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#a2:46"><span class="id" title="variable">a2</span></a>).<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="4b1d36daa35e5fe62a868e71da7ed880" class="idref" href="#4b1d36daa35e5fe62a868e71da7ed880"><span class="id" title="notation">&quot;</span></a>x =[ g ]=&gt; y" := (<a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#iter_arrow_rel"><span class="id" title="definition">iter_arrow_rel</span></a> <span class="id" title="var">g</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70) : <span class="id" title="var">delayspec_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="iter_inl_spin" class="idref" href="#iter_inl_spin"><span class="id" title="lemma">iter_inl_spin</span></a> : <span class="id" title="keyword">∀</span> (<a id="A:47" class="idref" href="#A:47"><span class="id" title="binder">A</span></a> <a id="B:48" class="idref" href="#B:48"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>) (<a id="g:49" class="idref" href="#g:49"><span class="id" title="binder">g</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#A:47"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#Delay"><span class="id" title="definition">Delay</span></a> (<a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#A:47"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#B:48"><span class="id" title="variable">B</span></a>) ) (<a id="a:50" class="idref" href="#a:50"><span class="id" title="binder">a</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#A:47"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Extra.Dijkstra.IterRel.html#not_wf_from"><span class="id" title="definition">not_wf_from</span></a> (<a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#iter_arrow_rel"><span class="id" title="definition">iter_arrow_rel</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#g:49"><span class="id" title="variable">g</span></a>) <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#a:50"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.iter"><span class="id" title="definition">ITree.iter</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#g:49"><span class="id" title="variable">g</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#a:50"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.Eq.Eqit.html#f51f52fd3bd17df0d58f37498312e9a2"><span class="id" title="notation">≈</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.spin"><span class="id" title="definition">ITree.spin</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">g</span>. <span class="id" title="var">einit</span>. <span class="id" title="var">ecofix</span> <span class="id" title="var">CIH</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">pinversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Extra.Dijkstra.IterRel.html#not_wf_F_mono'"><span class="id" title="lemma">not_wf_F_mono'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Core.KTreeFacts.html#unfold_iter_ktree"><span class="id" title="lemma">unfold_iter_ktree</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#iter_arrow_rel"><span class="id" title="definition">iter_arrow_rel</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrel</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Extra.Dijkstra.PureITreeBasics.html#eutt_ret_euttge"><span class="id" title="lemma">eutt_ret_euttge</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hrel</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Extra.Dijkstra.PureITreeBasics.html#unfold_spin"><span class="id" title="lemma">unfold_spin</span></a>. <span class="id" title="var">etau</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*eventually&nbsp;might&nbsp;want&nbsp;more&nbsp;general&nbsp;reasoning&nbsp;principle,&nbsp;like&nbsp;weaken&nbsp;the&nbsp;second&nbsp;precondition&nbsp;to&nbsp;only&nbsp;apply<br/>
&nbsp;&nbsp;to&nbsp;a'&nbsp;reachable&nbsp;from&nbsp;a&nbsp;under&nbsp;g*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="iter_wf_converge" class="idref" href="#iter_wf_converge"><span class="id" title="lemma">iter_wf_converge</span></a> : <span class="id" title="keyword">∀</span> (<a id="A:51" class="idref" href="#A:51"><span class="id" title="binder">A</span></a> <a id="B:52" class="idref" href="#B:52"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>) (<a id="g:53" class="idref" href="#g:53"><span class="id" title="binder">g</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#A:51"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#Delay"><span class="id" title="definition">Delay</span></a> (<a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#A:51"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#B:52"><span class="id" title="variable">B</span></a>) ) (<a id="a:54" class="idref" href="#a:54"><span class="id" title="binder">a</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#A:51"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Extra.Dijkstra.IterRel.html#wf_from"><span class="id" title="inductive">wf_from</span></a> (<a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#iter_arrow_rel"><span class="id" title="definition">iter_arrow_rel</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#g:53"><span class="id" title="variable">g</span></a>) <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#a:54"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="a:55" class="idref" href="#a:55"><span class="id" title="binder">a</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="ab:56" class="idref" href="#ab:56"><span class="id" title="binder">ab</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#A:51"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#B:52"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#g:53"><span class="id" title="variable">g</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#a:55"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.Basics.Monad.html#20d7a3de27e35f38017a31a5b4c235e8"><span class="id" title="notation">≈</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#ab:56"><span class="id" title="variable">ab</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="b:57" class="idref" href="#b:57"><span class="id" title="binder">b</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#B:52"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.iter"><span class="id" title="definition">ITree.iter</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#g:53"><span class="id" title="variable">g</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#a:54"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.Basics.Monad.html#20d7a3de27e35f38017a31a5b4c235e8"><span class="id" title="notation">≈</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#b:57"><span class="id" title="variable">b</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">g</span> <span class="id" title="var">a</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hconv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hwf</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hconv</span> <span class="id" title="var">a</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hconv</span> <span class="id" title="keyword">as</span> [ [<span class="id" title="var">a'</span> | <span class="id" title="var">b</span>] <span class="id" title="var">Hret</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">H</span> <span class="id" title="var">a'</span>). <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">∃</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#unfold_iter"><span class="id" title="lemma">unfold_iter</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hret</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hconv</span> <span class="id" title="var">a</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hconv</span> <span class="id" title="keyword">as</span> [ [<span class="id" title="var">a'</span> | <span class="id" title="var">b</span>] <span class="id" title="var">Hret</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hret</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hret'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hret'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">b</span> <span class="id" title="var">Hret'</span>]. <span class="id" title="tactic">∃</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#unfold_iter"><span class="id" title="lemma">unfold_iter</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hret</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#tau_eutt"><span class="id" title="lemma">tau_eutt</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">∃</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#unfold_iter"><span class="id" title="lemma">unfold_iter</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hret</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="loop_invar_imp" class="idref" href="#loop_invar_imp"><span class="id" title="definition">loop_invar_imp</span></a> {<a id="A:58" class="idref" href="#A:58"><span class="id" title="binder">A</span></a> <a id="B:59" class="idref" href="#B:59"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>} (<a id="q:60" class="idref" href="#q:60"><span class="id" title="binder">q</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#Delay"><span class="id" title="definition">Delay</span></a> (<a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#A:58"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#B:59"><span class="id" title="variable">B</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<a id="p:61" class="idref" href="#p:61"><span class="id" title="binder">p</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#Delay"><span class="id" title="definition">Delay</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#B:59"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) :<span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="t:62" class="idref" href="#t:62"><span class="id" title="binder">t</span></a>, <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#q:60"><span class="id" title="variable">q</span></a> (<a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#t:62"><span class="id" title="variable">t</span></a> <span class="id" title="notation">&gt;&gt;=</span> <span class="id" title="keyword">fun</span> <a id="b:63" class="idref" href="#b:63"><span class="id" title="binder">b</span></a> ⇒ <span class="id" title="method">ret</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#b:63"><span class="id" title="variable">b</span></a>) ) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#p:61"><span class="id" title="variable">p</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#t:62"><span class="id" title="variable">t</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="iter_lift" class="idref" href="#iter_lift"><span class="id" title="definition">iter_lift</span></a> {<a id="A:64" class="idref" href="#A:64"><span class="id" title="binder">A</span></a> <a id="B:65" class="idref" href="#B:65"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>} (<a id="g:66" class="idref" href="#g:66"><span class="id" title="binder">g</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#A:64"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#Delay"><span class="id" title="definition">Delay</span></a> (<a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#A:64"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#B:65"><span class="id" title="variable">B</span></a>)) : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#A:64"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#B:65"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#Delay"><span class="id" title="definition">Delay</span></a> (<a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#A:64"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#B:65"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="x:67" class="idref" href="#x:67"><span class="id" title="binder">x</span></a> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#x:67"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a</span> ⇒ <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#g:66"><span class="id" title="variable">g</span></a> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">b</span> ⇒ <span class="id" title="method">ret</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">b</span>) <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="ce442b61456823c589ad82249b4ce4a7" class="idref" href="#ce442b61456823c589ad82249b4ce4a7"><span class="id" title="notation">&quot;</span></a>q -+&gt; p" := (<a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#loop_invar_imp"><span class="id" title="definition">loop_invar_imp</span></a> <span class="id" title="var">q</span> <span class="id" title="var">p</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 80) : <span class="id" title="var">delayspec_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="loop_invar" class="idref" href="#loop_invar"><span class="id" title="lemma">loop_invar</span></a> : <span class="id" title="keyword">∀</span> (<a id="A:69" class="idref" href="#A:69"><span class="id" title="binder">A</span></a> <a id="B:70" class="idref" href="#B:70"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>) (<a id="g:71" class="idref" href="#g:71"><span class="id" title="binder">g</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#A:69"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#Delay"><span class="id" title="definition">Delay</span></a> (<a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#A:69"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#B:70"><span class="id" title="variable">B</span></a>) ) (<a id="a:72" class="idref" href="#a:72"><span class="id" title="binder">a</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#A:69"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="p:73" class="idref" href="#p:73"><span class="id" title="binder">p</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#Delay"><span class="id" title="definition">Delay</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#B:70"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<a id="Hp:74" class="idref" href="#Hp:74"><span class="id" title="binder">Hp</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.PureITreeBasics.html#resp_eutt"><span class="id" title="abbreviation">resp_eutt</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#p:73"><span class="id" title="variable">p</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="q:75" class="idref" href="#q:75"><span class="id" title="binder">q</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#Delay"><span class="id" title="definition">Delay</span></a> (<a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#A:69"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#B:70"><span class="id" title="variable">B</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<a id="Hq:76" class="idref" href="#Hq:76"><span class="id" title="binder">Hq</span></a> : <a class="idref" href="ITree.Extra.Dijkstra.PureITreeBasics.html#resp_eutt"><span class="id" title="abbreviation">resp_eutt</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#q:75"><span class="id" title="variable">q</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#q:75"><span class="id" title="variable">q</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#ce442b61456823c589ad82249b4ce4a7"><span class="id" title="notation">-+&gt;</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#p:73"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#q:75"><span class="id" title="variable">q</span></a> (<a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#g:71"><span class="id" title="variable">g</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#a:72"><span class="id" title="variable">a</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="t:77" class="idref" href="#t:77"><span class="id" title="binder">t</span></a>, <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#q:75"><span class="id" title="variable">q</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#t:77"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#q:75"><span class="id" title="variable">q</span></a> (<span class="id" title="method">bind</span> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#t:77"><span class="id" title="variable">t</span></a> (<a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#iter_lift"><span class="id" title="definition">iter_lift</span></a> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#g:71"><span class="id" title="variable">g</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#p:73"><span class="id" title="variable">p</span></a> <span class="id" title="notation">\1/</span> <a class="idref" href="ITree.Props.Infinite.html#any_infinite"><span class="id" title="definition">any_infinite</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">(</span><span class="id" title="notation">ITree.iter</span> <span class="id" title="notation">g</span> <span class="id" title="notation">a</span><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#loop_invar_imp"><span class="id" title="definition">loop_invar_imp</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#iter_arrow_rel"><span class="id" title="definition">iter_arrow_rel</span></a> <span class="id" title="var">g</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">rg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ITree.Extra.Dijkstra.IterRel.html#classic_wf"><span class="id" title="lemma">classic_wf</span></a> <span class="id" title="var">rg</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <span class="id" title="var">rg</span>, <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#iter_arrow_rel"><span class="id" title="definition">iter_arrow_rel</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="ITree.Extra.Dijkstra.PureITreeBasics.html#eutt_reta_or_div"><span class="id" title="lemma">eutt_reta_or_div</span></a> (<span class="id" title="var">g</span> <span class="id" title="var">a</span>)); <span class="id" title="var">basic_solve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hq</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Core.KTreeFacts.html#unfold_iter_ktree"><span class="id" title="lemma">unfold_iter_ktree</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Extra.Dijkstra.PureITreeBasics.html#div_spin_eutt"><span class="id" title="lemma">div_spin_eutt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hq</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#unfold_iter"><span class="id" title="lemma">unfold_iter</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="ITree.Extra.Dijkstra.PureITreeBasics.html#spin_bind"><span class="id" title="lemma">spin_bind</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Extra.Dijkstra.PureITreeBasics.html#spin_bind"><span class="id" title="lemma">spin_bind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <span class="id" title="var">rg</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ITree.Extra.Dijkstra.PureITreeBasics.html#eutt_reta_or_div"><span class="id" title="lemma">eutt_reta_or_div</span></a> (<span class="id" title="var">g</span> <span class="id" title="var">a</span>)); <span class="id" title="var">basic_solve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#unfold_iter"><span class="id" title="lemma">unfold_iter</span></a>, &lt;- <span class="id" title="var">H4</span>, <a class="idref" href="ITree.Eq.Eqit.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>, <a class="idref" href="ITree.Eq.Eqit.html#tau_eutt"><span class="id" title="lemma">tau_eutt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">red</span>. <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#iter_lift"><span class="id" title="definition">iter_lift</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H1</span> (<span class="id" title="var">g</span> <span class="id" title="var">a</span>) <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hq</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H4</span>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#unfold_iter"><span class="id" title="lemma">unfold_iter</span></a>, &lt;- <span class="id" title="var">H4</span>, <a class="idref" href="ITree.Eq.Eqit.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hq</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Extra.Dijkstra.PureITreeBasics.html#div_spin_eutt"><span class="id" title="lemma">div_spin_eutt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hq</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Eq.Eqit.html#unfold_iter"><span class="id" title="lemma">unfold_iter</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="ITree.Extra.Dijkstra.PureITreeBasics.html#spin_bind"><span class="id" title="lemma">spin_bind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Extra.Dijkstra.DelaySpecMonad.html#iter_inl_spin"><span class="id" title="lemma">iter_inl_spin</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Props.Infinite.html#spin_infinite"><span class="id" title="lemma">spin_infinite</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
