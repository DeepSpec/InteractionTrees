<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://github.com/DeepSpec/InteractionTrees">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">ITree.Core.KTreeFacts</h1>

<div class="code">
</div>

<div class="doc">
<a id="lab80"></a><h1 class="section">Facts about <span class="inlinecode"><span class="id" title="var">aloop</span></span> and <span class="inlinecode"><a class="idref" href="ITree.Basics.CategoryOps.html#loop"><span class="id" title="definition">loop</span></a></span></h1>

</div>
<div class="code">

<br/>

<br/>
</div>

<div class="doc">
<a id="lab81"></a><h2 class="section"><span class="inlinecode"><span class="id" title="var">ITree.aloop</span></span></h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="bind_iter" class="idref" href="#bind_iter"><span class="id" title="lemma">bind_iter</span></a> {<a id="E:1" class="idref" href="#E:1"><span class="id" title="binder">E</span></a> <a id="A:2" class="idref" href="#A:2"><span class="id" title="binder">A</span></a> <a id="B:3" class="idref" href="#B:3"><span class="id" title="binder">B</span></a> <a id="C:4" class="idref" href="#C:4"><span class="id" title="binder">C</span></a>} (<a id="f:5" class="idref" href="#f:5"><span class="id" title="binder">f</span></a> : <a class="idref" href="ITree.Core.KTreeFacts.html#A:2"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#E:1"><span class="id" title="variable">E</span></a> (<a class="idref" href="ITree.Core.KTreeFacts.html#A:2"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#B:3"><span class="id" title="variable">B</span></a>)) (<a id="g:6" class="idref" href="#g:6"><span class="id" title="binder">g</span></a> : <a class="idref" href="ITree.Core.KTreeFacts.html#B:3"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#E:1"><span class="id" title="variable">E</span></a> (<a class="idref" href="ITree.Core.KTreeFacts.html#B:3"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#C:4"><span class="id" title="variable">C</span></a>))<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">∀</span> <a id="x:7" class="idref" href="#x:7"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eq.html#975ca860c8d6f4abb94dcb965da1f840"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.iter"><span class="id" title="definition">ITree.iter</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#f:5"><span class="id" title="variable">f</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#x:7"><span class="id" title="variable">x</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#3530f89eeba6738f103e1c4744407abc"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.iter"><span class="id" title="definition">ITree.iter</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#g:6"><span class="id" title="variable">g</span></a><a class="idref" href="ITree.Eq.Eq.html#975ca860c8d6f4abb94dcb965da1f840"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eq.html#975ca860c8d6f4abb94dcb965da1f840"><span class="id" title="notation">≈</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.iter"><span class="id" title="definition">ITree.iter</span></a> (<span class="id" title="keyword">fun</span> <a id="ab:8" class="idref" href="#ab:8"><span class="id" title="binder">ab</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ITree.Core.KTreeFacts.html#ab:8"><span class="id" title="variable">ab</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a</span> ⇒ <a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.map"><span class="id" title="definition">ITree.map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="ITree.Core.KTreeFacts.html#f:5"><span class="id" title="variable">f</span></a> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">b</span> ⇒ <a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.map"><span class="id" title="definition">ITree.map</span></a> (<a class="idref" href="ITree.Basics.CategoryOps.html#bimap"><span class="id" title="definition">bimap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="ITree.Basics.CategoryOps.html#id_"><span class="id" title="definition">id_</span></a> <span class="id" title="var">_</span>)) (<a class="idref" href="ITree.Core.KTreeFacts.html#g:6"><span class="id" title="variable">g</span></a> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#x:7"><span class="id" title="variable">x</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">einit</span>. <span class="id" title="var">ecofix</span> <span class="id" title="var">CIH</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="ITree.Eq.Eq.html#unfold_iter"><span class="id" title="lemma">unfold_iter</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_map"><span class="id" title="lemma">bind_map</span></a>, <a class="idref" href="ITree.Eq.Eq.html#bind_bind"><span class="id" title="lemma">bind_bind</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ebind</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">a</span> | <span class="id" title="var">b</span>] <span class="id" title="var">_</span> [].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_tau"><span class="id" title="lemma">bind_tau</span></a>. <span class="id" title="var">etau</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>, <a class="idref" href="ITree.Eq.Eq.html#tau_euttge"><span class="id" title="lemma">tau_euttge</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">b</span>. <span class="id" title="var">ecofix</span> <span class="id" title="var">CIH'</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="ITree.Eq.Eq.html#unfold_iter"><span class="id" title="lemma">unfold_iter</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_map"><span class="id" title="lemma">bind_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ebind</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">b'</span> | <span class="id" title="var">c</span>] <span class="id" title="var">_</span> []; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">etau</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eq_itree_iter'" class="idref" href="#eq_itree_iter'"><span class="id" title="lemma">eq_itree_iter'</span></a> {<a id="E:10" class="idref" href="#E:10"><span class="id" title="binder">E</span></a> <a id="I1:11" class="idref" href="#I1:11"><span class="id" title="binder">I1</span></a> <a id="I2:12" class="idref" href="#I2:12"><span class="id" title="binder">I2</span></a> <a id="R1:13" class="idref" href="#R1:13"><span class="id" title="binder">R1</span></a> <a id="R2:14" class="idref" href="#R2:14"><span class="id" title="binder">R2</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RI:15" class="idref" href="#RI:15"><span class="id" title="binder">RI</span></a> : <a class="idref" href="ITree.Core.KTreeFacts.html#I1:11"><span class="id" title="variable">I1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#I2:12"><span class="id" title="variable">I2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RR:16" class="idref" href="#RR:16"><span class="id" title="binder">RR</span></a> : <a class="idref" href="ITree.Core.KTreeFacts.html#R1:13"><span class="id" title="variable">R1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#R2:14"><span class="id" title="variable">R2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="body1:17" class="idref" href="#body1:17"><span class="id" title="binder">body1</span></a> : <a class="idref" href="ITree.Core.KTreeFacts.html#I1:11"><span class="id" title="variable">I1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#E:10"><span class="id" title="variable">E</span></a> (<a class="idref" href="ITree.Core.KTreeFacts.html#I1:11"><span class="id" title="variable">I1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#R1:13"><span class="id" title="variable">R1</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="body2:18" class="idref" href="#body2:18"><span class="id" title="binder">body2</span></a> : <a class="idref" href="ITree.Core.KTreeFacts.html#I2:12"><span class="id" title="variable">I2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#E:10"><span class="id" title="variable">E</span></a> (<a class="idref" href="ITree.Core.KTreeFacts.html#I2:12"><span class="id" title="variable">I2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#R2:14"><span class="id" title="variable">R2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="eutt_body:21" class="idref" href="#eutt_body:21"><span class="id" title="binder">eutt_body</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">∀</span> <a id="j1:19" class="idref" href="#j1:19"><span class="id" title="binder">j1</span></a> <a id="j2:20" class="idref" href="#j2:20"><span class="id" title="binder">j2</span></a>, <a class="idref" href="ITree.Core.KTreeFacts.html#RI:15"><span class="id" title="variable">RI</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#j1:19"><span class="id" title="variable">j1</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#j2:20"><span class="id" title="variable">j2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Eq.Eq.html#eq_itree"><span class="id" title="definition">eq_itree</span></a> (<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#sum_rel"><span class="id" title="inductive">sum_rel</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#RI:15"><span class="id" title="variable">RI</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#RR:16"><span class="id" title="variable">RR</span></a>) (<a class="idref" href="ITree.Core.KTreeFacts.html#body1:17"><span class="id" title="variable">body1</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#j1:19"><span class="id" title="variable">j1</span></a>) (<a class="idref" href="ITree.Core.KTreeFacts.html#body2:18"><span class="id" title="variable">body2</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#j2:20"><span class="id" title="variable">j2</span></a>))<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">∀</span> (<a id="i1:22" class="idref" href="#i1:22"><span class="id" title="binder">i1</span></a> : <a class="idref" href="ITree.Core.KTreeFacts.html#I1:11"><span class="id" title="variable">I1</span></a>) (<a id="i2:23" class="idref" href="#i2:23"><span class="id" title="binder">i2</span></a> : <a class="idref" href="ITree.Core.KTreeFacts.html#I2:12"><span class="id" title="variable">I2</span></a>) (<a id="RI_i:24" class="idref" href="#RI_i:24"><span class="id" title="binder">RI_i</span></a> : <a class="idref" href="ITree.Core.KTreeFacts.html#RI:15"><span class="id" title="variable">RI</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#i1:22"><span class="id" title="variable">i1</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#i2:23"><span class="id" title="variable">i2</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="ITree.Eq.Eq.html#eq_itree"><span class="id" title="definition">eq_itree</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#E:10"><span class="id" title="variable">E</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="ITree.Core.KTreeFacts.html#RR:16"><span class="id" title="variable">RR</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.iter"><span class="id" title="definition">ITree.iter</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#body1:17"><span class="id" title="variable">body1</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#i1:22"><span class="id" title="variable">i1</span></a>) (<a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.iter"><span class="id" title="definition">ITree.iter</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#body2:18"><span class="id" title="variable">body2</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#i2:23"><span class="id" title="variable">i2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ginit</span>. <span class="id" title="var">pcofix</span> <span class="id" title="var">CIH</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">eutt_body</span> <span class="id" title="var">i1</span> <span class="id" title="var">i2</span> <span class="id" title="var">RI_i</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#unfold_iter"><span class="id" title="lemma">unfold_iter</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">guclo</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_clo_bind"><span class="id" title="lemma">eqit_clo_bind</span></a>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? []; <span class="id" title="var">gstep</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">paco</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eutt_iter'" class="idref" href="#eutt_iter'"><span class="id" title="lemma">eutt_iter'</span></a> {<a id="E:25" class="idref" href="#E:25"><span class="id" title="binder">E</span></a> <a id="I1:26" class="idref" href="#I1:26"><span class="id" title="binder">I1</span></a> <a id="I2:27" class="idref" href="#I2:27"><span class="id" title="binder">I2</span></a> <a id="R1:28" class="idref" href="#R1:28"><span class="id" title="binder">R1</span></a> <a id="R2:29" class="idref" href="#R2:29"><span class="id" title="binder">R2</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RI:30" class="idref" href="#RI:30"><span class="id" title="binder">RI</span></a> : <a class="idref" href="ITree.Core.KTreeFacts.html#I1:26"><span class="id" title="variable">I1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#I2:27"><span class="id" title="variable">I2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RR:31" class="idref" href="#RR:31"><span class="id" title="binder">RR</span></a> : <a class="idref" href="ITree.Core.KTreeFacts.html#R1:28"><span class="id" title="variable">R1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#R2:29"><span class="id" title="variable">R2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="body1:32" class="idref" href="#body1:32"><span class="id" title="binder">body1</span></a> : <a class="idref" href="ITree.Core.KTreeFacts.html#I1:26"><span class="id" title="variable">I1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#E:25"><span class="id" title="variable">E</span></a> (<a class="idref" href="ITree.Core.KTreeFacts.html#I1:26"><span class="id" title="variable">I1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#R1:28"><span class="id" title="variable">R1</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="body2:33" class="idref" href="#body2:33"><span class="id" title="binder">body2</span></a> : <a class="idref" href="ITree.Core.KTreeFacts.html#I2:27"><span class="id" title="variable">I2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#E:25"><span class="id" title="variable">E</span></a> (<a class="idref" href="ITree.Core.KTreeFacts.html#I2:27"><span class="id" title="variable">I2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#R2:29"><span class="id" title="variable">R2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="eutt_body:36" class="idref" href="#eutt_body:36"><span class="id" title="binder">eutt_body</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">∀</span> <a id="j1:34" class="idref" href="#j1:34"><span class="id" title="binder">j1</span></a> <a id="j2:35" class="idref" href="#j2:35"><span class="id" title="binder">j2</span></a>, <a class="idref" href="ITree.Core.KTreeFacts.html#RI:30"><span class="id" title="variable">RI</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#j1:34"><span class="id" title="variable">j1</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#j2:35"><span class="id" title="variable">j2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Eq.Eq.html#eutt"><span class="id" title="definition">eutt</span></a> (<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#sum_rel"><span class="id" title="inductive">sum_rel</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#RI:30"><span class="id" title="variable">RI</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#RR:31"><span class="id" title="variable">RR</span></a>) (<a class="idref" href="ITree.Core.KTreeFacts.html#body1:32"><span class="id" title="variable">body1</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#j1:34"><span class="id" title="variable">j1</span></a>) (<a class="idref" href="ITree.Core.KTreeFacts.html#body2:33"><span class="id" title="variable">body2</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#j2:35"><span class="id" title="variable">j2</span></a>))<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">∀</span> (<a id="i1:37" class="idref" href="#i1:37"><span class="id" title="binder">i1</span></a> : <a class="idref" href="ITree.Core.KTreeFacts.html#I1:26"><span class="id" title="variable">I1</span></a>) (<a id="i2:38" class="idref" href="#i2:38"><span class="id" title="binder">i2</span></a> : <a class="idref" href="ITree.Core.KTreeFacts.html#I2:27"><span class="id" title="variable">I2</span></a>) (<a id="RI_i:39" class="idref" href="#RI_i:39"><span class="id" title="binder">RI_i</span></a> : <a class="idref" href="ITree.Core.KTreeFacts.html#RI:30"><span class="id" title="variable">RI</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#i1:37"><span class="id" title="variable">i1</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#i2:38"><span class="id" title="variable">i2</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="ITree.Eq.Eq.html#eutt"><span class="id" title="definition">eutt</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#E:25"><span class="id" title="variable">E</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="ITree.Core.KTreeFacts.html#RR:31"><span class="id" title="variable">RR</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.iter"><span class="id" title="definition">ITree.iter</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#body1:32"><span class="id" title="variable">body1</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#i1:37"><span class="id" title="variable">i1</span></a>) (<a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.iter"><span class="id" title="definition">ITree.iter</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#body2:33"><span class="id" title="variable">body2</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#i2:38"><span class="id" title="variable">i2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">einit</span>. <span class="id" title="var">ecofix</span> <span class="id" title="var">CIH</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">eutt_body</span> <span class="id" title="var">i1</span> <span class="id" title="var">i2</span> <span class="id" title="var">RI_i</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#unfold_iter"><span class="id" title="lemma">unfold_iter</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ebind</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">paco</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? [].<br/>
&nbsp;&nbsp;- <span class="id" title="var">etau</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">paco</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab82"></a><h2 class="section"><span class="inlinecode"><a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.iter"><span class="id" title="definition">iter</span></a></span></h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eqit_mon" class="idref" href="#eqit_mon"><span class="id" title="lemma">eqit_mon</span></a> {<a id="E:40" class="idref" href="#E:40"><span class="id" title="binder">E</span></a> <a id="R1:41" class="idref" href="#R1:41"><span class="id" title="binder">R1</span></a> <a id="R2:42" class="idref" href="#R2:42"><span class="id" title="binder">R2</span></a>} (<a id="RR:43" class="idref" href="#RR:43"><span class="id" title="binder">RR</span></a> <a id="RR':44" class="idref" href="#RR':44"><span class="id" title="binder">RR'</span></a> : <a class="idref" href="ITree.Core.KTreeFacts.html#R1:41"><span class="id" title="variable">R1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#R2:42"><span class="id" title="variable">R2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <a id="b1:45" class="idref" href="#b1:45"><span class="id" title="binder">b1</span></a> <a id="b2:46" class="idref" href="#b2:46"><span class="id" title="binder">b2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Core.KTreeFacts.html#RR:43"><span class="id" title="variable">RR</span></a> <span class="id" title="notation">&lt;2=</span> <a class="idref" href="ITree.Core.KTreeFacts.html#RR':44"><span class="id" title="variable">RR'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Eq.Eq.html#eqit"><span class="id" title="definition">eqit</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#RR:43"><span class="id" title="variable">RR</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#b1:45"><span class="id" title="variable">b1</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#b2:46"><span class="id" title="variable">b2</span></a> <span class="id" title="notation">&lt;2=</span> @<a class="idref" href="ITree.Eq.Eq.html#eqit"><span class="id" title="definition">eqit</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#E:40"><span class="id" title="variable">E</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="ITree.Core.KTreeFacts.html#RR':44"><span class="id" title="variable">RR'</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#b1:45"><span class="id" title="variable">b1</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#b2:46"><span class="id" title="variable">b2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">paco2_mon_bot</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? ?. <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a id="eq_itree_iter" class="idref" href="#eq_itree_iter"><span class="id" title="instance">eq_itree_iter</span></a> {<a id="E:47" class="idref" href="#E:47"><span class="id" title="binder">E</span></a> <a id="A:48" class="idref" href="#A:48"><span class="id" title="binder">A</span></a> <a id="B:49" class="idref" href="#B:49"><span class="id" title="binder">B</span></a>} :<br/>
&nbsp;&nbsp;@<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Core.KTreeFacts.html#A:48"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#E:47"><span class="id" title="variable">E</span></a> (<a class="idref" href="ITree.Core.KTreeFacts.html#A:48"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#B:49"><span class="id" title="variable">B</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#A:48"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#E:47"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#B:49"><span class="id" title="variable">B</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="ITree.Eq.Eq.html#eq_itree"><span class="id" title="definition">eq_itree</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="ITree.Eq.Eq.html#eq_itree"><span class="id" title="definition">eq_itree</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Basics.CategoryOps.html#iter"><span class="id" title="definition">iter</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">body1</span> <span class="id" title="var">body2</span> <span class="id" title="var">EQ_BODY</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ_BODY</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.CategoryOps.html#iter"><span class="id" title="definition">iter</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#Iter_Kleisli"><span class="id" title="instance">Iter_Kleisli</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="ITree.Core.KTreeFacts.html#eq_itree_iter'"><span class="id" title="lemma">eq_itree_iter'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Core.KTreeFacts.html#eqit_mon"><span class="id" title="lemma">eqit_mon</span></a>, <span class="id" title="var">EQ_BODY</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [] <span class="id" title="var">_</span> []; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a id="eutt_iter" class="idref" href="#eutt_iter"><span class="id" title="instance">eutt_iter</span></a> {<a id="E:50" class="idref" href="#E:50"><span class="id" title="binder">E</span></a> <a id="A:51" class="idref" href="#A:51"><span class="id" title="binder">A</span></a> <a id="B:52" class="idref" href="#B:52"><span class="id" title="binder">B</span></a>} :<br/>
&nbsp;&nbsp;@<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Core.KTreeFacts.html#A:51"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#E:50"><span class="id" title="variable">E</span></a> (<a class="idref" href="ITree.Core.KTreeFacts.html#A:51"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#B:52"><span class="id" title="variable">B</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#A:51"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#E:50"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#B:52"><span class="id" title="variable">B</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="ITree.Eq.Eq.html#eutt"><span class="id" title="definition">eutt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="ITree.Eq.Eq.html#eutt"><span class="id" title="definition">eutt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Basics.CategoryOps.html#iter"><span class="id" title="definition">iter</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">body1</span> <span class="id" title="var">body2</span> <span class="id" title="var">EQ_BODY</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ_BODY</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.CategoryOps.html#iter"><span class="id" title="definition">iter</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#Iter_Kleisli"><span class="id" title="instance">Iter_Kleisli</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="ITree.Core.KTreeFacts.html#eutt_iter'"><span class="id" title="lemma">eutt_iter'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">_</span> []; <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Core.KTreeFacts.html#eqit_mon"><span class="id" title="lemma">eqit_mon</span></a>, <span class="id" title="var">EQ_BODY</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [] <span class="id" title="var">_</span> []; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="eutt_iter_gen" class="idref" href="#eutt_iter_gen"><span class="id" title="definition">eutt_iter_gen</span></a> {<a id="F:53" class="idref" href="#F:53"><span class="id" title="binder">F</span></a> <a id="A:54" class="idref" href="#A:54"><span class="id" title="binder">A</span></a> <a id="B:55" class="idref" href="#B:55"><span class="id" title="binder">B</span></a> <a id="R:56" class="idref" href="#R:56"><span class="id" title="binder">R</span></a> <a id="S:57" class="idref" href="#S:57"><span class="id" title="binder">S</span></a>} :<br/>
&nbsp;&nbsp;@<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Core.KTreeFacts.html#A:54"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#F:53"><span class="id" title="variable">F</span></a> (<a class="idref" href="ITree.Core.KTreeFacts.html#A:54"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#B:55"><span class="id" title="variable">B</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#A:54"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#F:53"><span class="id" title="variable">F</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#B:55"><span class="id" title="variable">B</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Core.KTreeFacts.html#R:56"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="ITree.Eq.Eq.html#eutt"><span class="id" title="definition">eutt</span></a> (<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#sum_rel"><span class="id" title="inductive">sum_rel</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#R:56"><span class="id" title="variable">R</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#S:57"><span class="id" title="variable">S</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#R:56"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Eq.Eq.html#eutt"><span class="id" title="definition">eutt</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#S:57"><span class="id" title="variable">S</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ITree.Basics.CategoryOps.html#iter"><span class="id" title="definition">iter</span></a> (<span class="id" title="var">C</span> := <a class="idref" href="ITree.Core.KTree.html#ktree"><span class="id" title="abbreviation">ktree</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#F:53"><span class="id" title="variable">F</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">red</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">body1</span> <span class="id" title="var">body2</span> <span class="id" title="var">EQ_BODY</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">Hxy</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ_BODY</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Core.KTreeFacts.html#eutt_iter'"><span class="id" title="lemma">eutt_iter'</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a id="eq2_ktree_iter" class="idref" href="#eq2_ktree_iter"><span class="id" title="instance">eq2_ktree_iter</span></a> {<a id="E:58" class="idref" href="#E:58"><span class="id" title="binder">E</span></a> <a id="A:59" class="idref" href="#A:59"><span class="id" title="binder">A</span></a> <a id="B:60" class="idref" href="#B:60"><span class="id" title="binder">B</span></a>} :<br/>
&nbsp;&nbsp;@<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="ITree.Core.KTree.html#ktree"><span class="id" title="abbreviation">ktree</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#E:58"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#A:59"><span class="id" title="variable">A</span></a> (<a class="idref" href="ITree.Core.KTreeFacts.html#A:59"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#B:60"><span class="id" title="variable">B</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ITree.Core.KTree.html#ktree"><span class="id" title="abbreviation">ktree</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#E:58"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#A:59"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#B:60"><span class="id" title="variable">B</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ITree.Basics.CategoryOps.html#eq2"><span class="id" title="definition">eq2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="ITree.Basics.CategoryOps.html#eq2"><span class="id" title="definition">eq2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Basics.CategoryOps.html#iter"><span class="id" title="definition">iter</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Core.KTreeFacts.html#eutt_iter"><span class="id" title="instance">eutt_iter</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="KTreeIterative" class="idref" href="#KTreeIterative"><span class="id" title="section">KTreeIterative</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unfold_iter_ktree" class="idref" href="#unfold_iter_ktree"><span class="id" title="lemma">unfold_iter_ktree</span></a> {<a id="E:61" class="idref" href="#E:61"><span class="id" title="binder">E</span></a> <a id="A:62" class="idref" href="#A:62"><span class="id" title="binder">A</span></a> <a id="B:63" class="idref" href="#B:63"><span class="id" title="binder">B</span></a>} (<a id="f:64" class="idref" href="#f:64"><span class="id" title="binder">f</span></a> : <a class="idref" href="ITree.Core.KTree.html#ktree"><span class="id" title="abbreviation">ktree</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#E:61"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#A:62"><span class="id" title="variable">A</span></a> (<a class="idref" href="ITree.Core.KTreeFacts.html#A:62"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#B:63"><span class="id" title="variable">B</span></a>)) (<a id="a0:65" class="idref" href="#a0:65"><span class="id" title="binder">a0</span></a> : <a class="idref" href="ITree.Core.KTreeFacts.html#A:62"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="ITree.Basics.CategoryOps.html#iter"><span class="id" title="definition">iter</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#f:64"><span class="id" title="variable">f</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#a0:65"><span class="id" title="variable">a0</span></a> <a class="idref" href="ITree.Eq.Eq.html#20826f47c4a0c5e15ea82cdfc0f20ea7"><span class="id" title="notation">≅</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="ab:66" class="idref" href="#ab:66"><span class="id" title="binder">ab</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#0959d6531a3c2d5ddb2177e5cf7c15a8"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#f:64"><span class="id" title="variable">f</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#a0:65"><span class="id" title="variable">a0</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#0959d6531a3c2d5ddb2177e5cf7c15a8"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ITree.Core.KTreeFacts.html#ab:66"><span class="id" title="variable">ab</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a</span> ⇒ <a class="idref" href="ITree.Core.ITreeDefinition.html#Tau"><span class="id" title="abbreviation">Tau</span></a> (<a class="idref" href="ITree.Basics.CategoryOps.html#iter"><span class="id" title="definition">iter</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#f:64"><span class="id" title="variable">f</span></a> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">b</span> ⇒ <a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.CategoryOps.html#iter"><span class="id" title="definition">iter</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#Iter_Kleisli"><span class="id" title="instance">Iter_Kleisli</span></a>, <a class="idref" href="ITree.Basics.Basics.html#iter"><span class="id" title="definition">Basics.iter</span></a>, <a class="idref" href="ITree.Core.ITreeDefinition.html#MonadIter_itree"><span class="id" title="instance">MonadIter_itree</span></a>, <a class="idref" href="ITree.Basics.CategoryOps.html#cat"><span class="id" title="definition">cat</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#unfold_iter"><span class="id" title="lemma">unfold_iter</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_bind"><span class="id" title="instance">eqit_bind</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a id="IterUnfold_ktree" class="idref" href="#IterUnfold_ktree"><span class="id" title="instance">IterUnfold_ktree</span></a> {<a id="E:68" class="idref" href="#E:68"><span class="id" title="binder">E</span></a>} : <a class="idref" href="ITree.Basics.CategoryTheory.html#IterUnfold"><span class="id" title="class">IterUnfold</span></a> (<a class="idref" href="ITree.Core.KTree.html#ktree"><span class="id" title="abbreviation">ktree</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#E:68"><span class="id" title="variable">E</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#sum"><span class="id" title="inductive">sum</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Core.KTreeFacts.html#unfold_iter_ktree"><span class="id" title="lemma">unfold_iter_ktree</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">red</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.CategoryOps.html#cat"><span class="id" title="definition">cat</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#Cat_Kleisli"><span class="id" title="instance">Cat_Kleisli</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eq.html#eutt_clo_bind"><span class="id" title="lemma">eutt_clo_bind</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [] ? []; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#tau_eutt"><span class="id" title="lemma">tau_eutt</span></a>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a id="IterNatural_ktree" class="idref" href="#IterNatural_ktree"><span class="id" title="instance">IterNatural_ktree</span></a> {<a id="E:69" class="idref" href="#E:69"><span class="id" title="binder">E</span></a>} : <a class="idref" href="ITree.Basics.CategoryTheory.html#IterNatural"><span class="id" title="class">IterNatural</span></a> (<a class="idref" href="ITree.Core.KTree.html#ktree"><span class="id" title="abbreviation">ktree</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#E:69"><span class="id" title="variable">E</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#sum"><span class="id" title="inductive">sum</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.CategoryOps.html#bimap"><span class="id" title="definition">bimap</span></a>, <a class="idref" href="ITree.Basics.CategoryOps.html#Bimap_Coproduct"><span class="id" title="instance">Bimap_Coproduct</span></a>, <a class="idref" href="ITree.Basics.CategoryOps.html#case_"><span class="id" title="definition">case_</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#Case_Kleisli"><span class="id" title="instance">Case_Kleisli</span></a>, <a class="idref" href="ITree.Basics.Function.html#case_sum"><span class="id" title="instance">case_sum</span></a>, <a class="idref" href="ITree.Basics.CategoryOps.html#cat"><span class="id" title="definition">cat</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#Cat_Kleisli"><span class="id" title="instance">Cat_Kleisli</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">a0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">einit</span>. <span class="id" title="var">ecofix</span> <span class="id" title="var">CIH</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="ITree.Core.KTreeFacts.html#unfold_iter_ktree"><span class="id" title="lemma">unfold_iter_ktree</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="ITree.Eq.Eq.html#bind_bind"><span class="id" title="lemma">bind_bind</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ebind</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [] ? [].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_tau"><span class="id" title="lemma">bind_tau</span></a>, 2 <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>. <span class="id" title="var">etau</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>, !<a class="idref" href="ITree.Eq.Eq.html#bind_bind"><span class="id" title="lemma">bind_bind</span></a>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_ret_r"><span class="id" title="lemma">bind_ret_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="iter_dinatural_ktree" class="idref" href="#iter_dinatural_ktree"><span class="id" title="lemma">iter_dinatural_ktree</span></a> {<a id="E:70" class="idref" href="#E:70"><span class="id" title="binder">E</span></a> <a id="A:71" class="idref" href="#A:71"><span class="id" title="binder">A</span></a> <a id="B:72" class="idref" href="#B:72"><span class="id" title="binder">B</span></a> <a id="C:73" class="idref" href="#C:73"><span class="id" title="binder">C</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f:74" class="idref" href="#f:74"><span class="id" title="binder">f</span></a> : <a class="idref" href="ITree.Core.KTree.html#ktree"><span class="id" title="abbreviation">ktree</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#E:70"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#A:71"><span class="id" title="variable">A</span></a> (<a class="idref" href="ITree.Core.KTreeFacts.html#C:73"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#B:72"><span class="id" title="variable">B</span></a>)) (<a id="g:75" class="idref" href="#g:75"><span class="id" title="binder">g</span></a> : <a class="idref" href="ITree.Core.KTree.html#ktree"><span class="id" title="abbreviation">ktree</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#E:70"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#C:73"><span class="id" title="variable">C</span></a> (<a class="idref" href="ITree.Core.KTreeFacts.html#A:71"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#B:72"><span class="id" title="variable">B</span></a>)) (<a id="a0:76" class="idref" href="#a0:76"><span class="id" title="binder">a0</span></a> : <a class="idref" href="ITree.Core.KTreeFacts.html#A:71"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="ITree.Basics.CategoryOps.html#iter"><span class="id" title="definition">iter</span></a> (<span class="id" title="var">C</span> := <a class="idref" href="ITree.Core.KTree.html#ktree"><span class="id" title="abbreviation">ktree</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#E:70"><span class="id" title="variable">E</span></a>) (<span class="id" title="keyword">fun</span> <a id="a:77" class="idref" href="#a:77"><span class="id" title="binder">a</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="cb:78" class="idref" href="#cb:78"><span class="id" title="binder">cb</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#0959d6531a3c2d5ddb2177e5cf7c15a8"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#f:74"><span class="id" title="variable">f</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#a:77"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#0959d6531a3c2d5ddb2177e5cf7c15a8"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ITree.Core.KTreeFacts.html#cb:78"><span class="id" title="variable">cb</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">c</span> ⇒ <a class="idref" href="ITree.Core.ITreeDefinition.html#Tau"><span class="id" title="abbreviation">Tau</span></a> (<a class="idref" href="ITree.Core.KTreeFacts.html#g:75"><span class="id" title="variable">g</span></a> <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">b</span> ⇒ <a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) <a class="idref" href="ITree.Core.KTreeFacts.html#a0:76"><span class="id" title="variable">a0</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eq.html#20826f47c4a0c5e15ea82cdfc0f20ea7"><span class="id" title="notation">≅</span></a> <a id="cb:80" class="idref" href="#cb:80"><span class="id" title="binder">cb</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#0959d6531a3c2d5ddb2177e5cf7c15a8"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#f:74"><span class="id" title="variable">f</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#a0:76"><span class="id" title="variable">a0</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#0959d6531a3c2d5ddb2177e5cf7c15a8"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ITree.Core.KTreeFacts.html#cb:80"><span class="id" title="variable">cb</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">c0</span> ⇒ <a class="idref" href="ITree.Core.ITreeDefinition.html#Tau"><span class="id" title="abbreviation">Tau</span></a> (<a class="idref" href="ITree.Basics.CategoryOps.html#iter"><span class="id" title="definition">iter</span></a> (<span class="id" title="var">C</span> := <a class="idref" href="ITree.Core.KTree.html#ktree"><span class="id" title="abbreviation">ktree</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#E:70"><span class="id" title="variable">E</span></a>) (<span class="id" title="keyword">fun</span> <a id="c:82" class="idref" href="#c:82"><span class="id" title="binder">c</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="ab:83" class="idref" href="#ab:83"><span class="id" title="binder">ab</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#0959d6531a3c2d5ddb2177e5cf7c15a8"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#g:75"><span class="id" title="variable">g</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#c:82"><span class="id" title="variable">c</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#0959d6531a3c2d5ddb2177e5cf7c15a8"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ITree.Core.KTreeFacts.html#ab:83"><span class="id" title="variable">ab</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a</span> ⇒ <a class="idref" href="ITree.Core.ITreeDefinition.html#Tau"><span class="id" title="abbreviation">Tau</span></a> (<a class="idref" href="ITree.Core.KTreeFacts.html#f:74"><span class="id" title="variable">f</span></a> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">b</span> ⇒ <a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) <span class="id" title="var">c0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">b</span> ⇒ <a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">a0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ginit</span>. <span class="id" title="var">pcofix</span> <span class="id" title="var">CIH</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Core.KTreeFacts.html#unfold_iter_ktree"><span class="id" title="lemma">unfold_iter_ktree</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_bind"><span class="id" title="lemma">bind_bind</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">guclo</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_clo_bind"><span class="id" title="lemma">eqit_clo_bind</span></a>. <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [] ? [].<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_tau"><span class="id" title="lemma">bind_tau</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;here&nbsp;we&nbsp;should&nbsp;be&nbsp;able&nbsp;to&nbsp;apply&nbsp;symmetry&nbsp;and&nbsp;be&nbsp;done.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Core.KTreeFacts.html#unfold_iter_ktree"><span class="id" title="lemma">unfold_iter_ktree</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gstep</span>; <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_bind"><span class="id" title="lemma">bind_bind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">guclo</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_clo_bind"><span class="id" title="lemma">eqit_clo_bind</span></a>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [] ? [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_tau"><span class="id" title="lemma">bind_tau</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gstep</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">paco</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>. <span class="id" title="var">gstep</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>. <span class="id" title="var">gstep</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>. }<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a id="IterDinatural_ktree" class="idref" href="#IterDinatural_ktree"><span class="id" title="instance">IterDinatural_ktree</span></a> {<a id="E:85" class="idref" href="#E:85"><span class="id" title="binder">E</span></a>} : <a class="idref" href="ITree.Basics.CategoryTheory.html#IterDinatural"><span class="id" title="class">IterDinatural</span></a> (<a class="idref" href="ITree.Core.KTree.html#ktree"><span class="id" title="abbreviation">ktree</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#E:85"><span class="id" title="variable">E</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#sum"><span class="id" title="inductive">sum</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.CategoryOps.html#bimap"><span class="id" title="definition">bimap</span></a>, <a class="idref" href="ITree.Basics.CategoryOps.html#Bimap_Coproduct"><span class="id" title="instance">Bimap_Coproduct</span></a>, <a class="idref" href="ITree.Basics.CategoryOps.html#case_"><span class="id" title="definition">case_</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#Case_Kleisli"><span class="id" title="instance">Case_Kleisli</span></a>, <a class="idref" href="ITree.Basics.Function.html#case_sum"><span class="id" title="instance">case_sum</span></a>, <a class="idref" href="ITree.Basics.CategoryOps.html#cat"><span class="id" title="definition">cat</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#Cat_Kleisli"><span class="id" title="instance">Cat_Kleisli</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="ITree.Basics.CategoryOps.html#iter"><span class="id" title="definition">iter</span></a> (<span class="id" title="var">C</span> := <a class="idref" href="ITree.Core.KTree.html#ktree"><span class="id" title="abbreviation">ktree</span></a> <span class="id" title="var">E</span>) (<span class="id" title="keyword">fun</span> <a id="t:89" class="idref" href="#t:89"><span class="id" title="binder">t</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="x:90" class="idref" href="#x:90"><span class="id" title="binder">x</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#0959d6531a3c2d5ddb2177e5cf7c15a8"><span class="id" title="notation">&lt;-</span></a> <span class="id" title="var">f</span> <a class="idref" href="ITree.Core.KTreeFacts.html#t:86"><span class="id" title="variable">t</span></a><a class="idref" href="ITree.Core.ITreeDefinition.html#0959d6531a3c2d5ddb2177e5cf7c15a8"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ITree.Core.KTreeFacts.html#x:87"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a1</span> ⇒ <a class="idref" href="ITree.Core.ITreeDefinition.html#Tau"><span class="id" title="abbreviation">Tau</span></a> (<span class="id" title="var">g</span> <span class="id" title="var">a1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">b0</span> ⇒ <a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">b0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) <span class="id" title="var">a0</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Core.KTreeFacts.html#eutt_iter"><span class="id" title="instance">eutt_iter</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eq.html#eutt_clo_bind"><span class="id" title="lemma">eutt_clo_bind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [] ? [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#tau_eutt"><span class="id" title="lemma">tau_eutt</span></a>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Core.KTreeFacts.html#iter_dinatural_ktree"><span class="id" title="lemma">iter_dinatural_ktree</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eq.html#eutt_clo_bind"><span class="id" title="lemma">eutt_clo_bind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [] ? [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#tau_eutt"><span class="id" title="lemma">tau_eutt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Core.KTreeFacts.html#eutt_iter"><span class="id" title="instance">eutt_iter</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eq.html#eutt_clo_bind"><span class="id" title="lemma">eutt_clo_bind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [] ? [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#tau_eutt"><span class="id" title="lemma">tau_eutt</span></a>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="iter_codiagonal_ktree" class="idref" href="#iter_codiagonal_ktree"><span class="id" title="lemma">iter_codiagonal_ktree</span></a> {<a id="E:92" class="idref" href="#E:92"><span class="id" title="binder">E</span></a> <a id="A:93" class="idref" href="#A:93"><span class="id" title="binder">A</span></a> <a id="B:94" class="idref" href="#B:94"><span class="id" title="binder">B</span></a>} (<a id="f:95" class="idref" href="#f:95"><span class="id" title="binder">f</span></a> : <a class="idref" href="ITree.Core.KTree.html#ktree"><span class="id" title="abbreviation">ktree</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#E:92"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#A:93"><span class="id" title="variable">A</span></a> (<a class="idref" href="ITree.Core.KTreeFacts.html#A:93"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Core.KTreeFacts.html#A:93"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#B:94"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">)</span></a>)) (<a id="a0:96" class="idref" href="#a0:96"><span class="id" title="binder">a0</span></a> : <a class="idref" href="ITree.Core.KTreeFacts.html#A:93"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="ITree.Basics.CategoryOps.html#iter"><span class="id" title="definition">iter</span></a> (<a class="idref" href="ITree.Basics.CategoryOps.html#iter"><span class="id" title="definition">iter</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#f:95"><span class="id" title="variable">f</span></a>) <a class="idref" href="ITree.Core.KTreeFacts.html#a0:96"><span class="id" title="variable">a0</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eq.html#20826f47c4a0c5e15ea82cdfc0f20ea7"><span class="id" title="notation">≅</span></a> <a class="idref" href="ITree.Basics.CategoryOps.html#iter"><span class="id" title="definition">iter</span></a> (<span class="id" title="var">C</span> := <a class="idref" href="ITree.Core.KTree.html#ktree"><span class="id" title="abbreviation">ktree</span></a> <span class="id" title="var">_</span>) (<span class="id" title="keyword">fun</span> <a id="a:97" class="idref" href="#a:97"><span class="id" title="binder">a</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="r:98" class="idref" href="#r:98"><span class="id" title="binder">r</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#0959d6531a3c2d5ddb2177e5cf7c15a8"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#f:95"><span class="id" title="variable">f</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#a:97"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#0959d6531a3c2d5ddb2177e5cf7c15a8"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ITree.Core.KTreeFacts.html#r:98"><span class="id" title="variable">r</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a'</span> ⇒ <a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a'</span>) ⇒ <a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">b</span>) ⇒ <a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) <a class="idref" href="ITree.Core.KTreeFacts.html#a0:96"><span class="id" title="variable">a0</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">a0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ginit</span>. <span class="id" title="var">pcofix</span> <span class="id" title="var">CIH</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Core.KTreeFacts.html#unfold_iter_ktree"><span class="id" title="lemma">unfold_iter_ktree</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="ITree.Core.KTreeFacts.html#unfold_iter_ktree"><span class="id" title="lemma">unfold_iter_ktree</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Core.KTreeFacts.html#unfold_iter_ktree"><span class="id" title="lemma">unfold_iter_ktree</span></a>, !<a class="idref" href="ITree.Eq.Eq.html#bind_bind"><span class="id" title="lemma">bind_bind</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">guclo</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_clo_bind"><span class="id" title="lemma">eqit_clo_bind</span></a>. <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [| []] ? [].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>, <a class="idref" href="ITree.Eq.Eq.html#bind_tau"><span class="id" title="lemma">bind_tau</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gstep</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pcofix</span> <span class="id" title="var">CIH'</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Core.KTreeFacts.html#unfold_iter_ktree"><span class="id" title="lemma">unfold_iter_ktree</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="ITree.Core.KTreeFacts.html#unfold_iter_ktree"><span class="id" title="lemma">unfold_iter_ktree</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="ITree.Eq.Eq.html#bind_bind"><span class="id" title="lemma">bind_bind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">guclo</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_clo_bind"><span class="id" title="lemma">eqit_clo_bind</span></a>. <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [| []] ? [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_tau"><span class="id" title="lemma">bind_tau</span></a>, <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>. <span class="id" title="var">gstep</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">paco</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>. <span class="id" title="var">gstep</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">paco</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>. <span class="id" title="var">gstep</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gstep</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">paco</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gstep</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a id="IterCodiagonal_ktree" class="idref" href="#IterCodiagonal_ktree"><span class="id" title="instance">IterCodiagonal_ktree</span></a> {<a id="E:100" class="idref" href="#E:100"><span class="id" title="binder">E</span></a>} : <a class="idref" href="ITree.Basics.CategoryTheory.html#IterCodiagonal"><span class="id" title="class">IterCodiagonal</span></a> (<a class="idref" href="ITree.Core.KTree.html#ktree"><span class="id" title="abbreviation">ktree</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#E:100"><span class="id" title="variable">E</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#sum"><span class="id" title="inductive">sum</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.CategoryOps.html#bimap"><span class="id" title="definition">bimap</span></a>, <a class="idref" href="ITree.Basics.CategoryOps.html#Bimap_Coproduct"><span class="id" title="instance">Bimap_Coproduct</span></a>, <a class="idref" href="ITree.Basics.CategoryOps.html#case_"><span class="id" title="definition">case_</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#Case_Kleisli"><span class="id" title="instance">Case_Kleisli</span></a>, <a class="idref" href="ITree.Basics.Function.html#case_sum"><span class="id" title="instance">case_sum</span></a>, <a class="idref" href="ITree.Basics.CategoryOps.html#cat"><span class="id" title="definition">cat</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#Cat_Kleisli"><span class="id" title="instance">Cat_Kleisli</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Core.KTreeFacts.html#iter_codiagonal_ktree"><span class="id" title="lemma">iter_codiagonal_ktree</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Core.KTreeFacts.html#eutt_iter"><span class="id" title="instance">eutt_iter</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eq.html#eutt_clo_bind"><span class="id" title="lemma">eutt_clo_bind</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [| []] ? []; <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="ITree.Eq.Eq.html#tau_eutt"><span class="id" title="lemma">tau_eutt</span></a>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="Iterative_ktree" class="idref" href="#Iterative_ktree"><span class="id" title="instance">Iterative_ktree</span></a> {<a id="E:101" class="idref" href="#E:101"><span class="id" title="binder">E</span></a>} : <a class="idref" href="ITree.Basics.CategoryTheory.html#Iterative"><span class="id" title="class">Iterative</span></a> (<a class="idref" href="ITree.Core.KTree.html#ktree"><span class="id" title="abbreviation">ktree</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#E:101"><span class="id" title="variable">E</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#sum"><span class="id" title="inductive">sum</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Equation&nbsp;merging&nbsp;the&nbsp;sequence&nbsp;of&nbsp;two&nbsp;<span class="inlinecode"><span class="id" title="var">iter</span></span>&nbsp;into&nbsp;one&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="cat_iter" class="idref" href="#cat_iter"><span class="id" title="lemma">cat_iter</span></a>: <br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="E:102" class="idref" href="#E:102"><span class="id" title="binder">E</span></a>: <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>} {<a id="a:103" class="idref" href="#a:103"><span class="id" title="binder">a</span></a> <a id="b:104" class="idref" href="#b:104"><span class="id" title="binder">b</span></a> <a id="c:105" class="idref" href="#c:105"><span class="id" title="binder">c</span></a>} (<a id="f:106" class="idref" href="#f:106"><span class="id" title="binder">f</span></a>: <a class="idref" href="ITree.Core.KTree.html#ktree"><span class="id" title="abbreviation">ktree</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#E:102"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#a:103"><span class="id" title="variable">a</span></a> (<a class="idref" href="ITree.Core.KTreeFacts.html#a:103"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#b:104"><span class="id" title="variable">b</span></a>)) (<a id="g:107" class="idref" href="#g:107"><span class="id" title="binder">g</span></a>: <a class="idref" href="ITree.Core.KTree.html#ktree"><span class="id" title="abbreviation">ktree</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#E:102"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#b:104"><span class="id" title="variable">b</span></a> (<a class="idref" href="ITree.Core.KTreeFacts.html#b:104"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#c:105"><span class="id" title="variable">c</span></a>)), <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.iter"><span class="id" title="definition">ITree.iter</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#f:106"><span class="id" title="variable">f</span></a> <a class="idref" href="ITree.Basics.CategoryOps.html#CatNotations.::cat_scope:x_'&gt;&gt;&gt;'_x"><span class="id" title="notation">&gt;&gt;&gt;</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.iter"><span class="id" title="definition">ITree.iter</span></a> <a class="idref" href="ITree.Core.KTreeFacts.html#g:107"><span class="id" title="variable">g</span></a> <a class="idref" href="ITree.Basics.CategoryOps.html#7616709a5b950d9495abeafce4aed57e"><span class="id" title="notation">⩯</span></a> <a class="idref" href="ITree.Basics.CategoryOps.html#inl_"><span class="id" title="definition">inl_</span></a> <a class="idref" href="ITree.Basics.CategoryOps.html#CatNotations.::cat_scope:x_'&gt;&gt;&gt;'_x"><span class="id" title="notation">&gt;&gt;&gt;</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.iter"><span class="id" title="definition">ITree.iter</span></a> (<a class="idref" href="ITree.Basics.CategoryOps.html#case_"><span class="id" title="definition">case_</span></a> (<a class="idref" href="ITree.Core.KTreeFacts.html#f:106"><span class="id" title="variable">f</span></a> <a class="idref" href="ITree.Basics.CategoryOps.html#CatNotations.::cat_scope:x_'&gt;&gt;&gt;'_x"><span class="id" title="notation">&gt;&gt;&gt;</span></a> <a class="idref" href="ITree.Basics.CategoryOps.html#inl_"><span class="id" title="definition">inl_</span></a>) (<a class="idref" href="ITree.Core.KTreeFacts.html#g:107"><span class="id" title="variable">g</span></a> <a class="idref" href="ITree.Basics.CategoryOps.html#CatNotations.::cat_scope:x_'&gt;&gt;&gt;'_x"><span class="id" title="notation">&gt;&gt;&gt;</span></a> <a class="idref" href="ITree.Basics.CategoryOps.html#inr_"><span class="id" title="definition">inr_</span></a> <a class="idref" href="ITree.Basics.CategoryOps.html#CatNotations.::cat_scope:x_'&gt;&gt;&gt;'_x"><span class="id" title="notation">&gt;&gt;&gt;</span></a> <a class="idref" href="ITree.Basics.CategoryOps.html#assoc_l"><span class="id" title="definition">assoc_l</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;We&nbsp;move&nbsp;to&nbsp;the&nbsp;eworld&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">einit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">a0</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;First&nbsp;coinductive&nbsp;point&nbsp;in&nbsp;the&nbsp;simulation:&nbsp;at&nbsp;the&nbsp;entry&nbsp;point&nbsp;of&nbsp;the&nbsp;iteration&nbsp;over&nbsp;f&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">ecofix</span> <span class="id" title="var">CIH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;We&nbsp;unfold&nbsp;one&nbsp;step&nbsp;on&nbsp;both&nbsp;sides&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;|- <a class="idref" href="ITree.Eq.UpToTaus.html#euttG"><span class="id" title="inductive">euttG</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ?<span class="id" title="var">t</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">remember</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#unfold_iter"><span class="id" title="lemma">unfold_iter</span></a>; <span class="id" title="tactic">subst</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#unfold_iter"><span class="id" title="lemma">unfold_iter</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="ITree.Eq.Eq.html#bind_bind"><span class="id" title="lemma">bind_bind</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ebind</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;We&nbsp;run&nbsp;f&nbsp;a&nbsp;first&nbsp;time&nbsp;on&nbsp;both&nbsp;side&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; [<span class="id" title="tactic">reflexivity</span> | <span class="id" title="tactic">intros</span> [<span class="id" title="var">xa</span> | <span class="id" title="var">xb</span>] ? &lt;-].<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;If&nbsp;we&nbsp;loop&nbsp;back&nbsp;to&nbsp;f,&nbsp;we&nbsp;can&nbsp;conclude&nbsp;by&nbsp;coinduction&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ! <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_tau"><span class="id" title="lemma">bind_tau</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etau</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">CIHL</span> <span class="id" title="var">xa</span>). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">CIHL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|- <a class="idref" href="ITree.Eq.UpToTaus.html#euttG"><span class="id" title="inductive">euttG</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ?<span class="id" title="var">t</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">remember</span> <span class="id" title="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ebase</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;If&nbsp;we&nbsp;exit&nbsp;the&nbsp;first&nbsp;loop&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ! <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;We&nbsp;setup&nbsp;a&nbsp;second&nbsp;coinductive&nbsp;point&nbsp;in&nbsp;the&nbsp;simulation.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;We&nbsp;just&nbsp;make&nbsp;sure&nbsp;to&nbsp;first&nbsp;get&nbsp;rid&nbsp;of&nbsp;the&nbsp;additional&nbsp;tau&nbsp;guard<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;that&nbsp;we&nbsp;have&nbsp;encountered&nbsp;in&nbsp;the&nbsp;right&nbsp;of&nbsp;the&nbsp;equation&nbsp;to&nbsp;keep&nbsp;the&nbsp;second&nbsp;part&nbsp;clean.&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#tau_euttge"><span class="id" title="lemma">tau_euttge</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">xb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ecofix</span> <span class="id" title="var">CIH'</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;We&nbsp;unfold&nbsp;a&nbsp;new&nbsp;step&nbsp;of&nbsp;computation&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#unfold_iter"><span class="id" title="lemma">unfold_iter</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|- <a class="idref" href="ITree.Eq.UpToTaus.html#euttG"><span class="id" title="inductive">euttG</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ?<span class="id" title="var">t</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">remember</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#unfold_iter"><span class="id" title="lemma">unfold_iter</span></a>; <span class="id" title="tactic">subst</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="ITree.Eq.Eq.html#bind_bind"><span class="id" title="lemma">bind_bind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;We&nbsp;run&nbsp;g&nbsp;a&nbsp;first&nbsp;time&nbsp;on&nbsp;both&nbsp;sides&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ebind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; [<span class="id" title="tactic">reflexivity</span> | <span class="id" title="tactic">intros</span> [<span class="id" title="var">xb'</span> | <span class="id" title="var">xc</span>] ? &lt;-].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;We&nbsp;loop&nbsp;back&nbsp;in&nbsp;the&nbsp;second&nbsp;loop&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etau</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">bind_ret_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eret</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ITree.Core.KTreeFacts.html#KTreeIterative"><span class="id" title="section">KTreeIterative</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
